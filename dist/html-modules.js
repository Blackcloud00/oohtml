!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=62)}([function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));const n=new Map;function o(t,...e){var r,o,s=n.get(t);if(!s){if(s=new Map,!1===e[0])return s;n.set(t,s)}for(;r=e.shift();)if((o=s)&&!(s=s.get(r))){if(s=new Map,!1===e[0])return s;o.set(r,s)}return s}},function(t,e,r){"use strict";e.a=function(t){return Array.isArray(t)}},function(t,e,r){"use strict";var n=r(21);e.a=function(t){return Array.isArray(t)||"object"==typeof t&&t||Object(n.a)(t)}},function(t,e,r){"use strict";e.a=function(t){return!Array.isArray(t)&&"object"==typeof t&&t}},function(t,e,r){"use strict";var n=r(21);e.a=function(t){return Object(n.a)(t)||t&&"[object function]"==={}.toString.call(t)}},function(t,e,r){"use strict";var n=r(1),o=r(13),s=r(9),a=r(34),i=r(3);e.a=function(t,e=!0){return Object(n.a)(t)?t:!e&&Object(i.a)(t)?[t]:!1!==t&&0!==t&&Object(a.a)(t)?[]:function(t){return!Object(o.a)(t)&&!Object(s.a)(t.length)}(t)?Array.prototype.slice.call(t):Object(i.a)(t)?Object.values(t):[t]}},function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(13),o=r(9),s=r(4),a=r(5),i=r(25),c=r(16),l=r(11),u=r(14),h=r(35),d=r(1),p=r(22),m=function(t,e=[]){return Object(p.a)([{},t],(t,r,n)=>{if(!Object(s.a)(n[t]))return Object(s.a)(e)?e(t):!Object(d.a)(e)||!e.length||e.indexOf(t)>-1},!1,!1,!1)};class f{static lex(t,e,r={}){if(!Object(n.a)(t+=""))throw new Error("Argument1 must be a string!");var o=t=>({delims:t.delims.slice(),options:m(t.options),nesting:t.nesting.slice(),maxDepth:t.maxDepth,comments:t.comments.slice(),tokens:t.tokens.slice(),matches:t.matches.slice(),matchesi:m(t.matchesi)});if(f.$cache[t]&&!1!==r.cache)for(var s=0;s<f.$cache[t].length;s++){var a=f.$cache[t][s];if(Object(h.a)(a.delims,e))return o(a)}var i=new f(t,r).lex(e);return!1!==r.cache&&(f.$cache[t]=f.$cache[t]||[],f.$cache[t].push(i)),o(i)}static split(t,e,r){return f.lex(t,e,r).tokens}static match(t,e,r){return f.lex(t,e,r).matches}constructor(t,e){if(!Object(n.a)(t))throw new Error("Lexer requires the first argument to be a string.");this.$str=t,this.$options=e||{},this.$options.blocks||(this.$options.blocks=f.$blocks),this.$options.quotes||(this.$options.quotes=f.$quotes),this.$options.comments||(this.$options.comments=f.$comments)}lex(t,e){for(var r={delims:Object(a.a)(t),options:Object(u.a)(!0,{},this.$options,e||{}),nesting:[],maxDepth:0,comments:[],tokens:[],matches:[],matchesi:{}},n=0;"number"==typeof n;)n=this._evalCharsAt(r,n);if(r.nesting.length)throw new Error("Error parsing the string: "+this.$str+". Unterminated blocks: "+Object(i.a)(r.nesting).join(", "));return r}_evalCharsAt(t,e){if(!(e>=this.$str.length)){var r=1,n={},o={},s={};if(t.openComment||(o=this._testQuotes(t,e)),t.openQuote||(n=this._testComments(t,e)),t.openComment||n.ending)if(t.nesting.length||s.ending)this._push(t,this.$str[e]);else r=(i=n.starting||n.ending||this.$str[e]).length,this._push(t,i,"comments",n.starting);else if(t.openQuote||o.ending)this._push(t,this.$str[e]);else{if(t.options.limit&&t.matches.length===t.options.limit)return this._push(t,this.$str[e]),e+1;s=this._testNesting(t,e);s=this._testNesting(t,e);var a=this._testChars(t.options.stopChars||[],t,e);if(!t.nesting.length&&!1!==a)return t.options.stopChar=a,void(t.options.stopCharForward=this.$str.substr(e));if(t.delims.length)if(t.nesting.length||s.ending){var i;r=(i=s.starting||s.ending||this.$str[e]).length,this._push(t,i)}else{this._push(t,"");var c=this._testChars(t.delims,t,e);if(!1!==c&&(t.matches.push(c),t.matchesi[e]=c,r=c.length||1,!t.options.preserveDelims)){var l=e+(c.length||1);return l===this.$str.length&&this._push(t,""),l}this._push(t,c||this.$str[e])}else 2===t.nesting.length&&s.starting?(t.matches.push(null),this._push(t,s.starting),r=s.starting.length):!t.nesting.length&&s.ending?(this._push(t,s.ending),r=s.ending.length,t.matches.push(null)):this._push(t,this.$str[e])}return e+r}}_testQuotes(t,e){var r={};return(t.options.quotes||[]).forEach(n=>{this.$str.substr(e,1)===n&&(t.openQuote?n===t.openQuote&&(t.openQuote=!1,r.ending=n):(t.openQuote=n,r.starting=n))}),r}_testComments(t,e){var r={};return(t.options.comments||[]).forEach(n=>{if(t.openComment){if(Object(l.a)(n)===Object(l.a)(t.openComment)){var o=Object(l.a)(n);this.$str.substr(e).startsWith(o)&&(t.openComment=!1,r.ending=o)}}else{var s=Object(c.a)(n);this.$str.substr(e).startsWith(s)&&(t.openComment=n,r.starting=s)}}),r}_testNesting(t,e){var r={};return(t.options.blocks||[]).forEach(n=>{var o=Object(c.a)(n);if(this.$str.substr(e).startsWith(o))t.nesting=t.nesting.concat([n]),r.starting=o;else if(t.nesting.length&&Object(l.a)(n)===Object(l.a)(Object(l.a)(t.nesting))){var s=Object(l.a)(n);this.$str.substr(e).startsWith(s)&&(t.nesting=t.nesting.slice(0,-1),r.ending=s)}}),t.maxDepth=Math.max(t.maxDepth,t.nesting.length),r}_testChars(t,e,r){for(var n=0;n<t.length;n++){var o=t[n];if(Object(s.a)(o)){var a=o(this.$str.substr(0,r),this.$str.substr(r));if(!1!==a)return a}if(e.options.useRegex){var i=this.$str.substr(r).match(new RegExp("^"+o,!0!==e.options.useRegex?e.options.useRegex:""));if(i)return i[0]}if(!e.options.ci&&this.$str.substr(r,o.length)===o||e.options.ci&&this.$str.substr(r,o.length).toLowerCase()===o.toLowerCase())return o}return!1}_push(t,e,r="tokens",n=!1){var s=t.matches.length;if(Object(o.a)(t.tokens[s])&&(t.tokens[s]=""),"comments"===r){t.tokens[s].comments||(t.tokens[s]=new String(t.tokens[s]),t.tokens[s].comments=[]);var a=t.tokens[s].comments.length-(!t.tokens[s].comments.length||n?0:1);t.tokens[s].comments[a]=(t.tokens[s].comments[a]||"")+e}else{t.tokens[s].comments;t.tokens[s]=t.tokens[s]+e}}split(t,e,r){return this.lex(e,r).tokens}match(t,e,r){return this.lex(e,r).matches}regParse(t,e){return this.lex(t,Object(u.a)({useRegex:!0},e||{}))}regSplit(t,e){return this.regParse(t,e).tokens}regMatch(t,e){return this.regParse(t,e).matches}}f.$blocks=[["(",")"],["[","]"],["{","}"]],f.$quotes=['"',"'","`"],f.$comments=[["/*","*/"],["//","\n"]],f.$cache={}},,function(t,e,r){"use strict";var n=r(15);e.a=function(t){return Object(n.a)(t)||!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)}},function(t,e,r){"use strict";e.a=function(t){return arguments.length&&(void 0===t||void 0===t)}},,function(t,e,r){"use strict";var n=r(16);e.a=function(t,e=1){return arguments.length>1?Object(n.a)(t.slice().reverse(),e).reverse():Object(n.a)(t.slice().reverse())}},function(t,e,r){"use strict";var n=r(2),o=r(8);e.a=function(t,e){var r=void 0;return Object(n.a)(t)&&Object.keys(t).forEach((n,s)=>{!1!==r&&(r=e(Object(o.a)(n)?parseFloat(n):n,t[n],s))}),r}},function(t,e,r){"use strict";e.a=function(t){return t instanceof String||"string"==typeof t&&null!==t}},function(t,e,r){"use strict";var n=r(22);e.a=function(...t){return Object(n.a)(t,(t,e,r)=>!0,!1,!1,!1)}},function(t,e,r){"use strict";e.a=function(t){return t instanceof Number||"number"==typeof t}},function(t,e,r){"use strict";e.a=function(t,e=1){var r=0;t.forEach(t=>{r++});var n=t.slice(t.length-r,e);return arguments.length>1?n:n[0]}},function(t,e,r){"use strict";var n=r(18),o=r(23);e.a=function(t,e,r){return function(t,e){return Object(o.a)(t,e,!0)}(Object(n.a)(t,e),r)}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?"":t.substr(n+e.length)}},function(t,e,r){"use strict";var n=function(t){return!Array.isArray(t)&&"object"==typeof t&&t};var o=function(){if(!(n(this)&&this.window||"undefined"!=typeof window))throw new Error("A window context is required.");const t=n(this)&&this.window?this.window:window;if(t.WebQit||(t.WebQit={}),!t.WebQit.window){let e,r;Object.defineProperty(t.WebQit,"window",{get:()=>t}),Object.defineProperty(t.WebQit,"vendor",{value:{getName:()=>(e||(e=function(t){if(void 0!==t.InstallTrigger)return"firefox";if(/constructor/i.test(t.HTMLElement)||"[object SafariRemoteNotification]"===(!t.safari||void 0!==t.safari&&t.safari.pushNotification).toString())return"safari";var e=!(!t.chrome||!t.chrome.webstore&&!t.chrome.runtime),r=e&&-1!=t.navigator.userAgent.indexOf("Edg"),n=!!t.opr&&!!t.opr.addons||!!t.opera||t.navigator.userAgent.indexOf(" OPR/")>=0,o=!!t.document.documentMode,s=!o&&!!t.StyleMedia;return(e||n)&&t.CSS,s?"edge":o?"ie":n?"opera":r?"ie-chromium":e?"chrome":"unknown"}(t)),e),getPrefix:()=>(r||(r=function(t){var e=t.getComputedStyle(t.document.documentElement,""),r=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.Olink&&["","o"])[1];return{api:("WebKit|Moz|Ms|O".match(new RegExp("("+r+")","i"))||[])[1],prefix:r,css:"-"+r+"-"}}(t)),r)}})}return t.WebQit},s=function(t){return"function"==typeof t},a=function(t){return Array.isArray(t)||"object"==typeof t&&t||s(t)},i=function(t){return function(t){return t instanceof Number||"number"==typeof t}(t)||!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)};class c{constructor(t,e=!0){this.window=t,this.async=e,this.readCallbacks=[],this.writeCallbacks=[],this._run()}_run(){this.window.requestAnimationFrame(()=>{this.readCallbacks.forEach((t,e)=>{t&&!t()&&(this.readCallbacks[e]=null)}),this.writeCallbacks.forEach((t,e)=>{t&&!t()&&(this.writeCallbacks[e]=null)}),this._run()})}onread(t,e=!1){if(e)return new Promise((e,r)=>{!1===this.async?t(e,r):this.readCallbacks.push(()=>{t(e,r)})});!1===this.async?t():this.readCallbacks.push(t)}onwrite(t,e=!1){if(e)return new Promise((e,r)=>{!1===this.async?t(e,r):this.writeCallbacks.push(()=>{t(e,r)})});!1===this.async?t():this.writeCallbacks.push(t)}cycle(t,e,r){this.onread(()=>{var n=t(r);if(n){var o=n=>{this.onwrite(()=>{var o=e(n,r);if(o){var s=r=>{this.cycle(t,e,r)};o instanceof Promise?o.then(s):s()}})};n instanceof Promise?n.then(o):o()}})}}var l=function(t){return t instanceof String||"string"==typeof t&&null!==t},u=function(t){return Array.isArray(t)},h=function(t){return arguments.length&&(void 0===t||void 0===t)},d=function(t){return null===t||""===t},p=function(t,e=!0){return u(t)?t:!e&&n(t)?[t]:!1!==t&&0!==t&&function(t){return d(t)||h(t)||!1===t||0===t||a(t)&&!Object.keys(t).length}(t)?[]:function(t){return!l(t)&&!h(t.length)}(t)?Array.prototype.slice.call(t):n(t)?Object.values(t):[t]},m=function(t){const e=o.call(this);e.DOM.isDOMReady||"complete"===e.window.document.readyState?t(e.window):(e.window.domReadyCallbacks||(e.window.domReadyCallbacks=[],e.window.document.addEventListener("DOMContentLoaded",()=>{e.DOM.isDOMReady=!0,e.window.domReadyCallbacks.splice(0).forEach(t=>t(e.window))},!1)),e.window.domReadyCallbacks.push(t))};class f{constructor(t){this.window=t}onAdded(t,e,r={}){return r.on="added",this.onPresenceChange(t,(t,r,n,o,s)=>{e(t,r,n,o,s)},r)}onRemoved(t,e,r={}){return r.on="removed",this.onPresenceChange(t,(t,r,n,o,s)=>{e(t,r,n,o,s)},r)}onPresent(t,e,r={}){m.call(this.window,()=>{this.window.MutationObserver&&this.onAdded(t,(t,r)=>{t.forEach(t=>e(t,r))},r),l(t)?p(this.window.document.querySelectorAll(t)).forEach(t=>e(t,1)):t.parentNode&&e(t,1)})}onAbsent(t,e,r={}){m.call(this.window,()=>{this.window.MutationObserver&&onRemoved(t,(t,r)=>{t.forEach(t=>e(t,r))},r),l(t)?0===p(this.window.document.querySelectorAll(t)).length&&e(null,0):t.parentNode||e(t,0)})}onPresenceChange(t,e,r={}){t=p(t,!1);var n=(t,e)=>(e.$$searchCache||(e.$$searchCache=new Map),t.reduce((t,n)=>{var o;return e.$$searchCache.has(n)?o=e.$$searchCache.get(n):(o=((t,e)=>{if(e=e.filter(t=>t.matches),l(t)){var n=e.filter(e=>e.matches(t));if(!1!==r.observeIndirectMutation&&(n=e.reduce((e,r)=>e.concat(p(r.querySelectorAll(t))),n)).length)return n}else{if(e.includes(t))return[t];if(!1!==r.observeIndirectMutation&&e.length)for(var o=t;o=o.parentNode;)if(e.includes(o))return[t]}})(n,e,l(n))||[],e.$$searchCache.set(n,o)),t.concat(o)},[])),o=new Set,s=new Set,a=(a,i,c)=>{i&&"removed"===r.on||!i&&"added"===r.on||(a=n(t,a)).length&&(r.maintainCallState?(a.forEach(t=>{i?(o.add(t),s.delete(t)):(o.delete(t),s.add(t))}),e(a,i,c,o,s)):e(a,i,c))},i=r.context||this.window.document.documentElement;return this._observe(i,(t,e,n,o)=>{r.ignoreTransients||(a(t,0,!0),a(t.concat(e),1,!0),a(e,0,!0)),a(o,0),a(n,1)})}onAttrChange(t,e,r=[]){var n=new this.window.MutationObserver(e),o={attributes:!0,attributeOldValue:!0};return r&&(o.attributeFilter=r),n.observe(t,o),n}onTreeChange(t,e,r=!1){var n=new this.window.MutationObserver(e),o={childList:!0,subtree:r};return n.observe(t,o),n}onMutation(t,e,r){var n=new this.window.MutationObserver(e);return n.observe(t,r),n}_observe(t,e){if(!b.has(t)){const e=new Set,r=new this.window.MutationObserver(t=>{if(e.size){var r=t.reduce((t,e)=>t.concat(p(e.addedNodes)),[]),n=t.reduce((t,e)=>t.concat(p(e.removedNodes)),[]),o=[],s=[];r=new Set(r),n=new Set(n),r.forEach(t=>{n.has(t)&&(n.delete(t),r.delete(t),t.isConnected?o.push(t):s.push(t))}),r=[...r],n=[...n],e.forEach(t=>t(o,s,r,n))}});r.observe(t,{childList:!0,subtree:!0}),b.set(t,{callbacks:e,observer:r})}const r=b.get(t);return r.callbacks.add(e),{disconnect(){r.callbacks.delete(e)},reconnect(){r.callbacks.add(e)}}}}const b=new Map;var g=function(t){!function(t){t.CSS||(t.CSS={});t.CSS.escape||(t.CSS.escape=t=>t.replace(/([\:@\~\$\&])/g,"\\$1"))}(t),function(t){"isConnected"in t.Node.prototype||Object.defineProperty(t.Node.prototype,"isConnected",{get:function(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}(t),function(t){t.Element.prototype.matches||(t.Element.prototype.matches=t.Element.prototype.matchesSelector||t.Element.prototype.mozMatchesSelector||t.Element.prototype.msMatchesSelector||t.Element.prototype.oMatchesSelector||t.Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1})}(t)};function O(t,e=null,r=!1){const n=o.call(this);if(l(t)){var s;if(t.trim().startsWith("<")){var a=n.window.document.createElement("div");a.innerHTML=t,s=r?p(a.children):a.firstChild}else s=r?p(w.call(this,t,e)):j.call(this,t,e);return s}return t instanceof n.window.Element?r?[t]:t:r?p(t):t}function v(t,e=null){return O.call(this,t,e,!0)}function j(t,e=null,r=!1){const n=o.call(this);e=e||n.window.document;var s,a=r?"querySelectorAll":"querySelector";try{s=e[a](t)}catch(r){try{s=e[a](t.replace(/\:is\(/g,":matches("))}catch(r){try{s=e[a](t.replace(/\:is\(/g,":-webkit-any("))}catch(r){try{s=e[a](t.replace(/\:is\(/g,":-moz-any("))}catch(t){throw t}}}}return s}function w(t,e=null){return j.call(this,t,e,!0)}var y=function(t){return s(t)||t&&"[object function]"==={}.toString.call(t)};var E=function(t,e,r={},n={}){e=p(e).slice();for(var o=t;!h(o)&&!d(o)&&e.length;){var s=e.shift();if(!(r.get?r.get(o,s):a(o)?s in o:o[s]))return void(n.exists=!1);o=r.get?r.get(o,s):o[s]}return n.exists=!0,o},x=function(t,e,r,n={},o={}){const s=(t,r,n)=>o.set?o.set(t,r,n):(i(e[l])&&u(t)?t.push(n):t[r]=n,!0);e=p(e);for(var c=t,l=0;l<e.length;l++){if(!(l<e.length-1))return s(c,e[l],r);if(!c||!a(c)&&!y(c))return!1;var h=E(c,e[l],o);if(!a(h)){if(!1===o.buildTree)return!1;if(h=y(o.buildTree)?o.buildTree(l):i(e[l+1])?[]:{},!s(c,e[l],h))return!1}c=h}},k=function(t,e,r=!1,n={}){e=p(e);var o=!1;do{var s=""===(s=e.pop())?0:s,i=t;e.length&&(i=E(t,e,{},n)),(a(i)||y(i))&&(n.has?n.has(i,s):s in i)&&(n.deleteProperty?o=n.deleteProperty(i,s):n.del?o=n.del(i,s):(delete i[s],o=!0))}while(o&&r&&e.length&&(a(i)||y(i))&&!(n.keys?n.keys(i):Object.keys(i)).length);return o};function C(t,e=!1){const r=o.call(this);var s={};return!(s.el=r.window.document.head.querySelector('meta[name="oohtml"]'))&&e&&(s.el=r.window.document.createElement("meta"),s.el.setAttribute("name",t),r.window.document.head.append(s.el)),s.el&&(s.vars=(s.el.getAttribute("content")||"").split(";").filter(t=>t).reduce((t,e)=>{var r=e.split("=").map(t=>t.trim());return x(t,r[0].split("."),"true"===r[1]||"false"!==r[1]&&(i(r[1])?parseInt(r[1]):r[1])),t},{})),s.get=function(t){return E(this.vars,t.split("."))},s.set=function(t,r=null,o=!1){var s=n(t)?t:{[t]:!0===r?"true":r};if(o=arguments.length<3?r:o,Object.keys(s).forEach(t=>{if(!1===s[t])k(this.vars,t.split("."));else if(n(s[t]))Object.keys(s[t]).forEach(e=>{var r=(t+"."+e).split(".");o&&E(this.vars,r)||x(this.vars,r,s[t][e])});else{var e=t.split(".");o&&E(this.vars,e)||x(this.vars,e,s[t])}}),e){const t=(e,r)=>Object.keys(r).reduce((o,s)=>{var a=(e?e+".":"")+s;return n(r[s])?o.push(...t(a,r[s])):o.push(a+"="+r[s]),o},[]);this.el.setAttribute("content",t("",this.vars).join(";"))}return!0},s.defaults=function(t,e=null){return this.set(t,e,!0)},s}e.a=function(){const t=o.call(this);return t.DOM||(t.DOM={},g(t.window),t.DOM.reflow=new c(t.window),t.DOM.mutations=new f(t.window),t.DOM.meta=C.bind(t.window),t.DOM.query=O.bind(t.window),t.DOM.queryAll=v.bind(t.window),t.DOM.ready=m.bind(t.window)),t}},function(t,e,r){"use strict";e.a=function(t,e,r){return t.startsWith(e)&&t.endsWith(r)}},function(t,e,r){"use strict";e.a=function(t){return"function"==typeof t}},function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(1),o=r(4),s=r(3),a=r(2),i=r(8),c=function(t,e){var r=[];return function(t,e){e=(e=e||Object.prototype)&&!Object(n.a)(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r}(t,e).forEach(t=>{!function(t,...e){e.forEach(e=>{t.indexOf(e)<0&&t.push(e)})}(r,...Object.getOwnPropertyNames(t))}),r};function l(t,e,r=!1,u=!1,h=!1){var d=0,p=t.shift();if((Object(i.a)(p)||!0===p||!1===p)&&(d=p,p=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,m)=>{(Object(a.a)(t)||Object(o.a)(t))&&(r?c(t):Object.getOwnPropertyNames(t)).forEach(o=>{if(e(o,p,t,m)){var a=p[o],c=t[o];if((Object(n.a)(a)&&Object(n.a)(c)||Object(s.a)(a)&&Object(s.a)(c))&&(!0===d||d>0))p[o]=Object(n.a)(a)&&Object(n.a)(c)?[]:{},l([Object(i.a)(d)?d-1:d,p[o],a,c],e,r,u,h);else if(Object(n.a)(p)&&Object(n.a)(t))u?p[o]=c:p.push(c);else try{h?Object.defineProperty(p,o,Object.getOwnPropertyDescriptor(t,o)):p[o]=t[o]}catch(t){}}})}),p}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?t:t.substr(0,n)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return l})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return d}));var n=r(19),o=r(14),s=r(6),a=r(20),i=r(17),c=(r(23),r(18),r(5));r(0);function l(t,e={}){const r=n.a.call(this);return r.OOHTML.meta||(r.OOHTML.meta=r.DOM.meta("oohtml",!0)),r.OOHTML.meta.defaults(Object(o.a)(3,t,e)),r.OOHTML.meta}function u(t,e,r,n=null){var o=e.split("#")[0].split("/").map(t=>t.trim()).filter(t=>t);return f(t,o,r,n)}function h(t){var e=s.a.split(t.trim(),[":"]);return[t=e.shift(),e.reduce((t,e)=>{var[r,n]=s.a.split(e.trim(),[]);return t[r]=Object(i.a)(n,"(",")"),t},{})]}function d(t,e){return e=e.split("#")[0].split("/").map(t=>t.trim()).filter(t=>t),!!(t=t.split("#")[0].split("/").map(t=>t.trim()).filter(t=>t)).length&&t.reduce((t,r,n)=>!!t&&s.a.split(r.trim(),["|","+"]).reduce((t,r)=>{var[r,o]=h(r),s=(r=r.trim())===e[n];if(!s&&("deep"in o||"deepest"in o)){var a=e.slice(n+1).reduce((t,e,n)=>t>-1&&"deep"in o?t:e===r?n:t,-1);if(a>-1){e.splice(n,a+1);s=!0}}return t||s},!1),!0)}const p=(t,e)=>s.a.split(t.trim(),["|","+"],{preserveDelims:!0}).reduce((t,r)=>{var n;return(r.startsWith("|")||r.startsWith("+"))&&(n=r.substr(0,1),r=r.substr(1).trim()),t.theEnd||"|"===n&&t.length?(t.theEnd=!0,t):t.concat(e(r.trim()))},[]).filter(t=>t),m=(t,e,r)=>{const n=t=>t.reduce((t,e)=>t.concat(r(e).values()),[]);return p(e,e=>{var[e,o]=h(e);return t.reduce((t,s)=>{var l=r(s);"*"===e&&(e="("+l.keys().join("+")+")");var u=Object(a.a)(e,"(",")")?m([s],Object(i.a)(e,"(",")"),r):Object(c.a)(l.get(e),!1),h=[];return Object.keys(o).forEach(t=>{if("deep"===t||"deepest"===t)for(var a=[s];("deepest"===t||!u.length)&&(a=n(a)).length;){var i=m(a,`${e}${h.map(t=>`:${t}(${o[t]})`).join("")}`,r);i.length&&(u=i)}else"having"!==t&&"not-having"!==t||(u=u.filter(e=>{var n=p(o[t],t=>r(e,t));return"not-having"===t?!n.length:n.length})),h.push(t)}),t.concat(u)},[])})},f=function(t,e,r,n=null,o=0){if(!e.length)return[];var s,a=e.shift();a.endsWith(".")&&(s=!0,a=a.substr(0,a.length-1).trim());var i=m(t,a,r);if(i.length&&s)return i;if(e.length){var c=f(i,e.slice(),r,n,o+1);return-1===c?n(i,o,!0):c}return n?n(i,o):i}},function(t,e,r){"use strict";var n=r(1),o=r(3),s=r(8);const a=function(t,e=1,r=!0){return!Object(s.a)(e)||e<=0?t:(!Object(n.a)(t)&&Object(o.a)(t)&&r&&(t=Object.values(t)),Object(n.a)(t)?t.reduce((t,s)=>Object(n.a)(s)||Object(o.a)(s)&&r?t.concat(a(Object(n.a)(s)?s:Object.values(s),e-1,r)):t.concat(s),[]):t)};e.a=a},,,function(t,e,r){"use strict";e.a=function(t,e,r=!1){for(var n=t.indexOf(e);n>-1&&(r||!1===r);)t.splice(n,1),r>0&&r--,n=t.indexOf(e);return t}},,function(t,e,r){"use strict";e.a=function(t){return null===t||""===t}},,,,function(t,e,r){"use strict";var n=r(30),o=r(9),s=r(2);e.a=function(t){return Object(n.a)(t)||Object(o.a)(t)||!1===t||0===t||Object(s.a)(t)&&!Object.keys(t).length}},function(t,e,r){"use strict";var n=r(15),o=r(1),s=r(3),a=r(2),i=r(4),c=function(t){return Object(s.a)(t)&&Object.getPrototypeOf(t)===Object.prototype},l=function(t){return!0===t||!1===t},u=r(12);const h=function(t,e,r=!0,d=1){if(Object(o.a)(t)&&Object(o.a)(e)&&t.length!==e.length)return!r;if(Object(s.a)(t)&&Object(s.a)(e)){var p=Object.keys(t),m=Object.keys(e);if(!p.length&&!m.length)return c(t)&&c(e)?r:t===e===r;if(!h(p,m))return!r}if(d>0&&(Object(o.a)(t)&&Object(o.a)(e)||Object(s.a)(t)&&Object(s.a)(e))){var f=function(t,e,r=!0,n=!0,i=!1,c=!1){if(Object(o.a)(t)&&Object(o.a)(e)){var h=[],d=!0;return t.forEach(t=>{if(d){var p=!1;Object(u.a)(e,(e,i)=>{(!p||n&&Object(a.a)(t))&&(p=r(t,i),(Object(o.a)(p)&&!p.length||Object(s.a)(p)&&!Object.keys(p).length)&&(p=!1),Object(a.a)(p)&&n&&(t=p))}),Object(a.a)(p)?h.push(n?p:t):l(p)?i&&!p||!i&&p?h.push(t):c&&(d=!1):h.push(p)}}),h}if(Object(s.a)(t)&&Object(s.a)(e)){h={},d=!0;return Object.keys(t).forEach(u=>{if(d){var p=r(t[u],e[u]);(Object(o.a)(p)&&!p.length||Object(s.a)(p)&&!Object.keys(p).length)&&(p=!1),Object(a.a)(p)?h[u]=n?p:t[u]:l(p)?i&&!p||!i&&p?h[u]=t[u]:c&&(d=!1):h[u]=p}}),h}}(t,e,(t,e)=>h(t,e,r,d-1),!1,!1,!0);return Object(o.a)(f)?f.length===t.length&&f.length===e.length:Object(s.a)(f)&&Object(s.a)(t)?Object.keys(f).length===Object.keys(t).length&&Object.keys(f).length===Object.keys(e).length:f}return Object(i.a)(r)?r(t,e):Object(n.a)(t)&&Object(n.a)(e)&&isNaN(t)&&isNaN(e)?r:t===e===r};e.a=h},,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r(34);var n=r(5),o=r(28),s=(r(12),r(0)),a=r(19),i=r(24);function c(t=null,e=!1){const r=a.a.call(this);if(e)return void r.DOM.ready(()=>{c.call(this,t,!1)});const l=r.window,u=r.window.document,h=r.DOM.mutations,d=i.a.call(this,{element:{template:"",export:"export",import:"import"},attr:{moduleid:"name",moduleref:"template",exportid:"name",exportgroup:"exportgroup"},api:{templateClass:"",templates:"templates",exports:"exports",moduleref:"template"}},t),p="template"+(d.get("element.template")?'[is="'+d.get("element.template")+'"]':"")+"["+l.CSS.escape(d.get("attr.moduleid"))+"]";var m=l.HTMLTemplateElement;if(d.get("api.templateClass")){if(!l[d.get("api.templateClass")])throw new Error('The custom element class "'+d.get("api.templateClass")+'" is not defined!');m=l[d.get("api.templateClass")]}const f=(t,e,r)=>{"templatemutation"===t&&(["addedExports","removedExports"].forEach(t=>{Object.defineProperty(e,t,{value:Object.keys(e[t]).map(r=>({name:r,items:e[t][r]}))})}),["addedTemplates","removedTemplates"].forEach(t=>{Object.defineProperty(e,t,{value:Object.keys(e[t]).map(r=>({name:r,item:e[t][r]}))})})),Object.defineProperty(e,"path",{value:r}),u.dispatchEvent(new l.CustomEvent(t,{detail:e}))},b=(t,e)=>{const r=r=>{t.dispatchEvent(new l.CustomEvent(r,{detail:{path:e}}))};var n=t.getAttribute("src");return new Promise((o,s)=>{l.fetch?l.fetch(n).then(t=>t.ok?t.text():Promise.reject(t.statusText)).then(n=>{t.innerHTML=n,r("load"),f("templatecontentloaded",{template:t},e),o(t)}).catch(s=>{console.error("Error fetching the bundle at "+n+". ("+s+")"),t.innerHTML="",r("loaderror"),f("templatecontentloaderror",{template:t},e),o(t)}):(o(),console.error("Error fetching the bundle at "+n+". (window.fetch() not supported by browser.)"))})},g=(t,e,r,a=null,i=!0)=>{const c=(t,a,i,c)=>{var l;if(t.matches)if(t.matches(p)&&(l=t.getAttribute(d.get("attr.moduleid")))&&j(l)){var u=(r?r+"/":"")+l;"removed"===i?(Object(s.a)(e,"oohtml","templates").delete(l),Object(s.a)(e,"oohtml").get("parentTemplate")===e&&Object(s.a)(e,"oohtml").delete("parentTemplate"),a&&(a.removedTemplates[l]=t)):"added"===i&&(Object(s.a)(e,"oohtml","templates").set(l,t),Object(s.a)(t,"oohtml").set("parentTemplate",e),a&&(a.addedTemplates[l]=t)),g(t.content,t,u,i,c)}else{const r=t=>{var r=t.getAttribute(d.get("attr.exportgroup"))||"default";"removed"===i?Object(s.a)(e,"oohtml","exports").has(r)&&(Object(o.a)(Object(s.a)(e,"oohtml","exports").get(r),t),Object(s.a)(e,"oohtml","exports").has(r).length||Object(s.a)(e,"oohtml","exports").delete(r),a&&(a.removedExports[r]||(a.removedExports[r]=[]),a.removedExports[r].push(t))):"added"===i&&(Object(s.a)(e,"oohtml","exports").has(r)||Object(s.a)(e,"oohtml","exports").set(r,[]),Object(s.a)(e,"oohtml","exports").get(r).push(t),a&&(a.addedExports[r]||(a.addedExports[r]=[]),a.addedExports[r].push(t)))};if(t.matches(d.get("element.export"))){var h=t.getAttribute(d.get("attr.exportid"))||"default";Object(n.a)(t.children).forEach(t=>{t.setAttribute(d.get("attr.exportgroup"),h),r(t)})}else r(t)}};e.modulemutationsType=a;const u={addedTemplates:Object.create(null),removedTemplates:Object.create(null),addedExports:Object.create(null),removedExports:Object.create(null)};(Object(n.a)(t.children).forEach(t=>c(t,u,a,i)),i&&f("templatemutation",u,r),"added"!==a||Object(s.a)(e,"oohtml").get("onLiveMode"))||(Object(s.a)(e,"oohtml").set("onLiveMode",!0),e.getAttribute("src")&&!e.content.children.length&&O.push(b(e,r)),h.onAttrChange(e,t=>{t[0].target.getAttribute(t[0].attributeName)!==t[0].oldValue&&b(e,r)},["src"]),new l.MutationObserver(t=>{const e={addedTemplates:Object.create(null),removedTemplates:Object.create(null),addedExports:Object.create(null),removedExports:Object.create(null)};t.forEach(t=>{t.addedNodes.forEach(t=>c(t,e,"added",!0)),t.removedNodes.forEach(t=>c(t,e,"removed",!0))}),f("templatemutation",e,r)}).observe(t,{childList:!0}))};if(d.get("api.templates")in u)throw new Error('document already has a "'+d.get("api.templates")+'" property!');const O=[];if(Object.defineProperty(u,d.get("api.templates"),{get:function(){return v(Object(s.a)(u,"oohtml","templates"))}}),d.get("api.templates")in m.prototype)throw new Error('The "HTMLTemplateElement" class already has a "'+d.get("api.templates")+'" property!');if(Object.defineProperty(m.prototype,d.get("api.templates"),{get:function(){return v(Object(s.a)(this,"oohtml","templates"))}}),d.get("api.exports")in m.prototype)throw new Error('The "HTMLTemplateElement" class already has a "'+d.get("api.exports")+'" property!');Object.defineProperty(m.prototype,d.get("api.exports"),{get:function(){return v(Object(s.a)(this,"oohtml","exports"))}});const v=t=>Object.defineProperties({},Array.from(t.keys()).reduce((e,r)=>(e[r]={get:()=>t.get(r)},e),{})),j=t=>{var e;return!(e=t.match(/([^a-zA-Z0-9\_\-\@])/))||(console.error(`Invalid character "${e}" in the module name: ${t}.`),!1)};if(Object(n.a)(u.querySelectorAll(p)).forEach(async t=>{var e=t.getAttribute(d.get("attr.moduleid"));!t.closest(d.get("element.import"))&&j(e)&&(Object(s.a)(u,"oohtml","templates").set(e,t),g(t.content,t,e,"added",!1))}),h.onPresenceChange(p,async(t,e)=>{const r={addedTemplates:Object.create(null),removedTemplates:Object.create(null),addedExports:Object.create(null),removedExports:Object.create(null)};t.forEach(t=>{var n=t.getAttribute(d.get("attr.moduleid"));!t.closest(d.get("element.import"))&&j(n)&&(e?(Object(s.a)(u,"oohtml","templates").set(n,t),g(t.content,t,n,"added"),r.addedTemplates[n]=t):(Object(s.a)(u,"oohtml","templates").get(n)===t&&Object(s.a)(u,"oohtml","templates").delete(n),g(t.content,t,n,"removed"),r.removedTemplates[n]=t))}),f("templatemutation",r,"")}),h.onPresent(d.get("element.import"),t=>{g(t,t,"","added",!1)}),d.get("api.moduleref")in l.Element.prototype)throw new Error('The "Element" class already has a "'+d.get("api.moduleref")+'" property!');Object.defineProperty(l.Element.prototype,d.get("api.moduleref"),{get:function(){var t;if(!Object(s.a)(this,"oohtml").has("module")&&(t=this.getAttribute(d.get("attr.moduleref")))){var e=u.createElement("template");Object(i.d)([u],t,(function(t,e){var r=Object(s.a)(t,"oohtml","templates");return 1===arguments.length?r:e.startsWith(":")?Object(s.a)(t,"oohtml","exports").get(e.substr(1)):r.get(e)})).forEach(t=>{Object(s.a)(t,"oohtml","exports").forEach((t,r)=>{Object(s.a)(e,"oohtml","exports").has(r)||Object(s.a)(e,"oohtml","exports").set(r,[]),Object(s.a)(e,"oohtml","exports").get(r).push(...t)})}),Object(s.a)(this,"oohtml").set("module",e)}return Object(s.a)(this,"oohtml").get("module")}});var w=O.length?"loading":"indeterminate";Object.defineProperty(u,"templatesReadyState",{get:()=>w}),r.DOM.ready.call(r,()=>(O.forEach(t=>{t.catch(t=>{console.warn(t)})}),Promise.all(O).then(()=>{w="complete",u.dispatchEvent(new l.Event("templatesreadystatechange"))})))}},,,,,,,function(t,e,r){"use strict";r.r(e),r(55).a.call(window)}]);
//# sourceMappingURL=html-modules.js.map