!function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=72)}([function(t,e,r){"use strict";e.a=function(t){return Array.isArray(t)}},function(t,e,r){"use strict";e.a=function(t){return!Array.isArray(t)&&"object"==typeof t&&t}},function(t,e,r){"use strict";var n=r(22);e.a=function(t){return Object(n.a)(t)||t&&"[object function]"==={}.toString.call(t)}},function(t,e,r){"use strict";function n(t,...e){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var r,n,s=globalThis.WebQitInternalsRegistry.get(t);if(!s){if(s=new Map,!1===e[0])return s;globalThis.WebQitInternalsRegistry.set(t,s)}for(;r=e.shift();)if((n=s)&&!(s=s.get(r))){if(s=new Map,!1===e[0])return s;n.set(r,s)}return s}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";var n=r(22);e.a=function(t){return Array.isArray(t)||"object"==typeof t&&t||Object(n.a)(t)}},function(t,e,r){"use strict";var n=r(0),s=r(38),a=r(34),o=r(1);e.a=function(t,e=!0){return Object(n.a)(t)?t:!e&&Object(o.a)(t)?[t]:!1!==t&&0!==t&&Object(a.a)(t)?[]:Object(s.a)(t)?Array.prototype.slice.call(t):Object(o.a)(t)?Object.values(t):[t]}},function(t,e,r){"use strict";var n=r(15);e.a=function(t,e=1){return arguments.length>1?Object(n.a)(t.slice().reverse(),e).reverse():Object(n.a)(t.slice().reverse())}},function(t,e,r){"use strict";e.a=function(t){return arguments.length&&(void 0===t||void 0===t)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r(13),s=r(7),a=r(2),o=r(5),i=r(28),c=r(15),l=r(6),u=r(14),h=r(35),d=r(33);class p{static lex(t,e,r={}){if(!Object(n.a)(t+=""))throw new Error("Argument1 must be a string!");var s=t=>({delims:t.delims.slice(),options:Object(d.a)(t.options),nesting:t.nesting.slice(),maxDepth:t.maxDepth,comments:t.comments.slice(),tokens:t.tokens.slice(),matches:t.matches.slice(),matchesi:Object(d.a)(t.matchesi)});if(p.$cache[t]&&!1!==r.cache)for(var a=0;a<p.$cache[t].length;a++){var o=p.$cache[t][a];if(Object(h.a)(o.delims,e))return s(o)}var i=new p(t,r).lex(e);return!1!==r.cache&&(p.$cache[t]=p.$cache[t]||[],p.$cache[t].push(i)),s(i)}static split(t,e,r){return p.lex(t,e,r).tokens}static match(t,e,r){return p.lex(t,e,r).matches}constructor(t,e){if(!Object(n.a)(t))throw new Error("Lexer requires the first argument to be a string.");this.$str=t,this.$options=e||{},this.$options.blocks||(this.$options.blocks=p.$blocks),this.$options.quotes||(this.$options.quotes=p.$quotes),this.$options.comments||(this.$options.comments=p.$comments)}lex(t,e){for(var r={delims:Object(o.a)(t),options:Object(u.a)(!0,{},this.$options,e||{}),nesting:[],maxDepth:0,comments:[],tokens:[],matches:[],matchesi:{}},n=0;"number"==typeof n;)n=this._evalCharsAt(r,n);if(r.nesting.length)throw new Error("Error parsing the string: "+this.$str+". Unterminated blocks: "+Object(i.a)(r.nesting).join(", "));return r}_evalCharsAt(t,e){if(!(e>=this.$str.length)){var r=1,n={},s={},a={};if(t.openComment||(s=this._testQuotes(t,e)),t.openQuote||(n=this._testComments(t,e)),t.openComment||n.ending)if(t.nesting.length||a.ending)this._push(t,this.$str[e]);else r=(i=n.starting||n.ending||this.$str[e]).length,this._push(t,i,"comments",n.starting);else if(t.openQuote||s.ending)this._push(t,this.$str[e]);else{if(t.options.limit&&t.matches.length===t.options.limit)return this._push(t,this.$str[e]),e+1;a=this._testNesting(t,e);a=this._testNesting(t,e);var o=this._testChars(t.options.stopChars||[],t,e);if(!t.nesting.length&&!1!==o)return t.options.stopChar=o,void(t.options.stopCharForward=this.$str.substr(e));if(t.delims.length)if(t.nesting.length||a.ending){var i;r=(i=a.starting||a.ending||this.$str[e]).length,this._push(t,i)}else{this._push(t,"");var c=this._testChars(t.delims,t,e);if(!1!==c&&(t.matches.push(c),t.matchesi[e]=c,r=c.length||1,!t.options.preserveDelims)){var l=e+(c.length||1);return l===this.$str.length&&this._push(t,""),l}this._push(t,c||this.$str[e])}else 2===t.nesting.length&&a.starting?(t.matches.push(null),this._push(t,a.starting),r=a.starting.length):!t.nesting.length&&a.ending?(this._push(t,a.ending),r=a.ending.length,t.matches.push(null)):this._push(t,this.$str[e])}return e+r}}_testQuotes(t,e){var r={};return(t.options.quotes||[]).forEach(n=>{this.$str.substr(e,1)===n&&(t.openQuote?n===t.openQuote&&(t.openQuote=!1,r.ending=n):(t.openQuote=n,r.starting=n))}),r}_testComments(t,e){var r={};return(t.options.comments||[]).forEach(n=>{if(t.openComment){if(Object(l.a)(n)===Object(l.a)(t.openComment)){var s=Object(l.a)(n);this.$str.substr(e).startsWith(s)&&(t.openComment=!1,r.ending=s)}}else{var a=Object(c.a)(n);this.$str.substr(e).startsWith(a)&&(t.openComment=n,r.starting=a)}}),r}_testNesting(t,e){var r={};return(t.options.blocks||[]).forEach(n=>{var s=Object(c.a)(n);if(this.$str.substr(e).startsWith(s))t.nesting=t.nesting.concat([n]),r.starting=s;else if(t.nesting.length&&Object(l.a)(n)===Object(l.a)(Object(l.a)(t.nesting))){var a=Object(l.a)(n);this.$str.substr(e).startsWith(a)&&(t.nesting=t.nesting.slice(0,-1),r.ending=a)}}),t.maxDepth=Math.max(t.maxDepth,t.nesting.length),r}_testChars(t,e,r){for(var n=0;n<t.length;n++){var s=t[n];if(Object(a.a)(s)){var o=s(this.$str.substr(0,r),this.$str.substr(r));if(!1!==o)return o}if(e.options.useRegex){var i=this.$str.substr(r).match(new RegExp("^"+s,!0!==e.options.useRegex?e.options.useRegex:""));if(i)return i[0]}if(!e.options.ci&&this.$str.substr(r,s.length)===s||e.options.ci&&this.$str.substr(r,s.length).toLowerCase()===s.toLowerCase())return s}return!1}_push(t,e,r="tokens",n=!1){var a=t.matches.length;if(Object(s.a)(t.tokens[a])&&(t.tokens[a]=""),"comments"===r){t.tokens[a].comments||(t.tokens[a]=new String(t.tokens[a]),t.tokens[a].comments=[]);var o=t.tokens[a].comments.length-(!t.tokens[a].comments.length||n?0:1);t.tokens[a].comments[o]=(t.tokens[a].comments[o]||"")+e}else{t.tokens[a].comments;t.tokens[a]=t.tokens[a]+e}}split(t,e,r){return this.lex(e,r).tokens}match(t,e,r){return this.lex(e,r).matches}regParse(t,e){return this.lex(t,Object(u.a)({useRegex:!0},e||{}))}regSplit(t,e){return this.regParse(t,e).tokens}regMatch(t,e){return this.regParse(t,e).matches}}p.$blocks=[["(",")"],["[","]"],["{","}"]],p.$quotes=['"',"'","`"],p.$comments=[["/*","*/"],["//","\n"]],p.$cache={}},function(t,e,r){"use strict";var n=r(16);e.a=function(t){return Object(n.a)(t)||!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)}},,function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(0),s=r(2),a=r(1),o=r(4),i=r(9),c=r(39);function l(t,e,r=!1,u=!1,h=!1){var d=0,p=t.shift();if((Object(i.a)(p)||!0===p||!1===p)&&(d=p,p=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,m)=>{(Object(o.a)(t)||Object(s.a)(t))&&(r?Object(c.a)(t):Object.getOwnPropertyNames(t)).forEach(s=>{if(e(s,p,t,m)){var o=p[s],c=t[s];if((Object(n.a)(o)&&Object(n.a)(c)||Object(a.a)(o)&&Object(a.a)(c))&&(!0===d||d>0))p[s]=Object(n.a)(o)&&Object(n.a)(c)?[]:{},l([Object(i.a)(d)?d-1:d,p[s],o,c],e,r,u,h);else if(Object(n.a)(p)&&Object(n.a)(t))u?p[s]=c:p.push(c);else try{h?Object.defineProperty(p,s,Object.getOwnPropertyDescriptor(t,s)):p[s]=t[s]}catch(t){}}})}),p}},,function(t,e,r){"use strict";e.a=function(t){return t instanceof String||"string"==typeof t&&null!==t}},function(t,e,r){"use strict";var n=r(11);e.a=function(...t){return Object(n.a)(t,(t,e,r)=>!0,!1,!1,!1)}},function(t,e,r){"use strict";e.a=function(t,e=1){var r=0;t.forEach(t=>{r++});var n=t.slice(t.length-r,e);return arguments.length>1?n:n[0]}},function(t,e,r){"use strict";e.a=function(t){return t instanceof Number||"number"==typeof t}},function(t,e,r){"use strict";var n=r(4),s=r(9);e.a=function(t,e){var r=void 0;return Object(n.a)(t)&&Object.keys(t).forEach((n,a)=>{!1!==r&&(r=e(Object(s.a)(n)?parseFloat(n):n,t[n],a))}),r}},function(t,e,r){"use strict";var n=r(20),s=r(41);e.a=function(t,e,r){return Object(s.a)(Object(n.a)(t,e),r)}},function(t,e,r){"use strict";var n=r(0),s=r(1),a=r(4),o=r(26),i=r(17);e.a=function(t,e,r=!0,c=!0,l=!1,u=!1){if(Object(n.a)(t)&&Object(n.a)(e)){var h=[],d=!0;return t.forEach(t=>{if(d){var p=!1;Object(i.a)(e,(e,o)=>{(!p||c&&Object(a.a)(t))&&(p=r(t,o),(Object(n.a)(p)&&!p.length||Object(s.a)(p)&&!Object.keys(p).length)&&(p=!1),Object(a.a)(p)&&c&&(t=p))}),Object(a.a)(p)?h.push(c?p:t):Object(o.a)(p)?l&&!p||!l&&p?h.push(t):u&&(d=!1):h.push(p)}}),h}if(Object(s.a)(t)&&Object(s.a)(e)){h={},d=!0;return Object.keys(t).forEach(i=>{if(d){var p=r(t[i],e[i]);(Object(n.a)(p)&&!p.length||Object(s.a)(p)&&!Object.keys(p).length)&&(p=!1),Object(a.a)(p)?h[i]=c?p:t[i]:Object(o.a)(p)?l&&!p||!l&&p?h[i]=t[i]:u&&(d=!1):h[i]=p}}),h}}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?"":t.substr(n+e.length)}},function(t,e,r){"use strict";e.a=function(t,e,r){return t.startsWith(e)&&t.endsWith(r)}},function(t,e,r){"use strict";e.a=function(t){return"function"==typeof t}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?t:t.substr(0,n)}},function(t,e,r){"use strict";e.a=function(t){return null===t||""===t}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){for(var n=t.indexOf(e);n>-1&&(r||!1===r);)t.splice(n,1),r>0&&r--,n=t.indexOf(e);return t}},function(t,e,r){"use strict";e.a=function(t){return!0===t||!1===t}},function(t,e,r){"use strict";var n=function(t){return!Array.isArray(t)&&"object"==typeof t&&t};var s=function(){if(!(n(this)&&this.window||"undefined"!=typeof window))throw new Error("A window context is required.");const t=n(this)&&this.window?this.window:window;if(t.WebQit||(t.WebQit={}),!t.WebQit.window){let e,r;Object.defineProperty(t.WebQit,"window",{get:()=>t}),Object.defineProperty(t.WebQit,"vendor",{value:{getName:()=>(e||(e=function(t){if(void 0!==t.InstallTrigger)return"firefox";if(/constructor/i.test(t.HTMLElement)||"[object SafariRemoteNotification]"===(!t.safari||void 0!==t.safari&&t.safari.pushNotification).toString())return"safari";var e=!(!t.chrome||!t.chrome.webstore&&!t.chrome.runtime),r=e&&-1!=t.navigator.userAgent.indexOf("Edg"),n=!!t.opr&&!!t.opr.addons||!!t.opera||t.navigator.userAgent.indexOf(" OPR/")>=0,s=!!t.document.documentMode,a=!s&&!!t.StyleMedia;return(e||n)&&t.CSS,a?"edge":s?"ie":n?"opera":r?"ie-chromium":e?"chrome":"unknown"}(t)),e),getPrefix:()=>(r||(r=function(t){var e=t.getComputedStyle(t.document.documentElement,""),r=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.Olink&&["","o"])[1];return{api:("WebKit|Moz|Ms|O".match(new RegExp("("+r+")","i"))||[])[1],prefix:r,css:"-"+r+"-"}}(t)),r)}})}return t.WebQit},a=function(t){return"function"==typeof t},o=function(t){return Array.isArray(t)||"object"==typeof t&&t||a(t)},i=function(t){return function(t){return t instanceof Number||"number"==typeof t}(t)||!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)};class c{constructor(t,e=!0){this.window=t,this.async=e,this.readCallbacks=[],this.writeCallbacks=[],this._run()}_run(){this.window.requestAnimationFrame(()=>{this.readCallbacks.forEach((t,e)=>{t&&!t()&&(this.readCallbacks[e]=null)}),this.writeCallbacks.forEach((t,e)=>{t&&!t()&&(this.writeCallbacks[e]=null)}),this._run()})}onread(t,e=!1){if(e)return new Promise((e,r)=>{!1===this.async?t(e,r):this.readCallbacks.push(()=>{t(e,r)})});!1===this.async?t():this.readCallbacks.push(t)}onwrite(t,e=!1){if(e)return new Promise((e,r)=>{!1===this.async?t(e,r):this.writeCallbacks.push(()=>{t(e,r)})});!1===this.async?t():this.writeCallbacks.push(t)}cycle(t,e,r){this.onread(()=>{var n=t(r);if(n){var s=n=>{this.onwrite(()=>{var s=e(n,r);if(s){var a=r=>{this.cycle(t,e,r)};s instanceof Promise?s.then(a):a()}})};n instanceof Promise?n.then(s):s()}})}}var l=function(t){return t instanceof String||"string"==typeof t&&null!==t},u=function(t){return Array.isArray(t)},h=function(t){return arguments.length&&(void 0===t||void 0===t)},d=function(t){return null===t||""===t},p=function(t,e=!0){return u(t)?t:!e&&n(t)?[t]:!1!==t&&0!==t&&function(t){return d(t)||h(t)||!1===t||0===t||o(t)&&!Object.keys(t).length}(t)?[]:function(t){return!l(t)&&!h(t.length)}(t)?Array.prototype.slice.call(t):n(t)?Object.values(t):[t]},m=function(t){const e=s.call(this);e.DOM.isDOMReady||"complete"===e.window.document.readyState?t(e.window):(e.window.domReadyCallbacks||(e.window.domReadyCallbacks=[],e.window.document.addEventListener("DOMContentLoaded",()=>{e.DOM.isDOMReady=!0,e.window.domReadyCallbacks.splice(0).forEach(t=>t(e.window))},!1)),e.window.domReadyCallbacks.push(t))};class f{constructor(t){this.window=t}onAdded(t,e,r={}){return r.on="added",this.onPresenceChange(t,(t,r,n,s,a)=>{e(t,r,n,s,a)},r)}onRemoved(t,e,r={}){return r.on="removed",this.onPresenceChange(t,(t,r,n,s,a)=>{e(t,r,n,s,a)},r)}onPresent(t,e,r={}){m.call(this.window,()=>{this.window.MutationObserver&&this.onAdded(t,(t,r)=>{t.forEach(t=>e(t,r))},r),l(t)?p(this.window.document.querySelectorAll(t)).forEach(t=>e(t,1)):t.parentNode&&e(t,1)})}onAbsent(t,e,r={}){m.call(this.window,()=>{this.window.MutationObserver&&onRemoved(t,(t,r)=>{t.forEach(t=>e(t,r))},r),l(t)?0===p(this.window.document.querySelectorAll(t)).length&&e(null,0):t.parentNode||e(t,0)})}onPresenceChange(t,e,r={}){t=p(t,!1);var n=(t,e)=>(e.$$searchCache||(e.$$searchCache=new Map),t.reduce((t,n)=>{var s;return e.$$searchCache.has(n)?s=e.$$searchCache.get(n):(s=((t,e)=>{if(e=e.filter(t=>t.matches),l(t)){var n=e.filter(e=>e.matches(t));if(!1!==r.observeIndirectMutation&&(n=e.reduce((e,r)=>e.concat(p(r.querySelectorAll(t))),n)).length)return n}else{if(e.includes(t))return[t];if(!1!==r.observeIndirectMutation&&e.length)for(var s=t;s=s.parentNode;)if(e.includes(s))return[t]}})(n,e,l(n))||[],e.$$searchCache.set(n,s)),t.concat(s)},[])),s=new Set,a=new Set,o=(o,i,c)=>{i&&"removed"===r.on||!i&&"added"===r.on||(o=n(t,o)).length&&(r.maintainCallState?(o.forEach(t=>{i?(s.add(t),a.delete(t)):(s.delete(t),a.add(t))}),e(o,i,c,s,a)):e(o,i,c))},i=r.context||this.window.document.documentElement;return this._observe(i,(t,e,n,s)=>{r.ignoreTransients||(o(t,0,!0),o(t.concat(e),1,!0),o(e,0,!0)),o(s,0),o(n,1)})}onAttrChange(t,e,r=[]){var n=new this.window.MutationObserver(e),s={attributes:!0,attributeOldValue:!0};return r&&(s.attributeFilter=r),n.observe(t,s),n}onTreeChange(t,e,r=!1){var n=new this.window.MutationObserver(e),s={childList:!0,subtree:r};return n.observe(t,s),n}onMutation(t,e,r){var n=new this.window.MutationObserver(e);return n.observe(t,r),n}_observe(t,e){if(!b.has(t)){const e=new Set,r=new this.window.MutationObserver(t=>{if(e.size){var r=t.reduce((t,e)=>t.concat(p(e.addedNodes)),[]),n=t.reduce((t,e)=>t.concat(p(e.removedNodes)),[]),s=[],a=[];r=new Set(r),n=new Set(n),r.forEach(t=>{n.has(t)&&(n.delete(t),r.delete(t),t.isConnected?s.push(t):a.push(t))}),r=[...r],n=[...n],e.forEach(t=>t(s,a,r,n))}});r.observe(t,{childList:!0,subtree:!0}),b.set(t,{callbacks:e,observer:r})}const r=b.get(t);return r.callbacks.add(e),{disconnect(){r.callbacks.delete(e)},reconnect(){r.callbacks.add(e)}}}}const b=new Map;var g=function(t){!function(t){t.CSS||(t.CSS={});t.CSS.escape||(t.CSS.escape=t=>t.replace(/([\:@\~\$\&])/g,"\\$1"))}(t),function(t){"isConnected"in t.Node.prototype||Object.defineProperty(t.Node.prototype,"isConnected",{get:function(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}(t),function(t){t.Element.prototype.matches||(t.Element.prototype.matches=t.Element.prototype.matchesSelector||t.Element.prototype.mozMatchesSelector||t.Element.prototype.msMatchesSelector||t.Element.prototype.oMatchesSelector||t.Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1})}(t)};function O(t,e=null,r=!1){const n=s.call(this);if(l(t)){var a;if(t.trim().startsWith("<")){var o=n.window.document.createElement("div");o.innerHTML=t,a=r?p(o.children):o.firstChild}else a=r?p(w.call(this,t,e)):j.call(this,t,e);return a}return t instanceof n.window.Element?r?[t]:t:r?p(t):t}function v(t,e=null){return O.call(this,t,e,!0)}function j(t,e=null,r=!1){const n=s.call(this);e=e||n.window.document;var a,o=r?"querySelectorAll":"querySelector";try{a=e[o](t)}catch(r){try{a=e[o](t.replace(/\:is\(/g,":matches("))}catch(r){try{a=e[o](t.replace(/\:is\(/g,":-webkit-any("))}catch(r){try{a=e[o](t.replace(/\:is\(/g,":-moz-any("))}catch(t){throw t}}}}return a}function w(t,e=null){return j.call(this,t,e,!0)}var y=function(t){return a(t)||t&&"[object function]"==={}.toString.call(t)};var E=function(t,e,r={},n={}){e=p(e).slice();for(var s=t;!h(s)&&!d(s)&&e.length;){var a=e.shift();if(!(r.get?r.get(s,a):o(s)?a in s:s[a]))return void(n.exists=!1);s=r.get?r.get(s,a):s[a]}return n.exists=!0,s},x=function(t,e,r,n={},s={}){const a=(t,r,n)=>s.set?s.set(t,r,n):(i(e[l])&&u(t)?t.push(n):t[r]=n,!0);e=p(e);for(var c=t,l=0;l<e.length;l++){if(!(l<e.length-1))return a(c,e[l],r);if(!c||!o(c)&&!y(c))return!1;var h=E(c,e[l],s);if(!o(h)){if(!1===s.buildTree)return!1;if(h=y(s.buildTree)?s.buildTree(l):i(e[l+1])?[]:{},!a(c,e[l],h))return!1}c=h}},k=function(t,e,r=!1,n={}){e=p(e);var s=!1;do{var a=""===(a=e.pop())?0:a,i=t;e.length&&(i=E(t,e,{},n)),(o(i)||y(i))&&(n.has?n.has(i,a):a in i)&&(n.deleteProperty?s=n.deleteProperty(i,a):n.del?s=n.del(i,a):(delete i[a],s=!0))}while(s&&r&&e.length&&(o(i)||y(i))&&!(n.keys?n.keys(i):Object.keys(i)).length);return s};function C(t,e=!1){const r=s.call(this);var a={};return!(a.el=r.window.document.head.querySelector('meta[name="oohtml"]'))&&e&&(a.el=r.window.document.createElement("meta"),a.el.setAttribute("name",t),r.window.document.head.append(a.el)),a.el&&(a.vars=(a.el.getAttribute("content")||"").split(";").filter(t=>t).reduce((t,e)=>{var r=e.split("=").map(t=>t.trim());return x(t,r[0].split("."),"true"===r[1]||"false"!==r[1]&&(i(r[1])?parseInt(r[1]):r[1])),t},{})),a.get=function(t){return E(this.vars,t.split("."))},a.set=function(t,r=null,s=!1){var a=n(t)?t:{[t]:!0===r?"true":r};if(s=arguments.length<3?r:s,Object.keys(a).forEach(t=>{if(!1===a[t])k(this.vars,t.split("."));else if(n(a[t]))Object.keys(a[t]).forEach(e=>{var r=(t+"."+e).split(".");s&&E(this.vars,r)||x(this.vars,r,a[t][e])});else{var e=t.split(".");s&&E(this.vars,e)||x(this.vars,e,a[t])}}),e){const t=(e,r)=>Object.keys(r).reduce((s,a)=>{var o=(e?e+".":"")+a;return n(r[a])?s.push(...t(o,r[a])):s.push(o+"="+r[a]),s},[]);this.el.setAttribute("content",t("",this.vars).join(";"))}return!0},a.defaults=function(t,e=null){return this.set(t,e,!0)},a}e.a=function(){const t=s.call(this);return t.DOM||(t.DOM={},g(t.window),t.DOM.reflow=new c(t.window),t.DOM.mutations=new f(t.window),t.DOM.meta=C.bind(t.window),t.DOM.query=O.bind(t.window),t.DOM.queryAll=v.bind(t.window),t.DOM.ready=m.bind(t.window)),t}},function(t,e,r){"use strict";var n=r(0),s=r(1),a=r(9);const o=function(t,e=1,r=!0){return!Object(a.a)(e)||e<=0?t:(!Object(n.a)(t)&&Object(s.a)(t)&&r&&(t=Object.values(t)),Object(n.a)(t)?t.reduce((t,a)=>Object(n.a)(a)||Object(s.a)(a)&&r?t.concat(o(Object(n.a)(a)?a:Object.values(a),e-1,r)):t.concat(a),[]):t)};e.a=o},,function(t,e,r){"use strict";e.a=function(t,...e){return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t}},function(t,e,r){"use strict";r.d(e,"a",(function(){return l})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return d}));var n=r(27),s=r(14),a=r(8),o=r(21),i=r(18),c=(r(23),r(20),r(5));r(3);function l(t,e={}){const r=n.a.call(this);return r.OOHTML||(r.OOHTML={}),r.OOHTML.meta||(r.OOHTML.meta=r.DOM.meta("oohtml",!0)),r.OOHTML.meta.defaults(Object(s.a)(3,t,e)),r.OOHTML.meta}function u(t,e,r,n=null){var s=e.split("#")[0].split("/").map(t=>t.trim()).filter(t=>t);return f(t,s,r,n)}function h(t){var e=a.a.split(t.trim(),[":"]);return[t=e.shift(),e.reduce((t,e)=>{var[r,n]=a.a.split(e.trim(),[]);return t[r]=Object(i.a)(n,"(",")"),t},{})]}function d(t,e){return e=e.split("#")[0].split("/").map(t=>t.trim()).filter(t=>t),!!(t=t.split("#")[0].split("/").map(t=>t.trim()).filter(t=>t)).length&&t.reduce((t,r,n)=>!!t&&a.a.split(r.trim(),["|","+"]).reduce((t,r)=>{var[r,s]=h(r),a=(r=r.trim())===e[n];if(!a&&("deep"in s||"deepest"in s)){var o=e.slice(n+1).reduce((t,e,n)=>t>-1&&"deep"in s?t:e===r?n:t,-1);if(o>-1){e.splice(n,o+1);a=!0}}return t||a},!1),!0)}const p=(t,e)=>a.a.split(t.trim(),["|","+"],{preserveDelims:!0}).reduce((t,r)=>{var n;return(r.startsWith("|")||r.startsWith("+"))&&(n=r.substr(0,1),r=r.substr(1).trim()),t.theEnd||"|"===n&&t.length?(t.theEnd=!0,t):t.concat(e(r.trim()))},[]).filter(t=>t),m=(t,e,r)=>{const n=t=>t.reduce((t,e)=>t.concat(...r(e).values()),[]);return p(e,e=>{var[e,s]=h(e);return t.reduce((t,a)=>{var l=r(a);"*"===e&&(e="("+l.keys().join("+")+")");var u=Object(o.a)(e,"(",")")?m([a],Object(i.a)(e,"(",")"),r):Object(c.a)(l.get(e),!1),h=[];return Object.keys(s).forEach(t=>{if("deep"===t||"deepest"===t)for(var o=[a];("deepest"===t||!u.length)&&(o=n(o)).length;){var i=m(o,`${e}${h.map(t=>`:${t}(${s[t]})`).join("")}`,r);i.length&&(u=i)}else"having"!==t&&"not-having"!==t||(u=u.filter(e=>{var n=p(s[t],t=>r(e,t));return"not-having"===t?!n.length:n.length})),h.push(t)}),t.concat(u)},[])})},f=function(t,e,r,n=null,s=0){if(!e.length)return[];var a,o=e.shift();o.endsWith(".")&&(a=!0,o=o.substr(0,o.length-1).trim());var i=m(t,o,r);if(i.length&&a)return i;if(e.length){var c=f(i,e.slice(),r,n,s+1);return-1===c?n(i,s,!0):c}return n?n(i,s):i}},function(t,e,r){"use strict";var n=r(1);e.a=function(t){return Object(n.a)(t)&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){"use strict";var n=r(0),s=r(2),a=r(11);e.a=function(t,e=[]){return Object(a.a)([{},t],(t,r,a)=>{if(!Object(s.a)(a[t]))return Object(s.a)(e)?e(t):!Object(n.a)(e)||!e.length||e.indexOf(t)>-1},!1,!1,!1)}},function(t,e,r){"use strict";var n=r(24),s=r(7),a=r(4);e.a=function(t){return Object(n.a)(t)||Object(s.a)(t)||!1===t||0===t||Object(a.a)(t)&&!Object.keys(t).length}},function(t,e,r){"use strict";var n=r(16),s=r(0),a=r(1),o=(r(4),r(2)),i=r(32),c=r(19);const l=function(t,e,r=!0,u=1){if(Object(s.a)(t)&&Object(s.a)(e)&&t.length!==e.length)return!r;if(Object(a.a)(t)&&Object(a.a)(e)){var h=Object.keys(t),d=Object.keys(e);if(!h.length&&!d.length)return Object(i.a)(t)&&Object(i.a)(e)?r:t===e===r;if(!l(h,d))return!r}if(u>0&&(Object(s.a)(t)&&Object(s.a)(e)||Object(a.a)(t)&&Object(a.a)(e))){var p=Object(c.a)(t,e,(t,e)=>l(t,e,r,u-1),!1,!1,!0);return Object(s.a)(p)?p.length===t.length&&p.length===e.length:Object(a.a)(p)&&Object(a.a)(t)?Object.keys(p).length===Object.keys(t).length&&Object.keys(p).length===Object.keys(e).length:p}return Object(o.a)(r)?r(t,e):Object(n.a)(t)&&Object(n.a)(e)&&isNaN(t)&&isNaN(e)?r:t===e===r};e.a=l},,,function(t,e,r){"use strict";var n=r(13),s=r(7);e.a=function(t){return!Object(n.a)(t)&&!Object(s.a)(t.length)}},function(t,e,r){"use strict";var n=r(30),s=r(40);e.a=function(t,e){var r=[];return Object(s.a)(t,e).forEach(t=>{Object(n.a)(r,...Object.getOwnPropertyNames(t))}),r}},function(t,e,r){"use strict";var n=r(0);e.a=function(t,e){e=(e=e||Object.prototype)&&!Object(n.a)(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r}},function(t,e,r){"use strict";var n=r(23);e.a=function(t,e){return Object(n.a)(t,e,!0)}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r(34);var n=r(5),s=r(25),a=(r(17),r(3)),o=r(27),i=r(31);function c(t=null,e=!1){const r=o.a.call(this);if(e)return void r.DOM.ready(()=>{c.call(this,t,!1)});const l=r.window,u=r.window.document,h=r.DOM.mutations,d=i.a.call(this,{element:{template:"",export:"export",import:"import"},attr:{moduleid:"name",moduleref:"template",exportid:"name",exportgroup:"exportgroup"},api:{templateClass:"",templates:"templates",exports:"exports",moduleref:"template"}},t),p="template"+(d.get("element.template")?'[is="'+d.get("element.template")+'"]':"")+"["+l.CSS.escape(d.get("attr.moduleid"))+"]";var m=l.HTMLTemplateElement;if(d.get("api.templateClass")){if(!l[d.get("api.templateClass")])throw new Error('The custom element class "'+d.get("api.templateClass")+'" is not defined!');m=l[d.get("api.templateClass")]}const f=(t,e,r)=>{"templatemutation"===t&&(["addedExports","removedExports"].forEach(t=>{Object.defineProperty(e,t,{value:Object.keys(e[t]).map(r=>({name:r,items:e[t][r]}))})}),["addedTemplates","removedTemplates"].forEach(t=>{Object.defineProperty(e,t,{value:Object.keys(e[t]).map(r=>({name:r,item:e[t][r]}))})})),Object.defineProperty(e,"path",{value:r}),u.dispatchEvent(new l.CustomEvent(t,{detail:e}))},b=(t,e)=>{const r=r=>{t.dispatchEvent(new l.CustomEvent(r,{detail:{path:e}}))};var n=t.getAttribute("src");return new Promise((s,a)=>{l.fetch?l.fetch(n).then(t=>t.ok?t.text():Promise.reject(t.statusText)).then(n=>{t.innerHTML=n,r("load"),f("templatecontentloaded",{template:t},e),s(t)}).catch(a=>{console.error("Error fetching the bundle at "+n+". ("+a+")"),t.innerHTML="",r("loaderror"),f("templatecontentloaderror",{template:t},e),s(t)}):(s(),console.error("Error fetching the bundle at "+n+". (window.fetch() not supported by browser.)"))})},g=(t,e,r,o=null,i=!0)=>{const c=(t,o,i,c)=>{var l;if(t.matches)if(t.matches(p)&&(l=t.getAttribute(d.get("attr.moduleid")))&&j(l)){var u=(r?r+"/":"")+l;"removed"===i?(Object(a.a)(e,"oohtml","templates").delete(l),Object(a.a)(e,"oohtml").get("parentTemplate")===e&&Object(a.a)(e,"oohtml").delete("parentTemplate"),o&&(o.removedTemplates[l]=t)):"added"===i&&(Object(a.a)(e,"oohtml","templates").set(l,t),Object(a.a)(t,"oohtml").set("parentTemplate",e),o&&(o.addedTemplates[l]=t)),g(t.content,t,u,i,c)}else{const r=t=>{var r=t.getAttribute(d.get("attr.exportgroup"))||"default";"removed"===i?Object(a.a)(e,"oohtml","exports").has(r)&&(Object(s.a)(Object(a.a)(e,"oohtml","exports").get(r),t),Object(a.a)(e,"oohtml","exports").has(r).length||Object(a.a)(e,"oohtml","exports").delete(r),o&&(o.removedExports[r]||(o.removedExports[r]=[]),o.removedExports[r].push(t))):"added"===i&&(Object(a.a)(e,"oohtml","exports").has(r)||Object(a.a)(e,"oohtml","exports").set(r,[]),Object(a.a)(e,"oohtml","exports").get(r).push(t),o&&(o.addedExports[r]||(o.addedExports[r]=[]),o.addedExports[r].push(t)))};if(t.matches(d.get("element.export"))){var h=t.getAttribute(d.get("attr.exportid"))||"default";Object(n.a)(t.children).forEach(t=>{t.setAttribute(d.get("attr.exportgroup"),h),r(t)})}else r(t)}};e.modulemutationsType=o;const u={addedTemplates:Object.create(null),removedTemplates:Object.create(null),addedExports:Object.create(null),removedExports:Object.create(null)};(Object(n.a)(t.children).forEach(t=>c(t,u,o,i)),i&&f("templatemutation",u,r),"added"!==o||Object(a.a)(e,"oohtml").get("onLiveMode"))||(Object(a.a)(e,"oohtml").set("onLiveMode",!0),e.getAttribute("src")&&!e.content.children.length&&O.push(b(e,r)),h.onAttrChange(e,t=>{t[0].target.getAttribute(t[0].attributeName)!==t[0].oldValue&&b(e,r)},["src"]),new l.MutationObserver(t=>{const e={addedTemplates:Object.create(null),removedTemplates:Object.create(null),addedExports:Object.create(null),removedExports:Object.create(null)};t.forEach(t=>{t.addedNodes.forEach(t=>c(t,e,"added",!0)),t.removedNodes.forEach(t=>c(t,e,"removed",!0))}),f("templatemutation",e,r)}).observe(t,{childList:!0}))};if(d.get("api.templates")in u)throw new Error('document already has a "'+d.get("api.templates")+'" property!');const O=[];if(Object.defineProperty(u,d.get("api.templates"),{get:function(){return v(Object(a.a)(u,"oohtml","templates"))}}),d.get("api.templates")in m.prototype)throw new Error('The "HTMLTemplateElement" class already has a "'+d.get("api.templates")+'" property!');if(Object.defineProperty(m.prototype,d.get("api.templates"),{get:function(){return v(Object(a.a)(this,"oohtml","templates"))}}),d.get("api.exports")in m.prototype)throw new Error('The "HTMLTemplateElement" class already has a "'+d.get("api.exports")+'" property!');Object.defineProperty(m.prototype,d.get("api.exports"),{get:function(){return v(Object(a.a)(this,"oohtml","exports"))}});const v=t=>Object.defineProperties({},Array.from(t.keys()).reduce((e,r)=>(e[r]={get:()=>t.get(r)},e),{})),j=t=>{var e;return!(e=t.match(/([^a-zA-Z0-9\_\-\@])/))||(console.error(`Invalid character "${e}" in the module name: ${t}.`),!1)};if(Object(n.a)(u.querySelectorAll(p)).forEach(async t=>{var e=t.getAttribute(d.get("attr.moduleid"));!t.closest(d.get("element.import"))&&j(e)&&(Object(a.a)(u,"oohtml","templates").set(e,t),g(t.content,t,e,"added",!1))}),h.onPresenceChange(p,async(t,e)=>{const r={addedTemplates:Object.create(null),removedTemplates:Object.create(null),addedExports:Object.create(null),removedExports:Object.create(null)};t.forEach(t=>{var n=t.getAttribute(d.get("attr.moduleid"));!t.closest(d.get("element.import"))&&j(n)&&(e?(Object(a.a)(u,"oohtml","templates").set(n,t),g(t.content,t,n,"added"),r.addedTemplates[n]=t):(Object(a.a)(u,"oohtml","templates").get(n)===t&&Object(a.a)(u,"oohtml","templates").delete(n),g(t.content,t,n,"removed"),r.removedTemplates[n]=t))}),f("templatemutation",r,"")}),h.onPresent(d.get("element.import"),t=>{g(t,t,"","added",!1)}),d.get("api.moduleref")in l.Element.prototype)throw new Error('The "Element" class already has a "'+d.get("api.moduleref")+'" property!');Object.defineProperty(l.Element.prototype,d.get("api.moduleref"),{get:function(){var t;if(!Object(a.a)(this,"oohtml").has("module")&&(t=this.getAttribute(d.get("attr.moduleref")))){var e=(t=>{var e=u.createElement("template");return Object(i.d)([u],t,(function(t,e){var r=Object(a.a)(t,"oohtml","templates");return 1===arguments.length?r:e.startsWith(":")?Object(a.a)(t,"oohtml","exports").get(e.substr(1)):r.get(e)})).forEach(t=>{Object(a.a)(t,"oohtml","templates").forEach((t,r)=>{Object(a.a)(e,"oohtml","templates").set(r,t)}),Object(a.a)(t,"oohtml","exports").forEach((t,r)=>{Object(a.a)(e,"oohtml","exports").has(r)||Object(a.a)(e,"oohtml","exports").set(r,[]),Object(a.a)(e,"oohtml","exports").get(r).push(...t)})}),e})(t);Object(a.a)(this,"oohtml").set("module",e)}return Object(a.a)(this,"oohtml").get("module")}});var w=O.length?"loading":"indeterminate";Object.defineProperty(u,"templatesReadyState",{get:()=>w}),r.DOM.ready.call(r,()=>(O.forEach(t=>{t.catch(t=>{console.warn(t)})}),Promise.all(O).then(()=>{w="complete",u.dispatchEvent(new l.Event("templatesreadystatechange"))})))}},,,,,,,function(t,e,r){"use strict";r.r(e),r(65).a.call(window)}]);
//# sourceMappingURL=html-modules.js.map