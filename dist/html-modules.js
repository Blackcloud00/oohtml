(()=>{function x(e){return!Array.isArray(e)&&typeof e=="object"&&e}function W(e,...t){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var n=globalThis.WebQitInternalsRegistry.get(e);if(!n){if(n=new Map,t[0]===!1)return n;globalThis.WebQitInternalsRegistry.set(e,n)}for(var o,r;o=t.shift();)if((r=n)&&!(n=n.get(o))){if(n=new Map,t[0]===!1)return n;r.set(o,n)}return n}function _(e){return Array.isArray(e)}function M(e){return typeof e=="function"}function F(e){return e===null||e===""}function C(e){return arguments.length&&(e===void 0||typeof e>"u")}function b(e){return Array.isArray(e)||typeof e=="object"&&e||M(e)}function G(e){return F(e)||C(e)||e===!1||e===0||b(e)&&!Object.keys(e).length}function g(e){return M(e)||e&&{}.toString.call(e)==="[object function]"}function $(e){return e instanceof Number||typeof e=="number"}function O(e){return $(e)||e!==!0&&e!==!1&&e!==null&&e!==""&&!isNaN(e*1)}function E(e){return e instanceof String||typeof e=="string"&&e!==null}function J(e){return!E(e)&&!C(e.length)}function D(e,...t){return t.forEach(n=>{e.indexOf(n)<0&&e.push(n)}),e}function j(o,t){t=t||Object.prototype,t=t&&!_(t)?[t]:t;for(var n=[],o=o;o&&(!t||t.indexOf(o)<0)&&o.name!=="default";)n.push(o),o=o?Object.getPrototypeOf(o):null;return n}function Z(e,t){var n=[];return j(e,t).forEach(o=>{D(n,...Object.getOwnPropertyNames(o))}),n}function v(e,t,n=!1,o=!1,r=!1){var i=0,f=e.shift();if((O(f)||f===!0||f===!1)&&(i=f,f=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((u,m)=>{!b(u)&&!g(u)||(n?Z(u):Object.getOwnPropertyNames(u)).forEach(l=>{if(!!t(l,f,u,m)){var s=f[l],c=u[l];if((_(s)&&_(c)||x(s)&&x(c))&&(i===!0||i>0))f[l]=_(s)&&_(c)?[]:{},v([O(i)?i-1:i,f[l],s,c],t,n,o,r);else if(_(f)&&_(u))o?f[l]=c:f.push(c);else try{r?Object.defineProperty(f,l,Object.getOwnPropertyDescriptor(u,l)):f[l]=u[l]}catch{}}})}),f}function L(...e){return v(e,(t,n,o)=>!0,!1,!1,!1)}function U(e,t,n=!1){if(t=="")return e;var o=n?e.lastIndexOf(t):e.indexOf(t);return o===-1?"":e.substr(o+t.length)}function k(e,t,n=!1){if(t=="")return e;var o=n?e.lastIndexOf(t):e.indexOf(t);return o===-1?e:e.substr(0,o)}function w(e,t=!0){return _(e)?e:!t&&x(e)?[e]:e!==!1&&e!==0&&G(e)?[]:J(e)?Array.prototype.slice.call(e):x(e)?Object.values(e):[e]}function K(e,t,n=null){return _(t)?e.filter(o=>n?t.filter(r=>n(o,r)).length:t.indexOf(o)!==-1):[]}function N(e,t,n={},o={}){t=w(t).slice();for(var r=e;!C(r)&&!F(r)&&t.length;){var i=t.shift();if(!(n.get?n.get(r,i):b(r)?i in r:r[i])){o.exists=!1;return}r=n.get?n.get(r,i):r[i]}return o.exists=!0,r}function ee(e,t,n,o={},r={}){let i=(s,c,d)=>r.set?r.set(s,c,d):(O(t[u])&&_(s)?s.push(d):s[c]=d,!0);t=w(t);for(var f=e,u=0;u<t.length;u++)if(u<t.length-1){if(!f||!b(f)&&!g(f))return!1;var m=N(f,t[u],r);if(!b(m)){if(r.buildTree===!1)return!1;m=g(r.buildTree)?r.buildTree(u):O(t[u+1])?[]:{};var l=i(f,t[u],m);if(!l)return!1}f=m}else return i(f,t[u],n)}var Q=(e,t=Array)=>class extends t{constructor(...o){super(...o),Object.defineProperty(this,"window",{value:e})}get(o,r={}){let i=this[o];return Be.call(e,i,r.context,!1)}each(o,r={}){this.forEach((i,f)=>{(i=this.get(f,r))&&o(i)})}attributes(o=[]){let r=this.get(0);return r?o.length?o.reduce((i,f)=>i.concat(r.getAttribute(f)),[]):Array.from(r.attributes).reduce((i,f)=>i.concat({name:f.name,value:f.value}),[]):[]}children(o={}){let r=this.get(0,o);return r?this.constructor.from(r instanceof this.window.HTMLTemplateElement?r.content.children:r.children):this.constructor.from([])}querySelectorAll(o,r={}){let i=this.get(0,r)||r.context||e.document.documentElement;return this.constructor.from(ae.call(e,o,i,!0))}};function Be(e,t=null,n=!0){let o=this;if(E(e)){let i;if(e.trim().startsWith("<")){var r=o.document.createElement("div");r.innerHTML=e,i=n?r.children:r.firstChild}else i=ae.call(o,e,t,n);return i}return e instanceof o.Element?n?[e]:e:n?w(e,!1):e}function ae(e,t=null,n=!0){t=t||this.document;var r,i=n?"querySelectorAll":"querySelector";try{r=t[i](e)}catch{try{r=t[i](e.replace(/\:is\(/g,":matches("))}catch{try{r=t[i](e.replace(/\:is\(/g,":-webkit-any("))}catch{try{r=t[i](e.replace(/\:is\(/g,":-moz-any("))}catch(l){throw l}}}}return r}function de(e){let t=this;t.document.readyState==="complete"?e(t):(t.document.domReadyCallbacks||(t.document.domReadyCallbacks=[],t.document.addEventListener("DOMContentLoaded",()=>{t.document.domReadyCallbacks.splice(0).forEach(n=>n(t))},!1)),t.document.domReadyCallbacks.push(e))}function pe(e,t=!1){let n=this,o={content:{}};return!(o.el=n.document.querySelector('meta[name="oohtml"]'))&&t&&(o.el=n.document.createElement("meta"),o.el.setAttribute("name",e),n.document.head.append(o.el)),o.el&&(o.content=(o.el.getAttribute("content")||"").split(";").filter(r=>r).reduce((r,i)=>{let f=i.split("=").map(u=>u.trim());return ee(r,f[0].split("."),f[1]==="true"?!0:f[1]==="false"?!1:O(f[1])?parseInt(f[1]):f[1]),r},{})),o.get=function(r){return JSON.stringify(N(this.content,r.split(".")))},o.copy=function(){return JSON.stringify(this.content)},o.copyWithDefaults=function(...r){return r.length?L(!0,{},...r.reverse().concat(this.content)):this.copy()},o}var he=e=>class{constructor(n=!0){Object.defineProperty(this,"window",{value:e}),Object.defineProperty(this,"readCallbacks",{value:new Set}),Object.defineProperty(this,"writeCallbacks",{value:new Set}),this.async=n,this.window.requestAnimationFrame?this._run():this.async=!1}_run(){this.window.requestAnimationFrame(()=>{this.readCallbacks.forEach(n=>{n()||this.readCallbacks.delete(n)}),this.writeCallbacks.forEach(n=>{n()||this.writeCallbacks.delete(n)}),this._run()})}onread(n,o=!1){if(o)return new Promise((r,i)=>{this.async===!1?n(r,i):this.readCallbacks.add(()=>{n(r,i)})});this.async===!1?n():this.readCallbacks.add(n)}onwrite(n,o=!1){if(o)return new Promise((r,i)=>{this.async===!1?n(r,i):this.writeCallbacks.add(()=>{n(r,i)})});this.async===!1?n():this.writeCallbacks.add(n)}cycle(n,o,r){this.onread(()=>{var i=n(r);if(i){var f=u=>{this.onwrite(()=>{var m=o(u,r);if(m){var l=s=>{this.cycle(n,o,s)};m instanceof Promise?m.then(l):l()}})};i instanceof Promise?i.then(f):f()}})}};var _e=(e,t=Array)=>class extends Q(e,t){attributes(o,r,i={}){g(arguments[0],i)&&(i=r||{},r=o,o=[]);let f=super.attributes(o);return f.length&&r(...f),this.attributeChangeCallback(o,r,i)}attributeChangeCallback(o,r,i={}){g(arguments[0])&&(i=r||{},r=o,o=[]);let f=new e.MutationObserver(l=>{if(!o.length){r(...Array.from(l).reduce((s,c)=>s.concat({name:c.attributeName,value:u.getAttribute(c.attributeName),oldValue:c.oldValue}),[]));return}r(...o.reduce((s,c)=>s.concat(u.getAttribute(c)),[]))});i={attributes:!0,attributeOldValue:!o.length,subtree:i.subtree},o.length&&(i.attributeFilter=o);let u=this.get(0,i);f.observe(u,i);let m=this;return{disconnect(){return f.disconnect(),{reconnect(){return m.attributeChangeCallback(o,r,i)}}}}}children(o,r={}){T(super.children(r),o,r,1);let i=new e.MutationObserver(l=>{let[s,c,d,a]=ye(l);T(s,o,r,0,1),T(c,o,r,1,0),T(d,o,r,0),T(a,o,r,1)}),f=this.get(0,r),u=f instanceof e.HTMLTemplateElement?f.content:f;i.observe(u,{childList:!0});let m=this;return{disconnect(){return i.disconnect(),{reconnect(){return m.children(o)}}}}}querySelectorAll(o,r,i={}){let f=super.querySelectorAll(o,i);T(f,r,i,1);let u=this.get(0,i);return this.constructor.from([o]).presenceChangeCallback(r,{...i,context:u||i.context})}querySelectorNone(o,r,i={}){super.querySelectorAll(o,i).length===0&&(i.each?r(null,0):r([],0));let f=this.get(0,i);return this.constructor.from([o]).presenceChangeCallback(r,{...i,context:f||i.context})}connectedCallback(o,r={}){let i=[];return this.each(f=>{!f.isConnected||(r.each?o(f,1):i.push(f))},r),i.length&&o(i,1),this.presenceChangeCallback(o,{...r,on:"added"})}disconnectedCallback(o,r={}){let i=[];return this.each(f=>{f.isConnected||(r.each?o(f,0):i.push(f))},r),i.length&&o(i,0),this.presenceChangeCallback(o,{...r,on:"removed"})}presenceChangeCallback(o,r={}){let i=(d,[...a])=>{if(a=a.filter(p=>p.matches),E(d)){let p=a.filter(h=>h.matches(d));if(r.observeIndirectMutation!==!1&&(p=a.reduce((h,y)=>h.concat(w(y.querySelectorAll(d))),p),p.length))return p}else{if(a.includes(d))return[d];if(r.observeIndirectMutation!==!1&&a.length){let p=d;for(;p=p.parentNode;)if(a.includes(p))return[d]}}},f=(d,a)=>(a.$$searchCache||(a.$$searchCache=new Map),d.reduce((p,h)=>{let y;return a.$$searchCache.has(h)?y=a.$$searchCache.get(h):(y=i(h,a,E(h))||[],a.$$searchCache.set(h,y)),p.concat(y)},[])),u=this,m=new Set,l=new Set,s=(d,a,p)=>{a&&r.on==="removed"||!a&&r.on==="added"||(d=f(u,d)).length&&(d.forEach(h=>{a?(m.add(h),l.delete(h)):(m.delete(h),l.add(h))}),r.maintainCallState?T(d,o,r,a,p,m,l):T(d,o,r,a,p))},c=r.context||e.document.documentElement;return ge.call(e,c,(d,a,p,h)=>{s(d,0,1),s(a,1,0),s(p,0,0),s(h,1,1)})}};function T(e,t,n,...o){n.each?e.forEach(r=>t(r,...o)):e instanceof Set&&e.size?t([...e],...o):Array.isArray(e)&&e.length&&t(e,...o)}var P=new Map;function ge(e,t){let n=this;if(!P.has(e)){let r=new Set,i=new n.MutationObserver(u=>{if(!r.size)return;let[m,l,s,c]=ye(u);r.forEach(d=>d(m,l,s,c))}),f=e instanceof n.HTMLTemplateElement?e.content:e;i.observe(f,{childList:!0,subtree:!0}),P.set(e,{callbacks:r,observer:i})}P.get(e).callbacks.add(t);let o={disconnect(){let r=P.get(e);return r.callbacks.delete(t),r.callbacks.size||(r.observer.disconnect(),P.delete(e)),{reconnect(){let i=P.get(e);return i?(i.callbacks.add(t),o):ge.call(n,e,t)}}}};return o}function ye(e){let t=new Set,n=new Set,o=new Set,r=new Set;return e.forEach(i=>{i.addedNodes.forEach(f=>{f.isConnected?t.add(f):r.add(f)}),i.removedNodes.forEach(f=>{f.isConnected&&t.has(f)?(t.delete(f),n.add(f)):o.add(f)}),r.forEach(f=>{o.has(f)||(r.delete(f),t.add(f))})}),[n,r,o,t]}function xe(){Qe.call(this),ze.call(this),Ve.call(this)}function Qe(){let e=this;e.CSS||(e.CSS={}),e.CSS.escape||(e.CSS.escape=t=>t.replace(/([\:@\~\$\&])/g,"\\$1"))}function ze(){let e=this;"isConnected"in e.Node.prototype||Object.defineProperty(e.Node.prototype,"isConnected",{get:function(){return!this.ownerDocument||!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}function Ve(){let e=this;e.Element.prototype.matches||(e.Element.prototype.matches=e.Element.prototype.matchesSelector||e.Element.prototype.mozMatchesSelector||e.Element.prototype.msMatchesSelector||e.Element.prototype.oMatchesSelector||e.Element.prototype.webkitMatchesSelector||function(t){for(var n=(this.document||this.ownerDocument).querySelectorAll(t),o=n.length;--o>=0&&n.item(o)!==this;);return o>-1})}function we(){let e=this;if(e.wq||(e.wq={}),e.wq.dom)return e.wq.dom;let t=Q(e),n=he(e),o=_e(e);return t.prototype.realtime=function(...r){return r.length?new o(...r):new o(...this)},e.wq.dom=new t,e.wq.dom.reflow=new n,e.wq.dom.ready=de.bind(e),e.wq.dom.meta=pe.bind(e),e.wq.dom.extend=(r,i,{supportsRealtime:f=!1}={})=>{f!=="only"&&(t.prototype[r]=i),f&&(o.prototype[r]=i)},xe.call(e),e.wq.dom}function te(e,t){return k(e,t,!0)}function re(e,t,n){return te(U(e,t),n)}function oe(e,t,n){return e.startsWith(t)&&e.endsWith(n)}function Oe(e,t,n=null,o={},r={}){let i=w(e,!1).map(s=>ve(null,null,s)),f=n||(s=>s),u={...o},m={...r};u.keys||(u.keys=s=>x(s)&&Reflect.ownKeys(s)||[]),u.get||(u.get=(s,c)=>x(s)&&Reflect.get(s,c)),m.delim||(m.delim="/");let l=I(i,t,f,u,m);return m.realtime&&g(o.subscribe)?{unsubscribe(){i.forEach(s=>(s.unsubscribe(),l))}}:l}function I(e,t,n,o,r,i=0){let f=Array.isArray(t)?t:z(t,[r.delim]).map(s=>s.trim());if(!f.length)return n([]);let u=()=>{let s=f.slice(0),c=s.shift(),d;return c.endsWith("?")&&(c=c.substr(0,c.length-1),d=!0),Ge(e,c,a=>s.length?I(a,s,p=>d&&p.length===0?n(a):n(p),o,r,i+1):n(a),o,r,i)},l=r.await&&g(o.ready)&&e.map(s=>o.ready(s.value,i))||[];return l.filter(s=>s).length?r.await==="atomic"?Promise.allSettled(l).then(u):Promise.race(l).then(u):u()}function z(e,t,n=!1){e=e.trim();let o=["()","{}","[]"];if(t.length===1&&o.includes(t[0])){let[i,f]=e.split(t[0][0],2);return f&&f.endsWith(t[0][1])&&(f=f.substr(0,f.length-1)),[i,f]}let[r]=e.split("").reduce(([i,f],u)=>(t.includes(u)&&!f?i.unshift(n?u:""):(["(","{","["].includes(u)?f++:[")","}","]"].includes(u)&&f--,i[0]+=u),[i,f]),[[""],0]);return r.reverse()}function Ge(e,t,n,o,r,i){let f=["|","&","+"],u=z(t,f,!0).map(m=>m.trim());return function m(l,s,c,d=null){let a=s.shift();return a?function p(h,y,q=null){let S=y.shift();if(!S)return m(l.concat(h),s,c,"end-of-tokens");let[R,Ee,Ae]=Je(S,f);return R==="|"&&h.length||R==="&"&&!h.length?m(l.concat(h),s,c,"early-return-1"):je(a,Ee,Ae,ie=>R==="&"&&!ie.length?m(l.concat(h),s,c,"early-return-2"):p(h.concat(ie),y,"next-token"),o,r,i)}([],c.slice(0)):n(l)}([],e.slice(0),u)}var be=new Map;function Je(e,t=[]){let n=be.get(e);if(!n){let o=e,r;t.includes(o.substr(0,1))&&(r=o.substr(0,1),o=o.substr(1).trim());let[i,...f]=z(o.trim(),[":"]),u=f.reduce((m,l)=>{let[s,c]=z(l.trim(),["()"]);return m[s]=c||!0,m},{});n=[r,i,u],be.set(e,n)}return n.slice(0)}function je(e,t,n,o,r,i,f){let u=Object.keys(n),m=[];function l(s){let c=u.shift();if(!c)return o(s);if(m.push(c),c==="deep"||c==="deepest"){if(!s.length||c==="deepest"){let d=`*${i.delim}${t}${m.map(a=>`:${a}(${n[a]===!0?"":n[a]})`).join("")}`;return I([e],d,a=>!a.length&&c==="deepest"&&e.name===t?l([e]):l(a),r,i,f)}return l(s)}if(c==="having"||c==="not-having"){let d=[],a;return function p(){return s.length?I([a=s.shift()],n[c],h=>((c==="not-having"&&!h.length||h.length)&&d.push(a),p()),r,i):l(d)}()}throw new Error(`Modifier not recognized: ${c}`)}if((t==="*"||t===""&&u.length)&&(t="("+(r.ownKeys||r.keys)(e.value).join("+")+")"),oe(t,"(",")")){let s=c=>l(c);return I([e],re(t,"(",")"),s,r,i,f)}return function s(c=null){c&&c.unsubscribe&&c.unsubscribe();let d=r.get(e.value,t),a;i.realtime&&g(r.subscribe)&&!e.nowUnsubscribed&&(a=r.subscribe(e.value,t,()=>s(c),f));let p=ve(e,t,d,a,c&&!0);return c=p,l(d?[p]:[])}()}var ve=(e,t,n,o=null,r=!1)=>{let i=e&&e.path.concat(t)||[],f=()=>{m.forEach(l=>l()),o&&o(),e&&e.unsubscribeCallbacks.delete(f),u.nowUnsubscribed=!0};e&&e.unsubscribeCallbacks.add(f);let u={name:t,value:n,unsubscribe:f},m=new Set;return Object.defineProperties(u,{context:{value:e},path:{value:i},event:{value:r?u:e&&e.event},unsubscribeCallback:{value:o},unsubscribeCallbacks:{value:m},nowUnsubscribed:{value:e&&e.nowUnsubscribed,writable:!0}}),u};var H=class extends Map{constructor(...t){super(...t),this.observers=new Set,this.state=new Map}set(t,n){let o=super.set(t,n);return this.fire("set",t,n,t),o}delete(t){let n=super.delete(t);return this.fire("delete",t),n}get(t){return this.fire("get",t),super.get(t)}keyNames(){return Array.from(super.keys())}setState(t,n){let o=this.state.set(t,n);return this.fire("set:state",t,n),o}getState(t){return this.fire("get:state",t),this.state.get(t)}observe(t,n,o){let r={type:t,key:n,callback:o};return this.observers.add(r),()=>this.observers.delete(r)}unobserve(t,n,o){if(Array.isArray(t)||Array.isArray(n))throw new Error('The "type" and "key" arguments can only be strings.');this.observers.forEach(r=>{!(V([t,"*"],r.type)&&V([n,"*"],r.key)&&r.callback===o)||this.observers.delete(r)})}fire(t,n,...o){Array.from(this.observers).forEach(r=>{!(V([t,"*"],r.type)&&V([n,"*"],r.key))||r.callback(...o)})}},V=(e,t)=>Array.isArray(t)?K(e,t).length:e.includes(t);var A=(e,...t)=>W(e,"oohtml",...t);function Ze(e){let t=this;class n extends H{set(i,f){let u=i.startsWith("#");if(u&&!(f instanceof Set))throw new Error(`Value for export ID "${i}" must be an instance of Set.`);if(!u&&!f.content)throw new Error(`Value for export ID "${i}" must be an instance of HTMLTemplateElement.`);return super.set(i,f)}ready(i=null){let f=(this.getState("request")||{}).request;if(!i)return f;f?f.then(i):i()}expose(){return this}query(i,f,u={},m={}){let l=this.context;if(!l||l!==t.document&&!l.matches(u.templateSelector))throw new Error('HTMLExportsCollection.query() expects a "<template>" element or the document object.');return Oe(l,i,f,{get:(s,c)=>n.node(s).get(c),keys:s=>n.node(s).keyNames().filter(c=>!c.startsWith("#")),subscribe:(s,c,d)=>n.node(s).observe(["set","delete"],c,d),ready:s=>n.node(s).ready(),...m},u)}static node(i){if(!A(i).has("exports")){let f=new this;Object.defineProperty(f,"context",{value:i}),A(i).set("exports",f)}return A(i).get("exports")}}class o extends n{}return t.wq.HTMLModulesCollection=o,t.wq.HTMLExportsCollection=n,{HTMLModulesCollection:o,HTMLExportsCollection:n}}function Xe(e){let t=this,{HTMLExportsCollection:n}=t.wq,o=(l,s)=>e.dispatchEvent(new t.CustomEvent(l,{detail:s})),r=e.getAttribute("src"),i=n.node(e),f=i.getState("request");if(f&&f.src===r)return;f&&f.controller.abort();let u=new AbortController,m=t.fetch(r,{signal:u.signal}).then(l=>l.ok?l.text():Promise.reject(l.statusText)).then(l=>(e.innerHTML=l.trim(),i.setState("request",void 0),o("load"),e)).catch(l=>(console.error(`Error fetching the bundle at "${r}": ${l.message}`),i.setState("request",void 0),o("loaderror"),e));return i.setState("request",{src:r,request:m,controller:u}),m}function Ce(e,t,{parent:n,level:o=0}){let r=this,{dom:i,HTMLExportsCollection:f}=r.wq;A(e).set("moduleMeta",{parent:n,level:o});let u=f.node(e),m=i.realtime(e).children((c,d)=>{let a=new Map;c.forEach(p=>{if(p.nodeType!==1)return;let h;if(p.matches(t.templateSelector)&&(h=p.getAttribute(t.attr.moduleid))){if(!d)A(p).get("moduleRealtimeConn").disconnect(),u.delete(h);else{let S=Ce.call(this,p,t,{parent:e,level:o+1});A(p).set("moduleRealtimeConn",S),u.set(h,p)}return}let y,q;p.matches&&p.matches(t.element.export)?(y=p.getAttribute(t.attr.exportid)||"default",q=w(p.children).map(S=>(S.setAttribute(t.attr.exportgroup,y),S))):(y=p.getAttribute(t.attr.exportgroup)||"default",q=[p]),a.has(y)||a.set(y,[]),a.get(y).push(...q)}),a.forEach((p,h)=>{let y=u.get(`#${h}`);d?y=new Set(y?[...y].concat(p):p):y&&p.forEach(q=>y.delete(q)),!d&&!y.size?u.delete(`#${h}`):u.set(`#${h}`,y)})}),l=(c=!1)=>{if(!(e.content||e).children.length)return u.unobserve("get:state","request",l),u.unobserve("get","*",l),Xe.call(this,e)},s=i.realtime(e).attributes(["src","loading"],(c,d)=>{!c||(d==="lazy"?(u.observe("get:state","request",l),u.observe("get","*",l)):l(!0))});return{disconnect(){[m,s].forEach(c=>c.disconnect()),u.forEach((c,d)=>{d.startsWith("#")||A(c).get("moduleRealtimeConn").disconnect()})}}}function Ye(e){let t=this,{dom:n,HTMLModulesCollection:o,HTMLExportsCollection:r}=t.wq,i=o.node(t.document);n.realtime().querySelectorAll(e.templateSelector,(f,u)=>{let m=f.getAttribute(e.attr.moduleid);if(!u)A(f).get("moduleRealtimeConn").disconnect(),i.delete(m);else{let l=Ce.call(this,f,e,{parent:t.document});A(f).set("moduleRealtimeConn",l),i.set(m,f)}},{each:!0})}function ke(e){let t=this,{HTMLModulesCollection:n,HTMLExportsCollection:o}=t.wq;if(e.api.modules in t.document)throw new Error(`document already has a "${e.api.modules}" property!`);if(e.api.exports in t.HTMLTemplateElement.prototype)throw new Error(`The "HTMLTemplateElement" class already has a "${e.api.exports}" property!`);Object.defineProperty(t.document,e.api.modules,{get:function(){return n.node(t.document).expose()}}),Object.defineProperty(t.HTMLTemplateElement.prototype,e.api.exports,{get:function(){return o.node(this).expose()}})}function ne(e={}){let t=this,o=we.call(t).meta("oohtml").copyWithDefaults(e,{element:{template:"",export:"export",import:"import"},attr:{moduleid:"name",moduleref:"template",exportid:"name",exportgroup:"exportgroup"},api:{modules:"templates",exports:"exports"}});o.templateSelector=`template${o.element.template?`[is="${o.element.template}"]`:""}[ ${t.CSS.escape(o.attr.moduleid)}]`;let{HTMLExportsCollection:r}=Ze.call(this,o);return Ye.call(this,o),o.expose!==!1&&ke.call(this,o),{HTMLExportsCollection:r}}ne.call(window);})();
//# sourceMappingURL=html-modules.js.map
