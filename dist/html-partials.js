!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=25)}([function(t,e,r){"use strict";var n=r(8);r(7);const a={window:null,trap:n.a,params:{bundleElement:"partials-bundle",templateElement:"template",templateNamespaceAttribute:"name",slotReferenceAttribute:"partials-slot",templateReferenceAttribute:"template",slotElement:"partials-slot",slotNameAttribute:"name",itemsBindingMethod:"partialsItemize",itemIndexAttribute:"partials-index",keyValAttributes:[],listAttributes:[],inertContexts:["template"],inertSubjects:[],noinheritAttributes:["nocompose","name","template"],recomposeCallback:null}};e.a=a},function(t,e,r){"use strict";var n=r(8);r(7);const a={window:null,trap:n.a,params:{scriptElement:'script[type="scoped"]',globalBindingMethod:"bind",localBindingMethod:"bind",inertContexts:[]}};e.a=a},function(t,e,r){"use strict";e.a=function(t){return Array.isArray(t)}},function(t,e,r){"use strict";var n=r(8);r(7);const a={window:null,trap:n.a,params:{rootAttribute:"root",scopedIdAttribute:"scoped:id",namespacePropertyName:"idrefs",inertContexts:[],inertSubjects:[]}};e.a=a},function(t,e,r){"use strict";r.d(e,"f",(function(){return m})),r.d(e,"c",(function(){return b})),r.d(e,"e",(function(){return v})),r.d(e,"b",(function(){return y})),r.d(e,"d",(function(){return w})),r.d(e,"a",(function(){return g}));var n,a,i=r(10),s=r(11),o=r(2),l=function(t,e,r=null){return Object(o.a)(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1===e.indexOf(t)):[]},c=r(6),u=r(9),f=r(7),p=function(t,e,r=null){return Object(f.a)(t,Object(u.a)(e)?e:function(t,e=null){var r={};return 2===arguments.length&&(Object(o.a)(t)&&Object(o.a)(e)?t.forEach((t,n)=>r[t]=e[n]):r[t]=e),r}(e,r))},h=r(5),d=[];function m(t){"complete"===h.a.window.document.readyState?t():d.push(t),h.a.window.document.addEventListener("DOMContentLoaded",()=>{d.forEach(t=>t()),d.splice(0)},!1)}function b(t,e,r={}){m(()=>{Object(c.a)(h.a.window.document.querySelectorAll(t)).forEach(t=>e(t,1)),h.a.window.MutationObserver&&(r.on||(r.on="connected"),v(t,(t,r)=>{t.forEach(t=>e(t,r))},r))})}function v(t,e,r={}){t=Object(c.a)(t,!1);var n=(t,e)=>{if(e=e.filter(t=>t.matches),Object(i.a)(t)){var n=e.filter(e=>e.matches(t));if(!1!==r.observeIndirectMutation&&(n=e.reduce((e,r)=>e.concat(Object(c.a)(r.querySelectorAll(t))),n)).length)return n}else{if(e.includes(t))return[t];if(!1!==r.observeIndirectMutation&&e.length)for(var a=t;a=a.parentNode;)if(e.includes(a))return[t]}},a=[],s=[],o=r.context||h.a.window.document.documentElement,u=new h.a.window.MutationObserver(o=>{if(!r.on||"connected"===r.on){var f=[];if(t.forEach(t=>{if(Object(i.a)(t))f=o.reduce((e,r)=>e.concat(n(t,Object(c.a)(r.addedNodes))||[]),f);else{var e=o.reduce((e,r)=>e||(n(t,Object(c.a)(r.addedNodes))||[])[0],null);e&&f.push(e)}}),f.length)if(r.onceEach){var p=l(f,a);p.length&&(a.push(...p),e(p,1))}else r.once&&u.disconnect(),e(f,1)}if(!r.on||"disconnected"===r.on){var h=[];if(t.forEach(t=>{if(Object(i.a)(t))h=o.reduce((e,r)=>e.concat(n(t,Object(c.a)(r.removedNodes))||[]),h);else{var e=o.reduce((e,r)=>e||(n(t,Object(c.a)(r.removedNodes))||[])[0],null);e&&h.push(e)}}),h.length)if(r.onceEach){var d=l(h,s);d.length&&(s.push(...d),e(d,0))}else r.once&&u.disconnect(),e(h,0)}});return u.observe(o,{childList:!0,subtree:!0}),u}function y(t,e,r=[]){var n=new h.a.window.MutationObserver(t=>{t.forEach(t=>{e(t)})}),a={attributes:!0,attributeOldValue:!0};return r&&(a.attributeFilter=r),n.observe(t,a),n}function w(t){return n||(a=h.a.window.document.querySelector('meta[name="chtml"]'))&&(n=(a.getAttribute("content")||"").split(";").reduce((t,e)=>{var r=e.split("=").map(t=>t.trim());return p(t,r[0],"true"===r[1]||"false"!==r[1]&&(Object(s.a)(r[1])?parseInt(r[1]):r[1]))},{})),n?n[t]:void 0}function g(t){return h.a.window.CSS?h.a.window.CSS.escape(t):t.replace(/([\:@\~\$\&])/g,"\\$1")}},function(t,e,r){"use strict";var n=r(8),a=r(3),i=r(1),s=r(0);i.a.params.inertContexts.push(s.a.params.slotElement,s.a.params.moduleElement),a.a.params.inertSubjects.push(s.a.params.slotElement);var o,l,c={get window(){return o},set window(t){o=t,a.a.window=t,i.a.window=t,s.a.window=t},get trap(){return l},set trap(t){l=t,a.a.trap=t,i.a.trap=t,s.a.trap=t},params:{SCOPED_HTML:a.a.params,SCOPED_JS:i.a.params,HTML_PARTIALS:s.a.params}};c.trap=n.a,e.a=c},function(t,e,r){"use strict";var n=r(2),a=r(10),i=r(14),s=r(15),o=r(9);e.a=function(t,e=!0){return Object(n.a)(t)?t:!e&&Object(o.a)(t)?[t]:!1!==t&&0!==t&&Object(s.a)(t)?[]:function(t){return!Object(a.a)(t)&&!Object(i.a)(t.length)}(t)?Array.prototype.slice.call(t):Object(o.a)(t)?Object.values(t):[t]}},function(t,e,r){"use strict";var n=r(2),a=r(13),i=r(9),s=r(12),o=r(11),l=function(t,e){var r=[];return function(t,e){e=(e=e||Object.prototype)&&!Object(n.a)(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r}(t,e).forEach(t=>{!function(t,...e){e.forEach(e=>{t.indexOf(e)<0&&t.push(e)})}(r,...Object.getOwnPropertyNames(t))}),r};e.a=function(...t){return function t(e,r,c=!1,u=!1,f=!0){var p=0,h=e.shift();if((Object(o.a)(h)||!0===h||!1===h)&&(p=h,h=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((e,d)=>{(Object(s.a)(e)||Object(a.a)(e))&&(c?l(e):Object.getOwnPropertyNames(e)).forEach(a=>{var s=h[a],l=e[a];if((Object(n.a)(s)&&Object(n.a)(l)||Object(i.a)(s)&&Object(i.a)(l))&&(!0===p||p>0))h[a]=Object(n.a)(s)&&Object(n.a)(l)?[]:{},t([Object(o.a)(p)?p-1:p,h[a],s,l],r,c,u,f);else if(r(a,h,e,d))if(Object(n.a)(h)&&Object(n.a)(e))u?h[a]=l:h.push(l);else try{f?Object.defineProperty(h,a,Object.getOwnPropertyDescriptor(e,a)):h[a]=e[a]}catch(t){}})}),h}(t,(t,e,r)=>!0,!1,!1,!1)}},function(t,e,r){"use strict";var n=function(t){return Array.isArray(t)},a=function(t){return t instanceof String||"string"==typeof t&&null!==t},i=function(t){return arguments.length&&(void 0===t||void 0===t)},s=function(t){return null===t||""===t},o=function(t){return"function"==typeof t},l=function(t){return Array.isArray(t)||"object"==typeof t&&t||o(t)},c=function(t){return!Array.isArray(t)&&"object"==typeof t&&t},u=function(t,e=!0){return n(t)?t:!e&&c(t)?[t]:!1!==t&&0!==t&&function(t){return s(t)||i(t)||!1===t||0===t||l(t)&&!Object.keys(t).length}(t)?[]:function(t){return!a(t)&&!i(t.length)}(t)?Array.prototype.slice.call(t):c(t)?Object.values(t):[t]},f=function(t){return o(t)||t&&"[object function]"==={}.toString.call(t)},p=function(t){return typeof t},h=function(t,e,r=null){if(!l(t))throw new Error('Object must be of type subject; "'+p(t)+'" given!');var n;return!(n=t[e])&&r&&(n=new r(t),Object.defineProperty(t,e,{get:()=>n,set:t=>{if(t!==n)throw new Error('Attempt to overwrite the "'+e+'" special property!')},enumerable:!1})),n},d=function(t,e,r=null){return n(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1!==e.indexOf(t)):[]},m=class{constructor(t){this.subject=t,this.fireables=[],this.currentlyFiring=[]}add(t){return this.fireables.push(t),t}forget(t){this.filter(t).forEach(t=>{this.fireables=this.fireables.filter(e=>e!==t)})}filter(t){return this.fireables.filter(e=>{var r=u(e.filter),n=u((e.params||{}).tags),a=u(t.filter),i=u((t.params||{}).tags);return!(t.originalHandler&&e.handler!==t.originalHandler||a.length&&(a.length!==r.length||d(r,a).length!==a.length)||i.length&&(i.length!==n.length||d(n,i).length!==i.length))})}},b=function(t,...e){return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t},v=function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?"":t.substr(n+e.length)},y=function(t,e,r={},n={}){e=u(e).slice();for(var a=t;!i(a)&&!s(a)&&e.length;){var o=e.shift();if(!(r.get?r.get(a,o):l(a)?o in a:a[o]))return void(n.exists=!1);a=r.get?r.get(a,o):a[o]}return n.exists=!0,a},w=function(t,e=null){var r={};return 2===arguments.length&&(n(t)&&n(e)?t.forEach((t,n)=>r[t]=e[n]):r[t]=e),r},g=function(t){return!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)},j=function(t){return o(t)&&/^class\s?/.test(Function.prototype.toString.call(t))},O=function(t,e){var r=[];return function(t,e){e=(e=e||Object.prototype)&&!n(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r}(t,e).forEach(t=>{b(r,...Object.getOwnPropertyNames(t))}),r};function E(t,e,r=!1,a=!1,i=!0){var s=0,o=t.shift();if((g(o)||!0===o||!1===o)&&(s=o,o=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,u)=>{(l(t)||f(t))&&(r?O(t):Object.getOwnPropertyNames(t)).forEach(l=>{var f=o[l],p=t[l];if((n(f)&&n(p)||c(f)&&c(p))&&(!0===s||s>0))o[l]=n(f)&&n(p)?[]:{},E([g(s)?s-1:s,o[l],f,p],e,r,a,i);else if(e(l,o,t,u))if(n(o)&&n(t))a?o[l]=p:o.push(p);else try{i?Object.defineProperty(o,l,Object.getOwnPropertyDescriptor(t,l)):o[l]=t[l]}catch(t){}})}),o}var A=function(t,e=[],r=!0){var a=0;return g(arguments[0])&&l(arguments[1])&&(a=arguments[0],t=arguments[1],e=arguments[2]||[]),E([a,{},t],(t,r,a)=>f(e)?e(t):!n(e)||!e.length||e.indexOf(t)>-1,!1,!1,r)},S=function(t,e,r=null,n={}){if(!t||!l(t))throw new Error('Object must be of type subject; "'+p(t)+'" given!');if(f(e)&&(n=arguments.length>2?r:{},r=e,e=null),r&&!f(r))throw new Error('Handler must be a function; "'+p(r)+'" given!');var a;if(a=z(t,!1))return a.forget({filter:e,originalHandler:r,params:n})},x=function(t,e){var r=void 0;return l(t)&&Object.keys(t).forEach((n,a)=>{!1!==r&&(r=e(g(n)?parseFloat(n):n,t[n],a))}),r},P=class{constructor(t,e){this.subject=t,this.handler=e.handler,this.filter=e.filter,this.params=e.params}disconnect(){this.disconnected=!0}},T=class extends P{fire(t,e,r){return this.disconnected||this.filter&&this.filter!==t.type?e(...Array.prototype.slice.call(arguments,2)):this.handler(t,r,e)}},N=class{constructor(t,e){if(this.subject=t,!e.type)throw new Error("Action type must be given in definition!");x(e,(t,e)=>{Object.defineProperty(this,t,{value:e,enumerable:!0})}),Object.seal(this)}},k=class extends m{add(t){return super.add(new T(this.subject,t))}fire(t,e=null){if(t instanceof N||(t=new N(this.subject,t)),this.currentlyFiring.filter(e=>e.type===t.type&&e.name===t.name).length)return e?e():void 0;this.currentlyFiring.push(t);const r=(n,...a)=>{var i=this.fireables[n];return i?i.fire(t,(...t)=>r(n+1,...t),...a):e?e(...a):a[0]};var n=r(0);return this.currentlyFiring.pop(),n}},C=function(t,e=!0){return h(t,".interceptors",e?k:null)},M=function(t,e){if(!e||!l(e))throw new Error("Target must be of type object!");var r,n=function(r){return arguments.length?r:t?Object.getOwnPropertyNames(e):Object.keys(e)};return(r=C(e,!1))?r.fire({type:t?"ownKeys":"keys"},n):n()},_=function(t){return M(!1,...arguments)};function B(t,e=null,r=!1){if(!t||!l(t))throw new Error("Target must be of type object!");var n=z(t);if(!n.build){n.build=!0;var a=(e=u(e)).length&&!e.filter(t=>t.startsWith(".")).length?e.map(t=>function(t,e,r=!1){if(""==e)return t;var n=r?t.lastIndexOf(e):t.indexOf(e);return-1===n?t:t.substr(0,n)}(t,".")):_(t).filter(t=>!t.startsWith(".")),i=e.length?e.map(t=>v(t,".")):null;a.forEach(e=>{var n=I(t,e);l(n)&&(L(t,e,n),(i||r)&&B(n,i,r))})}}var H=function(t,e,r=null,n={}){if(!t||!l(t))throw new Error('Object must be of type subject; "'+p(r)+'" given!');if(f(e)&&(n=arguments.length>2?r:{},r=e,e=null),!f(r))throw new Error('Callback must be a function; "'+p(r)+'" given!');var a={filter:e,handler:r,params:n};(a.filter||a.params.subtree)&&B(t,a.filter,a.params.subtree);var i,s=z(t);return a.params.unique&&(i=s.filter({filter:e,params:n})).length?i[0]:s.add(a)},R=class{constructor(t,e){if(this.subject=t,e.originalSubject||(this.originalSubject=t),!("type"in e))throw new Error("Delta type must be given in definition!");if(!("name"in e))throw new Error("Property name must be given in definition!");x(e,(t,e)=>{Object.defineProperty(this,t,{value:e,enumerable:!0})}),this.path||Object.defineProperty(this,"path",{value:e.name,enumerable:!0}),Object.seal(this)}},L=function(t,e,r){var n;H(r,r=>{if(n=z(t,!1)){var a=r.map(r=>{var n={};return x(r,(t,e)=>{"subject"!==t&&"name"!==t&&"path"!==t&&(n[t]=e)}),n.name=e,n.path=e+"."+r.path,n.originalSubject=r.originalSubject,new R(t,n)});return n.fire(a)}},{subtree:!0,unique:!0,tags:[F,e,t]})};const F={};var D=function(t,e,r){S(r,null,null,{tags:[F,e,t]})},V=function(t,...e){var r=e.map(t=>{if(!l(t))throw new Error("Target must be of type object!");return{subject:t,subjectCopy:n(t)?t.slice(0):A(t)}}),a=t(...e);return r.map(t=>{var e,r,a=Object.keys(t.subjectCopy),i=Object.keys(t.subject),s=[],o=(e=a.concat(i),e.filter((t,e,r)=>r.indexOf(t)===e)).map(e=>{if((!n(t.subject)||"length"!==e&&".observer"!==e)&&t.subjectCopy[e]!==t.subject[e]){s.push(e);var r={name:e,related:s,buffered:!0};return i.includes(e)?(r.type="set",r.value=t.subject[e],a.includes(e)&&(r.isUpdate=!0)):r.type="del",a.includes(e)&&(r.oldValue=t.subjectCopy[e]),l(t.subjectCopy[e])&&D(t.subject,e,t.subjectCopy[e]),l(t.subject[e])&&L(t.subject,e,t.subject[e]),r}}).filter(t=>t);if(o.length&&(r=z(t.subject,!1)))return r.fire(o)}),a},I=function(t,e,r=!1){if(!t||!l(t))throw new Error("Target must be of type object!");var a,i,s=function(r){return arguments.length?r:n(e)?w(e,t):t[e]};return a=(i=C(t))?i.fire({type:"get",name:e},s):s(),r&&n(t)&&!g(e)&&f(a)&&!j(a)?function(...e){return V(()=>a.apply(t,e),t)}:a},W=class extends P{constructor(t,e){if(super(t,e),this.filterArray=u(this.filter),this.isDynamicFilter=this.filterArray.filter(t=>a(t)&&(t.indexOf("..")>-1||t.startsWith(".")||t.endsWith("."))).length,this.isDynamicFilter&&this.filterArray.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filterArray.join(", ")+'" have been bound together.')}fire(t){var e,r;if(!(this.disconnected||this.params.type&&(e=t,r=t=>this.params.type===t.type,!e.reduce((t,e)=>t||r(e),!1))))if(this.filterArray.length){var i=[];this.filterArray.filter((e,r)=>(e=a(e)?e.replace(/`/g,""):e,i[r]=[],t.filter(t=>{var n=t.path.split("."),a=this.isDynamicFilter?e.split(".").map((t,e)=>t||n[e]||"").join("."):e;return b(i[r],a),(a===t.name||!1!==this.params.suptree&&(a+".").startsWith(t.path+".")||this.params.subtree&&(t.path+".").startsWith(a+"."))&&(!this.isDynamicFilter||!a.split(".").filter(t=>!t).length)}).length)).length&&function(t){return t.reduce((t,e)=>{var r=[];return t.forEach(t=>{u(e).forEach(e=>{var n=t.slice();n.push(e),r.push(n)})}),r},[[]])}(i).forEach(e=>{var r=this.formatChanges(e,t);this.handler(n(this.filter)?r:r[0])})}else this.filter||!this.params.subtree&&t.filter(t=>t.path===t.name).length!==t.length||this.handler(t)}formatChanges(t,e){return!1===this.params.data?[]:t.map(t=>{var r=e.reduce((e,r)=>{if(e)return e;if(t+""==r.path+"")return r;if((t+".").startsWith(r.path+".")){var n=a(t)?v(t,r.path+".").split("."):t;e=new R(r.subject,{type:r.type,name:t});return("del"===r.type||r.isUpdate)&&(e.oldValue=y(r.oldValue,n,{get:I})),"del"!==r.type&&(e.value=y(r.value,n,{get:I})),e}},null);return r||(r=new R(this.subject,{type:"get",name:t,value:y(this.subject,a(t)?t.split("."):t,{get:I})})),r})}},q=class extends m{add(t){return super.add(new W(this.subject,t))}fire(t){return t=u(t,!1).map(t=>t instanceof R?t:new R(this.subject,t)),!this.currentlyFiring.filter(e=>t.filter(t=>e.type===t.type&&e.name===t.name).length).length&&(this.currentlyFiring.push(...t),this.fireables.forEach(e=>{if(t.propagationStopped)return!1;e.fire(t)}),t.forEach(t=>function(t,e,r=!1){for(var n=t.indexOf(e);n>-1&&(r||!1===r);)t.splice(n,1),r>0&&r--,n=t.indexOf(e);return t}(this.currentlyFiring,t)),!0)}},z=function(t,e=!0){return h(t,".observers",e?q:null)},K=function(t,e){if(!t||!l(t))throw new Error("Target must be of type object!");var r,n=function(r){return arguments.length?r:e in t};return(r=C(t,!1))?r.fire({type:"has",name:e},n):n()},U=function(t,e,r,i=null,s=null){if(!e||!l(e))throw new Error("Target must be of type object!");c(r)&&(s=i,i=null);var o=C(e,!1),f=z(e,!1);const p=(r,n,a,i)=>{var s,c="set";t&&(c="def",n=(s=n||{}).value);var u={name:r,type:c,value:n,related:a,detail:i};K(e,r)&&(u.isUpdate=!0,u.oldValue=I(e,r));var p=function(t){return arguments.length?t:(s?Object.defineProperty(e,r,s):e[r]=n,!0)};if(o){var h=s?{type:"def",name:r,descriptor:s,related:a,detail:i}:{type:"set",name:r,value:n,related:a,detail:i};u.success=o.fire(h,p)}else u.success=p();return u.success&&u.value!==u.oldValue&&(l(u.oldValue)&&D(e,r,u.oldValue),l(u.value)&&(L(e,r,u.value),f&&f.build&&B(u.value,null,!0))),u};var h,d,m=[];n(r)||(a(r)||((d=r)instanceof Number||"number"==typeof d))&&(h=u(r))?m=h.map(t=>p(t,i,h,s)):c(r)&&(h=Object.keys(r))&&(m=h.map(t=>p(t,r[t],h,s)));var b=m.filter(t=>t.success);return f&&f.fire(b),b.length>0},$=function(t,e,r=null,n=null){return U(!1,...arguments)},J=function(t,e,r=null){if(!t||!l(t))throw new Error("Target must be of type object!");var n,a=(e=u(e)).map(n=>{var a={name:n,type:"del",related:e,detail:r};K(t,n)&&(a.oldValue=I(t,n));var i,s=function(e){return arguments.length?e:(delete t[n],!0)};return(i=C(t,!1))?a.success=i.fire({type:"del",name:n,related:e},s):a.success=s(),a.success&&l(a.oldValue)&&D(t,n,a.oldValue),a}).filter(t=>t.success);return(n=z(t,!1))&&n.fire(a),a.length>0},G=function(t,e,r=null,n=null){return U(!0,...arguments)},Q=function(t){return M(!0,...arguments)};const X=J,Y=G;e.a={set:$,get:I,has:K,deleteProperty:J,del:X,defineProperty:G,def:Y,keys:_,ownKeys:Q,intercept:function(t,e,r,n={}){if(!l(t))throw new Error('Object must be of type subject; "'+p(r)+'" given!');if(f(e)&&(n=arguments.length>2?r:{},r=e,e=null),!f(r))throw new Error('Callback must be a function; "'+p(r)+'" given!');var a,i=C(t),s={filter:e,handler:r,params:n};return s.params.unique&&(a=i.filter(s)).length?a[0]:i.add(s)},unintercept:function(t,e,r=null,n={}){if(!t||!l(t))throw new Error('Object must be of type subject; "'+p(t)+'" given!');if(f(e)&&(n=arguments.length>2?r:{},r=e,e=null),r&&!f(r))throw new Error('Handler must be a function; "'+p(r)+'" given!');var a;if(a=C(t,!1))return a.forget({filter:e,originalHandler:r,params:n})},proxy:function(t){if(!l(t))throw new Error('Object must be of type subject; "'+p(t)+'" given!');var e=new Proxy(t,{get:(t,r)=>{var n=I(t,r);return f(n)&&!j(n)?n.bind(e):n},set:$,has:K,deleteProperty:J,defineProperty:G,ownKeys:Q});return e},observe:H,unobserve:S,closure:V,init:function(t,e){u(e).forEach(e=>{var r,n,a=t[e],i=Object.getOwnPropertyDescriptor(t,e)||{enumerable:!(e in t)};"value"in i&&delete i.value,"writable"in i&&delete i.writable,i.get=()=>{if(r)return a;r=!0;var n=I(t,e);return r=!1,n},i.set=r=>{if(n)return a=r,!0;n=!0;$(t,e,r);return n=!1,!0},Object.defineProperty(t,e,i)})},build:B,link:L,unlink:D}},function(t,e,r){"use strict";e.a=function(t){return!Array.isArray(t)&&"object"==typeof t&&t}},function(t,e,r){"use strict";e.a=function(t){return t instanceof String||"string"==typeof t&&null!==t}},function(t,e,r){"use strict";e.a=function(t){return!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)}},function(t,e,r){"use strict";var n=r(16);e.a=function(t){return Array.isArray(t)||"object"==typeof t&&t||Object(n.a)(t)}},function(t,e,r){"use strict";var n=r(16);e.a=function(t){return Object(n.a)(t)||t&&"[object function]"==={}.toString.call(t)}},function(t,e,r){"use strict";e.a=function(t){return arguments.length&&(void 0===t||void 0===t)}},function(t,e,r){"use strict";var n=r(14),a=r(12);e.a=function(t){return function(t){return null===t||""===t}(t)||Object(n.a)(t)||!1===t||0===t||Object(a.a)(t)&&!Object.keys(t).length}},function(t,e,r){"use strict";e.a=function(t){return"function"==typeof t}},function(t,e,r){"use strict";e.a=function(t,e){return t.reduce((t,r)=>t||e(r),!1)}},,function(t,e,r){"use strict";e.a=function(t,e,r=!1){for(var n=t.indexOf(e);n>-1&&(r||!1===r);)t.splice(n,1),r>0&&r--,n=t.indexOf(e);return t}},,function(t,e,r){"use strict";var n={};r.r(n),r.d(n,"mergePartials",(function(){return d})),r.d(n,"mergeAttributes",(function(){return m}));var a=r(15),i=r(17),s=r(6),o=r(19),l=r(12),c=r(11),u=function(t,e){var r=void 0;return Object(l.a)(t)&&Object.keys(t).forEach((n,a)=>{!1!==r&&(r=e(Object(c.a)(n)?parseFloat(n):n,t[n],a))}),r},f=r(4),p=function(t){return t.filter((t,e,r)=>r.indexOf(t)===e)},h=r(0);function d(t,e,r=[]){return e.partialsSlottables?(u(e.partialsSlottables,(e,n)=>{if(t.partialsSlottables&&t.partialsSlottables[e]){var a=r.concat((t.getAttribute("noinherit")||"").split(" ").map(t=>t.trim()));m(t.partialsSlottables[e],n,a,!1)}else t.append(n.clone(!0))}),t):t}function m(t,e,r=[],n=!0){r=r.concat(h.a.params.noinheritAttributes),t.hasAttribute("noinherit")&&(r=r.concat((t.getAttribute("noinherit")||"*").split(" ").map(t=>t.trim())));var a=h.a.params.listAttributes.concat(["role","class"]);if(p(a).forEach(a=>{var i,s;if(!r.includes(a)&&!r.includes("*")&&(i=e.getAttribute(a))){if(s=t.getAttribute(a))var o=n?[s,i]:[i,s];else o=[i];t.setAttribute(a,p(o.join(" ").split(" ").map(t=>t.trim())).join(" ")),r.push(a)}}),p(h.a.params.keyValAttributes.concat("style")).forEach(a=>{var i,s;if(!r.includes(a)&&!r.includes("*")&&(i=e.getAttribute(a))){if(s=t.getAttribute(a))(o=n?[s,i]:[i,s])[0].trim().endsWith(";")||(o[0]=o[0]+";");else var o=[i];t.setAttribute(a,o.join(" ")),r.push(a)}}),!r.includes("*"))for(var i=0;i<e.attributes.length;i++){var s=e.attributes[i];r.includes(s.name)||t.hasAttribute(s.name)&&!n||t.setAttribute(s.name,s.value)}return t}var b=r(13),v=r(14);const y=t=>(t[".chtml"]||(t[".chtml"]={}),t[".chtml"]);function w(t,e,r=null,n=null){if(y(t).itemSlots||(y(t).itemSlots={}),t.template){var i=h.a.trap.keys(e),s=h.a.trap.keys(y(t).itemSlots);!s.length&&t.children.length&&(_arrFrom(t.children).forEach((e,r)=>{var n=e.getAttribute(h.a.params.itemIndexAttribute)||r;y(t).itemSlots[n]=e}),s=h.a.trap.keys(y(t).itemSlots));var o=new h.a.trap.MutationEvent(t,{type:"remodelling"});return p(i.concat(s)).forEach(s=>{var l,u=y(t).itemSlots[s];if(h.a.trap.has(e,s)){var f=h.a.trap.get(e,s),p=!1;if(!u){var d=t.template.partials[s];if(Object(a.a)(d)&&Object(c.a)(s)&&(d=t.template.partials["#"]),Object(a.a)(d)&&(d=t.template.partials.default),!Object(a.a)(d)){u=d[0].cloneNode(!0);var m=function(t,e,r=!1,n=!1,a=!1){if(-1===t.indexOf(e))return r?[]:void 0;var i=!0===r?t.length-1:!1===r?1:r,s=a?t.lastIndexOf(e)+1:t.indexOf(e)+1,o=Object(v.a)(e)?[]:t.slice(s,s+i);return n&&o.length<i&&o.length<t.length&&(Object(b.a)(n)&&!n(i-o.length)||(o=o.concat(t.slice(0,i-o.length)))),r?o:o[0]}(i,s+"",!0).reduce((e,r)=>e||y(t).itemSlots[r],null);if(m)m.before(u);else t.append(u);u.setAttribute(h.a.params.itemIndexAttribute,s),y(t).itemSlots[s]=u,p=!0}}u&&Object(b.a)(r)&&(l=r(u,f,s,p))}else if(u){Object(b.a)(n)&&(l=n(u));var w=()=>{u.remove(),delete y(t).itemSlots[s]};l instanceof Promise?l.then(w).catch(w):w()}o.response(l)}),o}}var g=!1,j=!1;e.a=function(){if(j)return;j=!0,function(){if(!g){if(g=!0,h.a.params.itemsBindingMethod in h.a.window.Element.prototype)throw new Error('The "Element" class already has a "'+h.a.params.itemsBindingMethod+'" property!');Object.defineProperty(h.a.window.Element.prototype,h.a.params.itemsBindingMethod,{value:function(t,e,r=null){return Object(l.a)(t)&&t&&h.a.trap.observe(t,()=>w(this,t,e,r),{data:!1,tags:["#HTMLPartials-itemize",this]}),Object(l.a)(y(this).itemData)&&h.a.trap.unobserve(y(this).itemData,null,null,{tags:["#HTMLPartials-itemize",this]}),y(this).itemData=t,w(this,t||{},e,r)}})}}();const t=t=>(t[".chtml"]||(t[".chtml"]={}),t[".chtml"]);if("templates"in h.a.window.document)throw new Error('document already has a "templates" property!');const e=[];Object.defineProperty(h.a.window.document,"templates",{value:{}}),Object.defineProperty(h.a.window.document,"templatesReadyState",{value:"loading",writable:!0});const r=t=>{var e=t.getAttribute(h.a.params.templateNamespaceAttribute);e in h.a.window.document.templates&&console.warn('"'+e+'" already exists in document.templates!'),h.a.window.document.templates[e]=t};Object(f.c)("template["+Object(f.a)(h.a.params.templateNamespaceAttribute)+"]",t=>{var n;r(t),Object(f.b)(t,e=>{delete h.a.window.document.templates[e[0].oldValue],r(t)},[h.a.params.templateNamespaceAttribute]),(n=t.getAttribute("src"))&&e.push(new Promise((e,r)=>{h.a.window.fetch?h.a.window.fetch(n).then(t=>t.ok?t.text():Promise.reject(t.statusText)).then(r=>{t.innerHTML=r,!0===Object(f.d)("isomorphic")&&t.removeAttribute("src"),e(t)}).catch(t=>{r("Error fetching the bundle at "+n+". ("+t+")")}):r("Error fetching the bundle at "+n+". (window.fetch() not supported by browser.)")}))});const c=e=>{(Object(a.a)(t(e).templates)||e.closest("[live]"))&&(t(e).templates={},t(e).partials={},Object(s.a)(e.content.children).forEach(r=>{var n;if(r instanceof h.a.window.HTMLTemplateElement&&(n=r.getAttribute(h.a.params.templateNamespaceAttribute)))t(e).templates[n]=r;else{var a=r.getAttribute(h.a.params.slotReferenceAttribute)||"default";t(e).partials[a]||(t(e).partials[a]=[]),t(e).partials[a].push(r)}}))};if("templates"in h.a.window.HTMLTemplateElement.prototype)throw new Error('The "HTMLTemplateElement" class already has a "templates" property!');if(Object.defineProperty(h.a.window.HTMLTemplateElement.prototype,"templates",{get:function(){return c(this),t(this).templates}}),"partials"in h.a.window.HTMLTemplateElement.prototype)throw new Error('The "HTMLTemplateElement" class already has a "partials" property!');if(Object.defineProperty(h.a.window.HTMLTemplateElement.prototype,"partials",{get:function(){return c(this),t(this).partials}}),"template"in h.a.window.Element.prototype)throw new Error('The "Element" class already has a "template" property!');Object.defineProperty(h.a.window.Element.prototype,"template",{get:function(){var e=this.getAttribute(h.a.params.templateReferenceAttribute);if(e){if(t(this).templates||(t(this).templates={}),!t(this).templates[e]||this.hasAttribute("template-nocache")){var r=e.split("/").filter(t=>t).reduce((t,e)=>t?t.templates[e]:null,h.a.window.document);r&&(t(this).templates[e]=r.cloneNode(!0))}return t(this).templates[e]}}}),Object(f.c)("["+Object(f.a)(h.a.params.templateReferenceAttribute)+"]",e=>{var r=h.a.params.inertContexts.concat(h.a.params.inertSubjects);Object(i.a)(r,t=>e.closest(t))||Object(f.b)(e,()=>{u(t(e).slots,(t,e)=>{e.resolve()})},[h.a.params.templateReferenceAttribute])}),h.a.window.customElements.define(h.a.params.slotElement,class extends h.a.window.HTMLElement{hydrate(t,e,r){this.anchorNode=t,this._slottedElements=e,this.compositionBlock=r,this._bindSlotted(e),this._connectToCompositionBlock()}attributeChangedCallback(t,e,r){t===h.a.params.slotNameAttribute&&(this.name=r)}connectedCallback(){this.anchorNode||(this.anchorNode=!0===Object(f.d)("isomorphic")?h.a.window.document.createComment(this.outerHTML):h.a.window.document.createTextNode(""),this.after(this.anchorNode),this.compositionBlock=this.parentNode.closest("["+Object(f.a)(h.a.params.templateReferenceAttribute)+"]"),this._connectToCompositionBlock(),Object(f.f)(()=>{Promise.all(e).then(()=>{this.resolve()})}))}_connectToCompositionBlock(){this.compositionBlock&&(t(this.compositionBlock).slots||(t(this.compositionBlock).slots={}),t(this.compositionBlock).slots[this.name]=this)}_bindSlotted(t){t.forEach(t=>{t.slotReference=this}),this.slottedObserver=Object(f.e)(t,t=>{t.forEach(t=>{t.parentNode||Object(o.a)(this._slottedElements,t),t.slotReference===this&&delete t.slotReference}),this._slottedElements.length||this.anchorNode.before(this)},{on:"disconnected",onceEach:!0})}resolve(){if(!Object(i.a)(h.a.params.inertContexts,t=>this.closest(t)))if(this.hasAttribute(h.a.params.templateReferenceAttribute)){this.compositionBlock&&t(this.compositionBlock).slots[this.name]===this&&delete t(this.compositionBlock).slots[this.name],this.template&&(e=this.template.partials[this.name])?this.fill(e):this.empty()}else{if(!this.compositionBlock)return void console.warn("Scoped slots must be found within template contexts. ["+this.name+"]",this);var e;this.compositionBlock.template&&(e=this.compositionBlock.template.partials[this.name])?this.fill(e):this.empty()}}fill(t){t=Object(s.a)(t,!1),this.empty(!0),this.remove(),t.forEach(t=>{"slot"===t.getAttribute(h.a.params.templateReferenceAttribute)&&d(t,this),m(t,this),t.getAttribute(h.a.params.slotReferenceAttribute)||t.setAttribute(h.a.params.slotReferenceAttribute,this.name),this.anchorNode.before(t)}),this._bindSlotted(t),this._slottedElements||(this._slottedElements=[]),this._slottedElements.push(...t)}empty(t=!1){if(this._slottedElements){var e=this._slottedElements;t&&this.slottedObserver&&(this.slottedObserver.disconnect(),e=this._slottedElements.splice(0)),e.forEach(t=>t.remove())}}get slottedElements(){return this._slottedElements}static get observedAttributes(){return[h.a.params.slotNameAttribute]}});if("partials"in h.a.window.document)throw new Error('document already has a "partials" property!');Object.defineProperty(h.a.window.document,"partials",{value:{composition:n,utils:{itemize:w}}}),e.forEach(t=>{t.catch(t=>{console.warn(t)})}),Object(f.f)(()=>{Promise.all(e).then(()=>{h.a.window.document.templatesReadyState="complete",h.a.window.document.dispatchEvent(new h.a.window.Event("templatesreadystatechange"))}),!0===Object(f.d)("isomorphic")&&Object(s.a)(h.a.window.document.querySelectorAll("["+Object(f.a)(h.a.params.slotReferenceAttribute)+"]")).forEach(e=>{if(!t(e.parentNode).slotsCan){var r=[];e.parentNode.childNodes.forEach(t=>{var e;if(1===t.nodeType&&t.matches("["+Object(f.a)(h.a.params.slotReferenceAttribute)+"]"))r.push(t);else if(8===t.nodeType&&(e=t.nodeValue.trim())&&e.startsWith("<"+h.a.params.slotElement)&&e.endsWith("</"+h.a.params.slotElement+">")){var n,a,i=h.a.window.document.createElement("div");i.innerHTML=e,(n=i.firstChild).matches(h.a.params.slotElement)&&(n.hasAttribute(h.a.params.templateReferenceAttribute)||(a=t.parentNode.closest("["+Object(f.a)(h.a.params.templateReferenceAttribute)+"]")),n.hydrate(t,r,a),r=[])}}),t(e.parentNode).slotsCan=!0}})})}},,,,function(t,e,r){"use strict";r.r(e);var n=r(21);r(0).a.window=window,Object(n.a)()}]);
//# sourceMappingURL=html-partials.js.map