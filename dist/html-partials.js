!function(t){var e={};function r(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=38)}([function(t,e,r){"use strict";var a=r(21);e.a=function(t){return Array.isArray(t)||"object"==typeof t&&t||Object(a.a)(t)}},function(t,e,r){"use strict";var a=r(16);r(14);const n={window:null,trap:a.a,params:{bundleElement:"partials-bundle",templateElement:"template",templateNamespaceAttribute:"name",slotReferenceAttribute:"partials-slot",templateReferenceAttribute:"template",slotElement:"partials-slot",slotNameAttribute:"name",itemsBindingMethod:"partialsItemize",itemIndexAttribute:"partials-index",keyValAttributes:[],listAttributes:[],inertContexts:["template"],inertSubjects:[],noinheritAttributes:["nocompose","name","template"],recomposeCallback:null}};e.a=n},function(t,e,r){"use strict";e.a=function(t){return Array.isArray(t)}},function(t,e,r){"use strict";var a=r(2),n=r(6),i=r(8),s=r(23),o=r(5);e.a=function(t,e=!0){return Object(a.a)(t)?t:!e&&Object(o.a)(t)?[t]:!1!==t&&0!==t&&Object(s.a)(t)?[]:function(t){return!Object(n.a)(t)&&!Object(i.a)(t.length)}(t)?Array.prototype.slice.call(t):Object(o.a)(t)?Object.values(t):[t]}},function(t,e,r){"use strict";var a=r(21);e.a=function(t){return Object(a.a)(t)||t&&"[object function]"==={}.toString.call(t)}},function(t,e,r){"use strict";e.a=function(t){return!Array.isArray(t)&&"object"==typeof t&&t}},function(t,e,r){"use strict";e.a=function(t){return t instanceof String||"string"==typeof t&&null!==t}},function(t,e,r){"use strict";var a=r(16);r(14);const n={window:null,trap:a.a,params:{scriptElement:'script[type="scoped"]',globalBindingMethod:"bind",localBindingMethod:"bind",inertContexts:[]}};e.a=n},function(t,e,r){"use strict";e.a=function(t){return arguments.length&&(void 0===t||void 0===t)}},function(t,e,r){"use strict";var a=r(16);r(14);const n={window:null,trap:a.a,params:{rootAttribute:"root",scopedIdAttribute:"scoped:id",namespacePropertyName:"idrefs",inertContexts:[],inertSubjects:[]}};e.a=n},function(t,e,r){"use strict";e.a=function(t){return!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)}},function(t,e,r){"use strict";r.d(e,"f",(function(){return h})),r.d(e,"c",(function(){return d})),r.d(e,"e",(function(){return m})),r.d(e,"b",(function(){return j})),r.d(e,"d",(function(){return O})),r.d(e,"a",(function(){return v}));var a,n,i=r(6),s=r(10),o=r(31),c=r(3),l=r(5),u=r(29),f=r(14),p=r(13),b=[];function h(t){"complete"===p.a.window.document.readyState?t():b.push(t),p.a.window.document.addEventListener("DOMContentLoaded",()=>{b.forEach(t=>t()),b.splice(0)},!1)}function d(t,e,r={}){h(()=>{Object(c.a)(p.a.window.document.querySelectorAll(t)).forEach(t=>e(t,1)),p.a.window.MutationObserver&&(r.on||(r.on="connected"),m(t,(t,r)=>{t.forEach(t=>e(t,r))},r))})}function m(t,e,r={}){t=Object(c.a)(t,!1);var a=(t,e)=>{if(e=e.filter(t=>t.matches),Object(i.a)(t)){var a=e.filter(e=>e.matches(t));if(!1!==r.observeIndirectMutation&&(a=e.reduce((e,r)=>e.concat(Object(c.a)(r.querySelectorAll(t))),a)).length)return a}else{if(e.includes(t))return[t];if(!1!==r.observeIndirectMutation&&e.length)for(var n=t;n=n.parentNode;)if(e.includes(n))return[t]}},n=[],s=[],l=r.context||p.a.window.document.documentElement,u=new p.a.window.MutationObserver(l=>{if(!r.on||"connected"===r.on){var f=[];if(t.forEach(t=>{if(Object(i.a)(t))f=l.reduce((e,r)=>e.concat(a(t,Object(c.a)(r.addedNodes))||[]),f);else{var e=l.reduce((e,r)=>e||(a(t,Object(c.a)(r.addedNodes))||[])[0],null);e&&f.push(e)}}),f.length)if(r.onceEach){var p=Object(o.a)(f,n);p.length&&(n.push(...p),e(p,1))}else r.once&&u.disconnect(),e(f,1)}if(!r.on||"disconnected"===r.on){var b=[];if(t.forEach(t=>{if(Object(i.a)(t))b=l.reduce((e,r)=>e.concat(a(t,Object(c.a)(r.removedNodes))||[]),b);else{var e=l.reduce((e,r)=>e||(a(t,Object(c.a)(r.removedNodes))||[])[0],null);e&&b.push(e)}}),b.length)if(r.onceEach){var h=Object(o.a)(b,s);h.length&&(s.push(...h),e(h,0))}else r.once&&u.disconnect(),e(b,0)}});return u.observe(l,{childList:!0,subtree:!0}),u}function j(t,e,r=[]){var a=new p.a.window.MutationObserver(t=>{t.forEach(t=>{e(t)})}),n={attributes:!0,attributeOldValue:!0};return r&&(n.attributeFilter=r),a.observe(t,n),a}function O(t){return a||(n=p.a.window.document.querySelector('meta[name="chtml"]'))&&(a=(n.getAttribute("content")||"").split(";").reduce((t,e)=>{var r=e.split("=").map(t=>t.trim());return function(t,e,r=null){return Object(f.a)(t,Object(l.a)(e)?e:Object(u.a)(e,r))}(t,r[0],"true"===r[1]||"false"!==r[1]&&(Object(s.a)(r[1])?parseInt(r[1]):r[1]))},{})),a?a[t]:void 0}function v(t){return p.a.window.CSS?p.a.window.CSS.escape(t):t.replace(/([\:@\~\$\&])/g,"\\$1")}},function(t,e,r){"use strict";var a=r(0),n=r(10);e.a=function(t,e){var r=void 0;return Object(a.a)(t)&&Object.keys(t).forEach((a,i)=>{!1!==r&&(r=e(Object(n.a)(a)?parseFloat(a):a,t[a],i))}),r}},function(t,e,r){"use strict";var a=r(16),n=r(9),i=r(7),s=r(1);i.a.params.inertContexts.push(s.a.params.slotElement,s.a.params.moduleElement),n.a.params.inertSubjects.push(s.a.params.slotElement);var o,c,l={get window(){return o},set window(t){o=t,n.a.window=t,i.a.window=t,s.a.window=t},get trap(){return c},set trap(t){c=t,n.a.trap=t,i.a.trap=t,s.a.trap=t},params:{SCOPED_HTML:n.a.params,SCOPED_JS:i.a.params,HTML_PARTIALS:s.a.params}};l.trap=a.a,e.a=l},function(t,e,r){"use strict";var a=r(26);e.a=function(...t){return Object(a.a)(t,(t,e,r)=>!0,!1,!1,!1)}},function(t,e,r){"use strict";e.a=function(t){return t.filter((t,e,r)=>r.indexOf(t)===e)}},function(t,e,r){"use strict";var a=r(3),n=r(6),i=r(2),s=r(20),o=r(5),c=r(0),l=r(4),u=function(t){return typeof t},f=function(t,e,r=null){if(!Object(c.a)(t))throw new Error('Object must be of type subject; "'+u(t)+'" given!');var a;return!(a=t[e])&&r&&(a=new r(t),Object.defineProperty(t,e,{get:()=>a,set:t=>{if(t!==a)throw new Error('Attempt to overwrite the "'+e+'" special property!')},enumerable:!1})),a},p=r(22),b=r(27),h=class{constructor(t){this.subject=t,this.fireables=[],this.currentlyFiring=[]}add(t){return this.fireables.push(t),t}forget(t){this.filter(t).forEach(t=>{this.fireables=this.fireables.filter(e=>e!==t)})}filter(t){return this.fireables.filter(e=>{var r=Object(a.a)(e.filter),n=Object(a.a)((e.params||{}).tags),i=Object(a.a)(t.filter),s=Object(a.a)((t.params||{}).tags);return!(t.originalHandler&&e.handler!==t.originalHandler||i.length&&(i.length!==r.length||Object(b.a)(r,i).length!==i.length)||s.length&&(s.length!==n.length||Object(b.a)(n,s).length!==s.length))})}},d=r(28),m=r(24),j=r(17),O=r(8),v=r(19),w=function(t,e,r={},n={}){e=Object(a.a)(e).slice();for(var i=t;!Object(O.a)(i)&&!Object(v.a)(i)&&e.length;){var s=e.shift();if(!(r.get?r.get(i,s):Object(c.a)(i)?s in i:i[s]))return void(n.exists=!1);i=r.get?r.get(i,s):i[s]}return n.exists=!0,i},y=r(29),g=r(10),E=r(25),A=r(30),S=r(15),x=function(t,e,r=null,a={}){if(!t||!Object(c.a)(t))throw new Error('Object must be of type subject; "'+u(t)+'" given!');if(Object(l.a)(e)&&(a=arguments.length>2?r:{},r=e,e=null),r&&!Object(l.a)(r))throw new Error('Handler must be a function; "'+u(r)+'" given!');var n;if(n=U(t,!1))return n.forget({filter:e,originalHandler:r,params:a})},P=r(12),T=r(18),k=class{constructor(t,e){this.subject=t,this.handler=e.handler,this.filter=e.filter,this.params=e.params}disconnect(){this.disconnected=!0}},N=class extends k{fire(t,e,r){return this.disconnected||this.filter&&this.filter!==t.type?e(...Array.prototype.slice.call(arguments,2)):this.handler(t,r,e)}},C=class{constructor(t,e){if(this.subject=t,!e.type)throw new Error("Action type must be given in definition!");Object(P.a)(e,(t,e)=>{Object.defineProperty(this,t,{value:e,enumerable:!0})}),Object.seal(this)}},M=class extends h{add(t){return super.add(new N(this.subject,t))}fire(t,e=null){if(t instanceof C||(t=new C(this.subject,t)),this.currentlyFiring.filter(e=>e.type===t.type&&e.name===t.name).length)return e?e():void 0;this.currentlyFiring.push(t);const r=(a,...n)=>{var i=this.fireables[a];return i?i.fire(t,(...t)=>r(a+1,...t),...n):e?e(...n):n[0]};var a=r(0);return this.currentlyFiring.pop(),a}},_=function(t,e=!0){return f(t,".interceptors",e?M:null)},B=function(t,e){if(!e||!Object(c.a)(e))throw new Error("Target must be of type object!");var r,a=function(r){return arguments.length?r:t?Object.getOwnPropertyNames(e):Object.keys(e)};return(r=_(e,!1))?r.fire({type:t?"ownKeys":"keys"},a):a()},H=function(t){return B(!1,...arguments)};function R(t,e=null,r=!1){if(!t||!Object(c.a)(t))throw new Error("Target must be of type object!");var n=U(t);if(!n.build){n.build=!0;var i=(e=Object(a.a)(e)).length&&!e.filter(t=>t.startsWith(".")).length?e.map(t=>Object(T.a)(t,".")):H(t).filter(t=>!t.startsWith(".")),s=e.length?e.map(t=>Object(j.a)(t,".")):null;i.forEach(e=>{var a=q(t,e);Object(c.a)(a)&&(V(t,e,a),(s||r)&&R(a,s,r))})}}var L=function(t,e,r=null,a={}){if(!t||!Object(c.a)(t))throw new Error('Object must be of type subject; "'+u(r)+'" given!');if(Object(l.a)(e)&&(a=arguments.length>2?r:{},r=e,e=null),!Object(l.a)(r))throw new Error('Callback must be a function; "'+u(r)+'" given!');var n={filter:e,handler:r,params:a};(n.filter||n.params.subtree)&&R(t,n.filter,n.params.subtree);var i,s=U(t);return n.params.unique&&(i=s.filter({filter:e,params:a})).length?i[0]:s.add(n)},F=class{constructor(t,e){if(this.subject=t,e.originalSubject||(this.originalSubject=t),!("type"in e))throw new Error("Delta type must be given in definition!");if(!("name"in e))throw new Error("Property name must be given in definition!");Object(P.a)(e,(t,e)=>{Object.defineProperty(this,t,{value:e,enumerable:!0})}),this.path||Object.defineProperty(this,"path",{value:e.name,enumerable:!0}),Object.seal(this)}},V=function(t,e,r){var a;L(r,r=>{if(a=U(t,!1)){var n=r.map(r=>{var a={};return Object(P.a)(r,(t,e)=>{"subject"!==t&&"name"!==t&&"path"!==t&&(a[t]=e)}),a.name=e,a.path=e+"."+r.path,a.originalSubject=r.originalSubject,new F(t,a)});return a.fire(n)}},{subtree:!0,unique:!0,tags:[D,e,t]})};const D={};var I=function(t,e,r){x(r,null,null,{tags:[D,e,t]})},W=function(t,...e){var r=e.map(t=>{if(!Object(c.a)(t))throw new Error("Target must be of type object!");return{subject:t,subjectCopy:Object(i.a)(t)?t.slice(0):Object(A.a)(t)}}),a=t(...e);return r.map(t=>{var e,r=Object.keys(t.subjectCopy),a=Object.keys(t.subject),n=[],s=Object(S.a)(r.concat(a)).map(e=>{if((!Object(i.a)(t.subject)||"length"!==e&&".observer"!==e)&&t.subjectCopy[e]!==t.subject[e]){n.push(e);var s={name:e,related:n,buffered:!0};return a.includes(e)?(s.type="set",s.value=t.subject[e],r.includes(e)&&(s.isUpdate=!0)):s.type="del",r.includes(e)&&(s.oldValue=t.subjectCopy[e]),Object(c.a)(t.subjectCopy[e])&&I(t.subject,e,t.subjectCopy[e]),Object(c.a)(t.subject[e])&&V(t.subject,e,t.subject[e]),s}}).filter(t=>t);if(s.length&&(e=U(t.subject,!1)))return e.fire(s)}),a},q=function(t,e,r=!1){if(!t||!Object(c.a)(t))throw new Error("Target must be of type object!");var a,n,s=function(r){return arguments.length?r:Object(i.a)(e)?Object(y.a)(e,t):t[e]};return a=(n=_(t))?n.fire({type:"get",name:e},s):s(),r&&Object(i.a)(t)&&!Object(g.a)(e)&&Object(l.a)(a)&&!Object(E.a)(a)?function(...e){return W(()=>a.apply(t,e),t)}:a},z=class extends k{constructor(t,e){if(super(t,e),this.filterArray=Object(a.a)(this.filter),this.isDynamicFilter=this.filterArray.filter(t=>Object(n.a)(t)&&(t.indexOf("..")>-1||t.startsWith(".")||t.endsWith("."))).length,this.isDynamicFilter&&this.filterArray.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filterArray.join(", ")+'" have been bound together.')}fire(t){var e;if(!(this.disconnected||this.params.type&&!Object(m.a)(t,t=>this.params.type===t.type)))if(this.filterArray.length){var r=[];this.filterArray.filter((e,a)=>(e=Object(n.a)(e)?e.replace(/`/g,""):e,r[a]=[],t.filter(t=>{var n=t.path.split("."),i=this.isDynamicFilter?e.split(".").map((t,e)=>t||n[e]||"").join("."):e;return Object(d.a)(r[a],i),(i===t.name||!1!==this.params.suptree&&(i+".").startsWith(t.path+".")||this.params.subtree&&(t.path+".").startsWith(i+"."))&&(!this.isDynamicFilter||!i.split(".").filter(t=>!t).length)}).length)).length&&(e=r,e.reduce((t,e)=>{var r=[];return t.forEach(t=>{Object(a.a)(e).forEach(e=>{var a=t.slice();a.push(e),r.push(a)})}),r},[[]])).forEach(e=>{var r=this.formatChanges(e,t);this.handler(Object(i.a)(this.filter)?r:r[0])})}else this.filter||!this.params.subtree&&t.filter(t=>t.path===t.name).length!==t.length||this.handler(t)}formatChanges(t,e){return!1===this.params.data?[]:t.map(t=>{var r=e.reduce((e,r)=>{if(e)return e;if(t+""==r.path+"")return r;if((t+".").startsWith(r.path+".")){var a=Object(n.a)(t)?Object(j.a)(t,r.path+".").split("."):t;e=new F(r.subject,{type:r.type,name:t});return("del"===r.type||r.isUpdate)&&(e.oldValue=w(r.oldValue,a,{get:q})),"del"!==r.type&&(e.value=w(r.value,a,{get:q})),e}},null);return r||(r=new F(this.subject,{type:"get",name:t,value:w(this.subject,Object(n.a)(t)?t.split("."):t,{get:q})})),r})}},K=class extends h{add(t){return super.add(new z(this.subject,t))}fire(t){return t=Object(a.a)(t,!1).map(t=>t instanceof F?t:new F(this.subject,t)),!this.currentlyFiring.filter(e=>t.filter(t=>e.type===t.type&&e.name===t.name).length).length&&(this.currentlyFiring.push(...t),this.fireables.forEach(e=>{if(t.propagationStopped)return!1;e.fire(t)}),t.forEach(t=>Object(p.a)(this.currentlyFiring,t)),!0)}},U=function(t,e=!0){return f(t,".observers",e?K:null)},$=function(t,e){if(!t||!Object(c.a)(t))throw new Error("Target must be of type object!");var r,a=function(r){return arguments.length?r:e in t};return(r=_(t,!1))?r.fire({type:"has",name:e},a):a()},J=function(t,e,r,l=null,u=null){if(!e||!Object(c.a)(e))throw new Error("Target must be of type object!");Object(o.a)(r)&&(u=l,l=null);var f=_(e,!1),p=U(e,!1);const b=(r,a,n,i)=>{var s,o="set";t&&(o="def",a=(s=a||{}).value);var l={name:r,type:o,value:a,related:n,detail:i};$(e,r)&&(l.isUpdate=!0,l.oldValue=q(e,r));var u=function(t){return arguments.length?t:(s?Object.defineProperty(e,r,s):e[r]=a,!0)};if(f){var b=s?{type:"def",name:r,descriptor:s,related:n,detail:i}:{type:"set",name:r,value:a,related:n,detail:i};l.success=f.fire(b,u)}else l.success=u();return l.success&&l.value!==l.oldValue&&(Object(c.a)(l.oldValue)&&I(e,r,l.oldValue),Object(c.a)(l.value)&&(V(e,r,l.value),p&&p.build&&R(l.value,null,!0))),l};var h,d=[];Object(i.a)(r)||(Object(n.a)(r)||Object(s.a)(r))&&(h=Object(a.a)(r))?d=h.map(t=>b(t,l,h,u)):Object(o.a)(r)&&(h=Object.keys(r))&&(d=h.map(t=>b(t,r[t],h,u)));var m=d.filter(t=>t.success);return p&&p.fire(m),m.length>0},G=function(t,e,r=null,a=null){return J(!1,...arguments)},Q=function(t,e,r=null){if(!t||!Object(c.a)(t))throw new Error("Target must be of type object!");var n,i=(e=Object(a.a)(e)).map(a=>{var n={name:a,type:"del",related:e,detail:r};$(t,a)&&(n.oldValue=q(t,a));var i,s=function(e){return arguments.length?e:(delete t[a],!0)};return(i=_(t,!1))?n.success=i.fire({type:"del",name:a,related:e},s):n.success=s(),n.success&&Object(c.a)(n.oldValue)&&I(t,a,n.oldValue),n}).filter(t=>t.success);return(n=U(t,!1))&&n.fire(i),i.length>0},X=function(t,e,r=null,a=null){return J(!0,...arguments)},Y=function(t){return B(!0,...arguments)};const Z=Q,tt=X;e.a={set:G,get:q,has:$,deleteProperty:Q,del:Z,defineProperty:X,def:tt,keys:H,ownKeys:Y,intercept:function(t,e,r,a={}){if(!Object(c.a)(t))throw new Error('Object must be of type subject; "'+u(r)+'" given!');if(Object(l.a)(e)&&(a=arguments.length>2?r:{},r=e,e=null),!Object(l.a)(r))throw new Error('Callback must be a function; "'+u(r)+'" given!');var n,i=_(t),s={filter:e,handler:r,params:a};return s.params.unique&&(n=i.filter(s)).length?n[0]:i.add(s)},unintercept:function(t,e,r=null,a={}){if(!t||!Object(c.a)(t))throw new Error('Object must be of type subject; "'+u(t)+'" given!');if(Object(l.a)(e)&&(a=arguments.length>2?r:{},r=e,e=null),r&&!Object(l.a)(r))throw new Error('Handler must be a function; "'+u(r)+'" given!');var n;if(n=_(t,!1))return n.forget({filter:e,originalHandler:r,params:a})},proxy:function(t){if(!Object(c.a)(t))throw new Error('Object must be of type subject; "'+u(t)+'" given!');var e=new Proxy(t,{get:(t,r)=>{var a=q(t,r);return Object(l.a)(a)&&!Object(E.a)(a)?a.bind(e):a},set:G,has:$,deleteProperty:Q,defineProperty:X,ownKeys:Y});return e},observe:L,unobserve:x,closure:W,init:function(t,e){Object(a.a)(e).forEach(e=>{var r,a,n=t[e],i=Object.getOwnPropertyDescriptor(t,e)||{enumerable:!(e in t)};"value"in i&&delete i.value,"writable"in i&&delete i.writable,i.get=()=>{if(r)return n;r=!0;var a=q(t,e);return r=!1,a},i.set=r=>{if(a)return n=r,!0;a=!0;G(t,e,r);return a=!1,!0},Object.defineProperty(t,e,i)})},build:R,link:V,unlink:I}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){if(""==e)return t;var a=r?t.lastIndexOf(e):t.indexOf(e);return-1===a?"":t.substr(a+e.length)}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){if(""==e)return t;var a=r?t.lastIndexOf(e):t.indexOf(e);return-1===a?t:t.substr(0,a)}},function(t,e,r){"use strict";e.a=function(t){return null===t||""===t}},function(t,e,r){"use strict";e.a=function(t){return t instanceof Number||"number"==typeof t}},function(t,e,r){"use strict";e.a=function(t){return"function"==typeof t}},function(t,e,r){"use strict";e.a=function(t,e,r=!1){for(var a=t.indexOf(e);a>-1&&(r||!1===r);)t.splice(a,1),r>0&&r--,a=t.indexOf(e);return t}},function(t,e,r){"use strict";var a=r(19),n=r(8),i=r(0);e.a=function(t){return Object(a.a)(t)||Object(n.a)(t)||!1===t||0===t||Object(i.a)(t)&&!Object.keys(t).length}},function(t,e,r){"use strict";e.a=function(t,e){return t.reduce((t,r)=>t||e(r),!1)}},function(t,e,r){"use strict";var a=r(21);e.a=function(t){return Object(a.a)(t)&&/^class\s?/.test(Function.prototype.toString.call(t))}},function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var a=r(2),n=r(4),i=r(5),s=r(0),o=r(10),c=r(28),l=function(t,e){var r=[];return function(t,e){e=(e=e||Object.prototype)&&!Object(a.a)(e)?[e]:e;var r=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)r.push(t),t=t?Object.getPrototypeOf(t):null;return r}(t,e).forEach(t=>{Object(c.a)(r,...Object.getOwnPropertyNames(t))}),r};function u(t,e,r=!1,c=!1,f=!0){var p=0,b=t.shift();if((Object(o.a)(b)||!0===b||!1===b)&&(p=b,b=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,h)=>{(Object(s.a)(t)||Object(n.a)(t))&&(r?l(t):Object.getOwnPropertyNames(t)).forEach(n=>{var s=b[n],l=t[n];if((Object(a.a)(s)&&Object(a.a)(l)||Object(i.a)(s)&&Object(i.a)(l))&&(!0===p||p>0))b[n]=Object(a.a)(s)&&Object(a.a)(l)?[]:{},u([Object(o.a)(p)?p-1:p,b[n],s,l],e,r,c,f);else if(e(n,b,t,h))if(Object(a.a)(b)&&Object(a.a)(t))c?b[n]=l:b.push(l);else try{f?Object.defineProperty(b,n,Object.getOwnPropertyDescriptor(t,n)):b[n]=t[n]}catch(t){}})}),b}},function(t,e,r){"use strict";var a=r(2);e.a=function(t,e,r=null){return Object(a.a)(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1!==e.indexOf(t)):[]}},function(t,e,r){"use strict";e.a=function(t,...e){return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t}},function(t,e,r){"use strict";var a=r(2);r(6);e.a=function(t,e=null){var r={};return 2===arguments.length&&(Object(a.a)(t)&&Object(a.a)(e)?t.forEach((t,a)=>r[t]=e[a]):r[t]=e),r}},function(t,e,r){"use strict";var a=r(2),n=r(4),i=r(10),s=r(0),o=r(26);e.a=function(t,e=[],r=!0){var c=0;return Object(i.a)(arguments[0])&&Object(s.a)(arguments[1])&&(c=arguments[0],t=arguments[1],e=arguments[2]||[]),Object(o.a)([c,{},t],(t,r,i)=>Object(n.a)(e)?e(t):!Object(a.a)(e)||!e.length||e.indexOf(t)>-1,!1,!1,r)}},function(t,e,r){"use strict";var a=r(2);e.a=function(t,e,r=null){return Object(a.a)(e)?t.filter(t=>r?e.filter(e=>r(t,e)).length:-1===e.indexOf(t)):[]}},,,function(t,e,r){"use strict";var a={};r.r(a),r.d(a,"mergePartials",(function(){return p})),r.d(a,"mergeAttributes",(function(){return b}));var n=r(23),i=r(24),s=r(3),o=r(22),c=r(12),l=r(11),u=r(15),f=r(1);function p(t,e,r=[]){return e.partialsSlottables?(Object(c.a)(e.partialsSlottables,(e,a)=>{if(t.partialsSlottables&&t.partialsSlottables[e]){var n=r.concat((t.getAttribute("noinherit")||"").split(" ").map(t=>t.trim()));b(t.partialsSlottables[e],a,n,!1)}else t.append(a.clone(!0))}),t):t}function b(t,e,r=[],a=!0){r=r.concat(f.a.params.noinheritAttributes),t.hasAttribute("noinherit")&&(r=r.concat((t.getAttribute("noinherit")||"*").split(" ").map(t=>t.trim())));var n=f.a.params.listAttributes.concat(["role","class"]);if(Object(u.a)(n).forEach(n=>{var i,s;if(!r.includes(n)&&!r.includes("*")&&(i=e.getAttribute(n))){if(s=t.getAttribute(n))var o=a?[s,i]:[i,s];else o=[i];t.setAttribute(n,Object(u.a)(o.join(" ").split(" ").map(t=>t.trim())).join(" ")),r.push(n)}}),Object(u.a)(f.a.params.keyValAttributes.concat("style")).forEach(n=>{var i,s;if(!r.includes(n)&&!r.includes("*")&&(i=e.getAttribute(n))){if(s=t.getAttribute(n))(o=a?[s,i]:[i,s])[0].trim().endsWith(";")||(o[0]=o[0]+";");else var o=[i];t.setAttribute(n,o.join(" ")),r.push(n)}}),!r.includes("*"))for(var i=0;i<e.attributes.length;i++){var s=e.attributes[i];r.includes(s.name)||t.hasAttribute(s.name)&&!a||t.setAttribute(s.name,s.value)}return t}var h=r(0),d=r(10),m=r(4),j=r(8);const O=t=>(t[".chtml"]||(t[".chtml"]={}),t[".chtml"]);function v(t,e,r=null,a=null){if(O(t).itemSlots||(O(t).itemSlots={}),t.template){var i=f.a.trap.keys(e),s=f.a.trap.keys(O(t).itemSlots);!s.length&&t.children.length&&(_arrFrom(t.children).forEach((e,r)=>{var a=e.getAttribute(f.a.params.itemIndexAttribute)||r;O(t).itemSlots[a]=e}),s=f.a.trap.keys(O(t).itemSlots));var o=new f.a.trap.MutationEvent(t,{type:"remodelling"});return Object(u.a)(i.concat(s)).forEach(s=>{var c,l=O(t).itemSlots[s];if(f.a.trap.has(e,s)){var u=f.a.trap.get(e,s),p=!1;if(!l){var b=t.template.partials[s];if(Object(n.a)(b)&&Object(d.a)(s)&&(b=t.template.partials["#"]),Object(n.a)(b)&&(b=t.template.partials.default),!Object(n.a)(b)){l=b[0].cloneNode(!0);var h=function(t,e,r=!1,a=!1,n=!1){if(-1===t.indexOf(e))return r?[]:void 0;var i=!0===r?t.length-1:!1===r?1:r,s=n?t.lastIndexOf(e)+1:t.indexOf(e)+1,o=Object(j.a)(e)?[]:t.slice(s,s+i);return a&&o.length<i&&o.length<t.length&&(Object(m.a)(a)&&!a(i-o.length)||(o=o.concat(t.slice(0,i-o.length)))),r?o:o[0]}(i,s+"",!0).reduce((e,r)=>e||O(t).itemSlots[r],null);if(h)h.before(l);else t.append(l);l.setAttribute(f.a.params.itemIndexAttribute,s),O(t).itemSlots[s]=l,p=!0}}l&&Object(m.a)(r)&&(c=r(l,u,s,p))}else if(l){Object(m.a)(a)&&(c=a(l));var v=()=>{l.remove(),delete O(t).itemSlots[s]};c instanceof Promise?c.then(v).catch(v):v()}o.response(c)}),o}}var w=!1,y=!1;e.a=function(){if(y)return;y=!0,function(){if(!w){if(w=!0,f.a.params.itemsBindingMethod in f.a.window.Element.prototype)throw new Error('The "Element" class already has a "'+f.a.params.itemsBindingMethod+'" property!');Object.defineProperty(f.a.window.Element.prototype,f.a.params.itemsBindingMethod,{value:function(t,e,r=null){return Object(h.a)(t)&&t&&f.a.trap.observe(t,()=>v(this,t,e,r),{data:!1,tags:["#HTMLPartials-itemize",this]}),Object(h.a)(O(this).itemData)&&f.a.trap.unobserve(O(this).itemData,null,null,{tags:["#HTMLPartials-itemize",this]}),O(this).itemData=t,v(this,t||{},e,r)}})}}();const t=t=>(t[".chtml"]||(t[".chtml"]={}),t[".chtml"]);if("templates"in f.a.window.document)throw new Error('document already has a "templates" property!');const e=[];Object.defineProperty(f.a.window.document,"templates",{value:{}}),Object.defineProperty(f.a.window.document,"templatesReadyState",{value:"loading",writable:!0});const r=t=>{var e=t.getAttribute(f.a.params.templateNamespaceAttribute);e in document.templates&&console.warn('"'+e+'" already exists in document.templates!'),document.templates[e]=t};Object(l.c)("template["+Object(l.a)(f.a.params.templateNamespaceAttribute)+"]",t=>{var a;r(t),Object(l.b)(t,e=>{delete document.templates[e[0].oldValue],r(t)},[f.a.params.templateNamespaceAttribute]),(a=t.getAttribute("src"))&&e.push(new Promise((e,r)=>{f.a.window.fetch?f.a.window.fetch(a).then(t=>t.ok?t.text():Promise.reject(t.statusText)).then(r=>{t.innerHTML=r,!0===Object(l.d)("isomorphic")&&t.removeAttribute("src"),e(t)}).catch(t=>{r("Error fetching the bundle at "+a+". ("+t+")")}):r("Error fetching the bundle at "+a+". (window.fetch() not supported by browser.)")}))});const u=e=>{(Object(n.a)(t(e).templates)||e.closest("[live]"))&&(t(e).templates={},t(e).partials={},Object(s.a)(e.content.children).forEach(r=>{var a;if(r instanceof f.a.window.HTMLTemplateElement&&(a=r.getAttribute(f.a.params.templateNamespaceAttribute)))t(e).templates[a]=r;else{var n=r.getAttribute(f.a.params.slotReferenceAttribute)||"default";t(e).partials[n]||(t(e).partials[n]=[]),t(e).partials[n].push(r)}}))};if("templates"in f.a.window.HTMLTemplateElement.prototype)throw new Error('The "HTMLTemplateElement" class already has a "templates" property!');if(Object.defineProperty(f.a.window.HTMLTemplateElement.prototype,"templates",{get:function(){return u(this),t(this).templates}}),"partials"in f.a.window.HTMLTemplateElement.prototype)throw new Error('The "HTMLTemplateElement" class already has a "partials" property!');if(Object.defineProperty(f.a.window.HTMLTemplateElement.prototype,"partials",{get:function(){return u(this),t(this).partials}}),"template"in f.a.window.Element.prototype)throw new Error('The "Element" class already has a "template" property!');Object.defineProperty(f.a.window.Element.prototype,"template",{get:function(){var e=this.getAttribute(f.a.params.templateReferenceAttribute);if(e){if(t(this).templates||(t(this).templates={}),!t(this).templates[e]||this.hasAttribute("template-nocache")){var r=e.split("/").reduce((t,e)=>t?t.templates[e]:null,f.a.window.document);r&&(t(this).templates[e]=r.cloneNode(!0))}return t(this).templates[e]}}}),Object(l.c)("["+Object(l.a)(f.a.params.templateReferenceAttribute)+"]",e=>{var r=f.a.params.inertContexts.concat(f.a.params.inertSubjects);Object(i.a)(r,t=>e.closest(t))||Object(l.b)(e,()=>{Object(c.a)(t(e).slots,(t,e)=>{e.resolve()})},[f.a.params.templateReferenceAttribute])}),f.a.window.customElements.define(f.a.params.slotElement,class extends f.a.window.HTMLElement{hydrate(t,e,r){this.anchorNode=t,this._slottedElements=e,this.compositionBlock=r,this._bindSlotted(e),this._connectToCompositionBlock()}attributeChangedCallback(t,e,r){t===f.a.params.slotNameAttribute&&(this.name=r)}connectedCallback(){this.anchorNode||(this.anchorNode=!0===Object(l.d)("isomorphic")?f.a.window.document.createComment(this.outerHTML):f.a.window.document.createTextNode(""),this.after(this.anchorNode),this.compositionBlock=this.parentNode.closest("["+Object(l.a)(f.a.params.templateReferenceAttribute)+"]"),this._connectToCompositionBlock(),Object(l.f)(()=>{Promise.all(e).then(()=>{this.resolve()})}))}_connectToCompositionBlock(){this.compositionBlock&&(t(this.compositionBlock).slots||(t(this.compositionBlock).slots={}),t(this.compositionBlock).slots[this.name]=this)}_bindSlotted(t){t.forEach(t=>{t.slotReference=this}),this.slottedObserver=Object(l.e)(t,t=>{t.forEach(t=>{t.parentNode||Object(o.a)(this._slottedElements,t),t.slotReference===this&&delete t.slotReference}),this._slottedElements.length||this.anchorNode.before(this)},{on:"disconnected",onceEach:!0})}resolve(){if(!Object(i.a)(f.a.params.inertContexts,t=>this.closest(t)))if(this.hasAttribute(f.a.params.templateReferenceAttribute)){this.compositionBlock&&t(this.compositionBlock).slots[this.name]===this&&delete t(this.compositionBlock).slots[this.name],this.template&&(e=this.template.partials[this.name])?this.fill(e):this.empty()}else{if(!this.compositionBlock)return void console.warn("Scoped slots must be found within template contexts. ["+this.name+"]",this);var e;this.compositionBlock.template&&(e=this.compositionBlock.template.partials[this.name])?this.fill(e):this.empty()}}fill(t){t=Object(s.a)(t,!1),this.empty(!0),this.remove(),t.forEach(t=>{"slot"===t.getAttribute(f.a.params.templateReferenceAttribute)&&p(t,this),b(t,this),t.getAttribute(f.a.params.slotReferenceAttribute)||t.setAttribute(f.a.params.slotReferenceAttribute,this.name),this.anchorNode.before(t)}),this._bindSlotted(t),this._slottedElements||(this._slottedElements=[]),this._slottedElements.push(...t)}empty(t=!1){if(this._slottedElements){var e=this._slottedElements;t&&this.slottedObserver&&(this.slottedObserver.disconnect(),e=this._slottedElements.splice(0)),e.forEach(t=>t.remove())}}get slottedElements(){return this._slottedElements}static get observedAttributes(){return[f.a.params.slotNameAttribute]}});if("partials"in f.a.window.document)throw new Error('document already has a "partials" property!');Object.defineProperty(f.a.window.document,"partials",{value:{composition:a,utils:{itemize:v}}}),e.forEach(t=>{t.catch(t=>{console.warn(t)})}),Object(l.f)(()=>{Promise.all(e).then(()=>{f.a.window.document.templatesReadyState="complete",f.a.window.document.dispatchEvent(new f.a.window.Event("templatesreadystatechange"))}),!0===Object(l.d)("isomorphic")&&Object(s.a)(f.a.window.document.querySelectorAll("["+Object(l.a)(f.a.params.slotReferenceAttribute)+"]")).forEach(e=>{if(!t(e.parentNode).slotsCan){var r=[];e.parentNode.childNodes.forEach(t=>{var e;if(1===t.nodeType&&t.matches("["+Object(l.a)(f.a.params.slotReferenceAttribute)+"]"))r.push(t);else if(8===t.nodeType&&(e=t.nodeValue.trim())&&e.startsWith("<"+f.a.params.slotElement)&&e.endsWith("</"+f.a.params.slotElement+">")){var a,n,i=f.a.window.document.createElement("div");i.innerHTML=e,(a=i.firstChild).matches(f.a.params.slotElement)&&(a.hasAttribute(f.a.params.templateReferenceAttribute)||(n=t.parentNode.closest("["+Object(l.a)(f.a.params.templateReferenceAttribute)+"]")),a.hydrate(t,r,n),r=[])}}),t(e.parentNode).slotsCan=!0}})})}},,,,function(t,e,r){"use strict";r.r(e);var a=r(34);r(1).a.window=window,Object(a.a)()}]);
//# sourceMappingURL=html-partials.js.map