!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=36)}([function(e,t,r){"use strict";var n=r(14);t.a=function(e){return Array.isArray(e)||"object"==typeof e&&e||Object(n.a)(e)}},function(e,t,r){"use strict";t.a=function(e){return Array.isArray(e)}},function(e,t,r){"use strict";var n=r(1),a=r(4),i=r(8),s=r(27),o=r(5);t.a=function(e,t=!0){return Object(n.a)(e)?e:!t&&Object(o.a)(e)?[e]:!1!==e&&0!==e&&Object(s.a)(e)?[]:function(e){return!Object(a.a)(e)&&!Object(i.a)(e.length)}(e)?Array.prototype.slice.call(e):Object(o.a)(e)?Object.values(e):[e]}},function(e,t,r){"use strict";var n=r(14);t.a=function(e){return Object(n.a)(e)||e&&"[object function]"==={}.toString.call(e)}},function(e,t,r){"use strict";t.a=function(e){return e instanceof String||"string"==typeof e&&null!==e}},function(e,t,r){"use strict";t.a=function(e){return!Array.isArray(e)&&"object"==typeof e&&e}},function(e,t,r){"use strict";t.a=function(e){return!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)}},function(e,t,r){"use strict";var n=r(0),a=r(6);t.a=function(e,t){var r=void 0;return Object(n.a)(e)&&Object.keys(e).forEach((n,i)=>{!1!==r&&(r=t(Object(a.a)(n)?parseFloat(n):n,e[n],i))}),r}},function(e,t,r){"use strict";t.a=function(e){return arguments.length&&(void 0===e||void 0===e)}},function(e,t,r){"use strict";t.a=function(e){return e.filter((e,t,r)=>r.indexOf(e)===t)}},function(e,t,r){"use strict";var n=r(21);t.a=function(...e){return Object(n.a)(e,(e,t,r)=>!0,!1,!1,!1)}},function(e,t,r){"use strict";t.a=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?"":e.substr(n+t.length)}},function(e,t,r){"use strict";t.a=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?e:e.substr(0,n)}},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u}));var n=r(4),a=r(29),i=r(2),s=r(19);function o(e,t,r,n={}){return n.on="removed",l(e,t,(e,t)=>{r(e,t)},n)}function c(e,t,r,a={}){Object(s.a)(e,()=>{e.MutationObserver&&function(e,t,r,n={}){n.on="added",l(e,t,(e,t)=>{r(e,t)},n)}(e,t,(e,t)=>{e.forEach(e=>r(e,t))},a),Object(n.a)(t)?Object(i.a)(e.document.querySelectorAll(t)).forEach(e=>r(e,1)):t.parentNode&&r(t,1)})}function l(e,t,r,s={}){t=Object(i.a)(t,!1);var o=(e,t)=>{if(t=t.filter(e=>e.matches),Object(n.a)(e)){var r=t.filter(t=>t.matches(e));if(!1!==s.observeIndirectMutation&&(r=t.reduce((t,r)=>t.concat(Object(i.a)(r.querySelectorAll(e))),r)).length)return r}else{if(t.includes(e))return[e];if(!1!==s.observeIndirectMutation&&t.length)for(var a=e;a=a.parentNode;)if(t.includes(a))return[e]}},c=[],l=[],u=s.context||e.document.documentElement,f=new e.MutationObserver(e=>{if(!s.on||"added"===s.on){var u=[];if(t.forEach(t=>{if(Object(n.a)(t))u=e.reduce((e,r)=>e.concat(o(t,Object(i.a)(r.addedNodes))||[]),u);else{var r=e.reduce((e,r)=>e||(o(t,Object(i.a)(r.addedNodes))||[])[0],null);r&&u.push(r)}}),u.length)if(s.onceEach){var b=Object(a.a)(u,c);b.length&&(c.push(...b),r(b,1))}else s.once&&f.disconnect(),r(u,1)}if(!s.on||"removed"===s.on){var p=[];if(t.forEach(t=>{if(Object(n.a)(t))p=e.reduce((e,r)=>e.concat(o(t,Object(i.a)(r.removedNodes))||[]),p);else{var r=e.reduce((e,r)=>e||(o(t,Object(i.a)(r.removedNodes))||[])[0],null);r&&p.push(r)}}),p.length)if(s.onceEach){var h=Object(a.a)(p,l);h.length&&(l.push(...h),r(h,0))}else s.once&&f.disconnect(),r(p,0)}});return f.observe(u,{childList:!0,subtree:!0}),f}function u(e,t,r,n=[]){var a=new e.MutationObserver(r),i={attributes:!0,attributeOldValue:!0};return n&&(i.attributeFilter=n),a.observe(t,i),a}},function(e,t,r){"use strict";t.a=function(e){return"function"==typeof e}},function(e,t,r){"use strict";t.a=function(e,t,r=!1){for(var n=e.indexOf(t);n>-1&&(r||!1===r);)e.splice(n,1),r>0&&r--,n=e.indexOf(t);return e}},function(e,t,r){"use strict";t.a=function(e){return e instanceof Number||"number"==typeof e}},function(e,t,r){"use strict";t.a=function(e){return null===e||""===e}},function(e,t,r){"use strict";t.a=function(e,t){return e.reduce((e,r)=>e||t(r),!1)}},function(e,t,r){"use strict";t.a=function(e,t){e.__readyCallbacks||(e.__readyCallbacks=[]),"complete"===e.document.readyState?t():e.__readyCallbacks.push(t),e.document.addEventListener("DOMContentLoaded",()=>{e.__readyCallbacks.forEach(e=>e()),e.__readyCallbacks.splice(0)},!1)}},function(e,t,r){"use strict";var n=r(14);t.a=function(e){return Object(n.a)(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(1),a=r(3),i=r(5),s=r(0),o=r(6),c=r(24),l=function(e,t){var r=[];return function(e,t){t=(t=t||Object.prototype)&&!Object(n.a)(t)?[t]:t;var r=[];for(e=e;e&&(!t||t.indexOf(e)<0)&&"default"!==e.name;)r.push(e),e=e?Object.getPrototypeOf(e):null;return r}(e,t).forEach(e=>{Object(c.a)(r,...Object.getOwnPropertyNames(e))}),r};function u(e,t,r=!1,c=!1,f=!0){var b=0,p=e.shift();if((Object(o.a)(p)||!0===p||!1===p)&&(b=p,p=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((e,h)=>{(Object(s.a)(e)||Object(a.a)(e))&&(r?l(e):Object.getOwnPropertyNames(e)).forEach(a=>{var s=p[a],l=e[a];if((Object(n.a)(s)&&Object(n.a)(l)||Object(i.a)(s)&&Object(i.a)(l))&&(!0===b||b>0))p[a]=Object(n.a)(s)&&Object(n.a)(l)?[]:{},u([Object(o.a)(b)?b-1:b,p[a],s,l],t,r,c,f);else if(t(a,p,e,h))if(Object(n.a)(p)&&Object(n.a)(e))c?p[a]=l:p.push(l);else try{f?Object.defineProperty(p,a,Object.getOwnPropertyDescriptor(e,a)):p[a]=e[a]}catch(e){}})}),p}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(6),a=r(5),i=r(28),s=r(10),o=function(e,t,r=null){return Object(s.a)(e,Object(a.a)(t)?t:Object(i.a)(t,r))};function c(e,t,r=null){if(e.CHTML_META||(e.CHTML_METATag=e.document.querySelector('meta[name="chtml"]'))&&(e.CHTML_META=(e.CHTML_METATag.getAttribute("content")||"").split(";").filter(e=>e).reduce((e,t)=>{var r=t.split("=").map(e=>e.trim());return o(e,r[0],"true"===r[1]||"false"!==r[1]&&(Object(n.a)(r[1])?parseInt(r[1]):r[1]))},{})),3===arguments.length){!1===r?delete e.CHTML_META[t]:e.CHTML_META[t]=!0===r?"true":r;var a=Object.keys(e.CHTML_META).reduce((t,r)=>t+r+"="+e.CHTML_META[r]+";","");return e.CHTML_METATag.setAttribute("content",a),!0}return e.CHTML_META?e.CHTML_META[t]:void 0}},function(e,t,r){"use strict";var n=r(1);t.a=function(e,t,r=null){return Object(n.a)(t)?e.filter(e=>r?t.filter(t=>r(e,t)).length:-1!==t.indexOf(e)):[]}},function(e,t,r){"use strict";t.a=function(e,...t){return t.forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e}},function(e,t,r){"use strict";var n=r(1),a=r(3),i=r(6),s=r(0),o=r(21);t.a=function(e,t=[],r=!0){var c=0;return Object(i.a)(arguments[0])&&Object(s.a)(arguments[1])&&(c=arguments[0],e=arguments[1],t=arguments[2]||[]),Object(o.a)([c,{},e],(e,r,i)=>Object(a.a)(t)?t(e):!Object(n.a)(t)||!t.length||t.indexOf(e)>-1,!1,!1,r)}},function(e,t,r){"use strict";var n=r(2),a=r(4),i=r(1),s=r(16),o=r(5),c=r(0),l=r(3),u=function(e){return typeof e},f=function(e,t,r=null){if(!Object(c.a)(e))throw new Error('Object must be of type subject; "'+u(e)+'" given!');var n;if(!(n=e[t])&&r)try{n=new r(e),Object.defineProperty(e,t,{get:()=>n,set:e=>{if(e!==n)throw new Error('Attempt to overwrite the "'+t+'" special property!')},enumerable:!1})}catch(e){}return n},b=r(15),p=r(23),h=class{constructor(e){this.subject=e,this.fireables=[],this.currentlyFiring=[]}add(e){return this.fireables.push(e),e}forget(e){this.filter(e).forEach(e=>{this.fireables=this.fireables.filter(t=>t!==e)})}filter(e){return this.fireables.filter(t=>{var r=Object(n.a)(t.filter),a=Object(n.a)((t.params||{}).tags),i=Object(n.a)(e.filter),s=Object(n.a)((e.params||{}).tags);return!(e.originalHandler&&t.handler!==e.originalHandler||i.length&&(i.length!==r.length||Object(p.a)(r,i).length!==i.length)||s.length&&(s.length!==a.length||Object(p.a)(a,s).length!==s.length))})}},d=r(24),m=r(18),j=r(11),O=r(8),v=r(17),w=function(e,t,r={},a={}){t=Object(n.a)(t).slice();for(var i=e;!Object(O.a)(i)&&!Object(v.a)(i)&&t.length;){var s=t.shift();if(!(r.get?r.get(i,s):Object(c.a)(i)?s in i:i[s]))return void(a.exists=!1);i=r.get?r.get(i,s):i[s]}return a.exists=!0,i},y=r(28),g=r(6),E=r(20),A=r(25),T=r(9),C=function(e,t,r=null,n={}){if(!e||!Object(c.a)(e))throw new Error('Object must be of type subject; "'+u(e)+'" given!');if(Object(l.a)(t)&&(n=arguments.length>2?r:{},r=t,t=null),r&&!Object(l.a)(r))throw new Error('Handler must be a function; "'+u(r)+'" given!');var a;if(a=z(e,!1))return a.forget({filter:t,originalHandler:r,params:n})},M=r(7),S=r(12),x=class{constructor(e,t){this.subject=e,this.handler=t.handler,this.filter=t.filter,this.params=t.params}disconnect(){this.disconnected=!0}},k=class extends x{fire(e,t,r){return this.disconnected||this.filter&&this.filter!==e.type?t(...Array.prototype.slice.call(arguments,2)):this.handler(e,r,t)}},P=class{constructor(e,t){if(this.subject=e,!t.type)throw new Error("Action type must be given in definition!");Object(M.a)(t,(e,t)=>{Object.defineProperty(this,e,{value:t,enumerable:!0})}),Object.seal(this)}},N=class extends h{add(e){return super.add(new k(this.subject,e))}fire(e,t=null){if(e instanceof P||(e=new P(this.subject,e)),this.currentlyFiring.filter(t=>t.type===e.type&&t.name===e.name).length)return t?t():void 0;this.currentlyFiring.push(e);const r=(n,...a)=>{var i=this.fireables[n];return i?i.fire(e,(...e)=>r(n+1,...e),...a):t?t(...a):a[0]};var n=r(0);return this.currentlyFiring.pop(),n}},_=function(e,t=!0){return f(e,".interceptors",t?N:null)},H=function(e,t){if(!t||!Object(c.a)(t))throw new Error("Target must be of type object!");var r,n=function(r){return arguments.length?r:e?Object.getOwnPropertyNames(t):Object.keys(t)};return(r=_(t,!1))?r.fire({type:e?"ownKeys":"keys"},n):n()},L=function(e){return H(!1,...arguments)};function R(e,t=null,r=!1){if(!e||!Object(c.a)(e))throw new Error("Target must be of type object!");var a=z(e);if(a&&!a.build){a.build=!0;var i=!(t=Object(n.a)(t)).length||t.filter(e=>e.startsWith(".")).length?L(e).filter(e=>-1===e.indexOf(".")):t.map(e=>Object(S.a)(e,".")),s=t.length?t.map(e=>Object(j.a)(e,".")):null;i.forEach(t=>{var n=I(e,t);Object(c.a)(n)&&(F(e,t,n),(s||r)&&R(n,s,r))})}}var B=function(e,t,r=null,n={}){if(!e||!Object(c.a)(e))throw new Error('Object must be of type subject; "'+u(r)+'" given!');if(Object(l.a)(t)&&(n=arguments.length>2?r:{},r=t,t=null),!Object(l.a)(r))throw new Error('Callback must be a function; "'+u(r)+'" given!');var a={filter:t,handler:r,params:n};(a.filter||a.params.subtree)&&R(e,a.filter,a.params.subtree);var i,s=z(e);return a.params.unique&&(i=s.filter({filter:t,params:n})).length?i[0]:s.add(a)},V=class{constructor(e,t){if(this.subject=e,t.originalSubject||(this.originalSubject=e),!("type"in t))throw new Error("Delta type must be given in definition!");if(!("name"in t))throw new Error("Property name must be given in definition!");Object(M.a)(t,(e,t)=>{Object.defineProperty(this,e,{value:t,enumerable:!0})}),this.path||Object.defineProperty(this,"path",{value:t.name,enumerable:!0}),Object.seal(this)}},F=function(e,t,r){var n;B(r,r=>{if(n=z(e,!1)){var a=r.map(r=>{var n={};return Object(M.a)(r,(e,t)=>{"subject"!==e&&"name"!==e&&"path"!==e&&(n[e]=t)}),n.name=t,n.path=t+"."+r.path,n.originalSubject=r.originalSubject,new V(e,n)});return n.fire(a)}},{subtree:!0,unique:!0,tags:[W,t,e]})};const W={};var D=function(e,t,r){C(r,null,null,{tags:[W,t,e]})},q=function(e,...t){var r=t.map(e=>{if(!Object(c.a)(e))throw new Error("Target must be of type object!");return{subject:e,subjectCopy:Object(i.a)(e)?e.slice(0):Object(A.a)(e)}}),n=e(...t);return r.map(e=>{var t,r=Object.keys(e.subjectCopy),n=Object.keys(e.subject),a=[],s=Object(T.a)(r.concat(n)).map(t=>{if((!Object(i.a)(e.subject)||"length"!==t&&".observer"!==t)&&e.subjectCopy[t]!==e.subject[t]){a.push(t);var s={name:t,related:a,buffered:!0};return n.includes(t)?(s.type="set",s.value=e.subject[t],r.includes(t)&&(s.isUpdate=!0)):s.type="del",r.includes(t)&&(s.oldValue=e.subjectCopy[t]),Object(c.a)(e.subjectCopy[t])&&D(e.subject,t,e.subjectCopy[t]),Object(c.a)(e.subject[t])&&F(e.subject,t,e.subject[t]),s}}).filter(e=>e);if(s.length&&(t=z(e.subject,!1)))return t.fire(s)}),n},I=function(e,t,r=!1){if(!e||!Object(c.a)(e))throw new Error("Target must be of type object!");var n,a,s=function(r){return arguments.length?r:Object(i.a)(t)?Object(y.a)(t,e):e[t]};return n=(a=_(e))?a.fire({type:"get",name:t},s):s(),r&&Object(i.a)(e)&&!Object(g.a)(t)&&Object(l.a)(n)&&!Object(E.a)(n)?function(...t){return q(()=>n.apply(e,t),e)}:n},K=class extends x{constructor(e,t){if(super(e,t),this.filterArray=Object(n.a)(this.filter),this.isDynamicFilter=this.filterArray.filter(e=>Object(a.a)(e)&&(e.indexOf("..")>-1||e.startsWith(".")||e.endsWith("."))).length,this.isDynamicFilter&&this.filterArray.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filterArray.join(", ")+'" have been bound together.')}fire(e){var t;if(!(this.disconnected||this.params.type&&!Object(m.a)(e,e=>this.params.type===e.type)))if(this.filterArray.length){var r=[];this.filterArray.filter((t,n)=>(t=Object(a.a)(t)?t.replace(/`/g,""):t,r[n]=[],e.filter(e=>{var a=e.path.split("."),i=this.isDynamicFilter?t.split(".").map((e,t)=>e||a[t]||"").join("."):t;return Object(d.a)(r[n],i),(i===e.name||!1!==this.params.suptree&&(i+".").startsWith(e.path+".")||this.params.subtree&&(e.path+".").startsWith(i+"."))&&(!this.isDynamicFilter||!i.split(".").filter(e=>!e).length)}).length)).length&&(t=r,t.reduce((e,t)=>{var r=[];return e.forEach(e=>{Object(n.a)(t).forEach(t=>{var n=e.slice();n.push(t),r.push(n)})}),r},[[]])).forEach(t=>{var r=this.formatChanges(t,e);this.handler(Object(i.a)(this.filter)?r:r[0])})}else this.filter||!this.params.subtree&&e.filter(e=>e.path===e.name).length!==e.length||this.handler(e)}formatChanges(e,t){return!1===this.params.data?[]:e.map(e=>{var r=t.reduce((t,r)=>{if(t)return t;if(e+""==r.path+"")return r;if((e+".").startsWith(r.path+".")){var n=Object(a.a)(e)?Object(j.a)(e,r.path+".").split("."):e;t=new V(r.subject,{type:r.type,name:e});return("del"===r.type||r.isUpdate)&&(t.oldValue=w(r.oldValue,n,{get:I})),"del"!==r.type&&(t.value=w(r.value,n,{get:I})),t}},null);return r||(r=new V(this.subject,{type:"get",name:e,value:w(this.subject,Object(a.a)(e)?e.split("."):e,{get:I})})),r})}},U=class extends h{add(e){return super.add(new K(this.subject,e))}fire(e){return e=Object(n.a)(e,!1).map(e=>e instanceof V?e:new V(this.subject,e)),!this.currentlyFiring.filter(t=>e.filter(e=>t.type===e.type&&t.name===e.name).length).length&&(this.currentlyFiring.push(...e),this.fireables.forEach(t=>{if(e.propagationStopped)return!1;t.fire(e)}),e.forEach(e=>Object(b.a)(this.currentlyFiring,e)),!0)}},z=function(e,t=!0){return f(e,".observers",t?U:null)},G=function(e,t){if(!e||!Object(c.a)(e))throw new Error("Target must be of type object!");var r,n=function(r){return arguments.length?r:t in e};return(r=_(e,!1))?r.fire({type:"has",name:t},n):n()},J=function(e,t,r,l=null,u=null){if(!t||!Object(c.a)(t))throw new Error("Target must be of type object!");Object(o.a)(r)&&(u=l,l=null);var f=_(t,!1),b=z(t,!1);const p=(r,n,i,s)=>{if(Object(a.a)(r)&&-1!==r.indexOf("."))throw new Error("Property names with a dot are not supported!");var o,l="set";e&&(l="def",n=(o=n||{}).value);var u={name:r,type:l,value:n,related:i,detail:s};G(t,r)&&(u.isUpdate=!0,u.oldValue=I(t,r));var p=function(e){return arguments.length?e:(o?Object.defineProperty(t,r,o):t[r]=n,!0)};if(f){var h=o?{type:"def",name:r,descriptor:o,related:i,detail:s}:{type:"set",name:r,value:n,related:i,detail:s};u.success=f.fire(h,p)}else u.success=p();return u.success&&u.value!==u.oldValue&&(Object(c.a)(u.oldValue)&&D(t,r,u.oldValue),Object(c.a)(u.value)&&(F(t,r,u.value),b&&b.build&&R(u.value,null,!0))),u};var h,d=[];Object(i.a)(r)||(Object(a.a)(r)||Object(s.a)(r))&&(h=Object(n.a)(r))?d=h.map(e=>p(e,l,h,u)):Object(o.a)(r)&&(h=Object.keys(r))&&(d=h.map(e=>p(e,r[e],h,u)));var m=d.filter(e=>e.success);return b&&b.fire(m),m.length>0},Q=function(e,t,r=null,n=null){return J(!1,...arguments)},X=function(e,t,r=null){if(!e||!Object(c.a)(e))throw new Error("Target must be of type object!");var i,s=(t=Object(n.a)(t)).map(n=>{if(Object(a.a)(n)&&-1!==n.indexOf("."))throw new Error("Property names with a dot are not supported!");var i={name:n,type:"del",related:t,detail:r};G(e,n)&&(i.oldValue=I(e,n));var s,o=function(t){return arguments.length?t:(delete e[n],!0)};return(s=_(e,!1))?i.success=s.fire({type:"del",name:n,related:t},o):i.success=o(),i.success&&Object(c.a)(i.oldValue)&&D(e,n,i.oldValue),i}).filter(e=>e.success);return(i=z(e,!1))&&i.fire(s),s.length>0},Y=function(e,t,r=null,n=null){return J(!0,...arguments)},Z=function(e){return H(!0,...arguments)};const $=X,ee=Y;t.a={set:Q,get:I,has:G,deleteProperty:X,del:$,defineProperty:Y,def:ee,keys:L,ownKeys:Z,intercept:function(e,t,r,n={}){if(!Object(c.a)(e))throw new Error('Object must be of type subject; "'+u(r)+'" given!');if(Object(l.a)(t)&&(n=arguments.length>2?r:{},r=t,t=null),!Object(l.a)(r))throw new Error('Callback must be a function; "'+u(r)+'" given!');var a,i=_(e),s={filter:t,handler:r,params:n};return s.params.unique&&(a=i.filter(s)).length?a[0]:i.add(s)},unintercept:function(e,t,r=null,n={}){if(!e||!Object(c.a)(e))throw new Error('Object must be of type subject; "'+u(e)+'" given!');if(Object(l.a)(t)&&(n=arguments.length>2?r:{},r=t,t=null),r&&!Object(l.a)(r))throw new Error('Handler must be a function; "'+u(r)+'" given!');var a;if(a=_(e,!1))return a.forget({filter:t,originalHandler:r,params:n})},proxy:function(e){if(!Object(c.a)(e))throw new Error('Object must be of type subject; "'+u(e)+'" given!');var t=new Proxy(e,{get:(e,r)=>{var n=I(e,r);return Object(l.a)(n)&&!Object(E.a)(n)?n.bind(t):n},set:Q,has:G,deleteProperty:X,defineProperty:Y,ownKeys:Z});return t},observe:B,unobserve:C,closure:q,init:function(e,t){Object(n.a)(t).forEach(t=>{var r,n,a=e[t],i=Object.getOwnPropertyDescriptor(e,t)||{enumerable:!(t in e)};"value"in i&&delete i.value,"writable"in i&&delete i.writable,i.get=()=>{if(r)return a;r=!0;var n=I(e,t);return r=!1,n},i.set=r=>{if(n)return a=r,!0;n=!0;Q(e,t,r);return n=!1,!0},Object.defineProperty(e,t,i)})},build:R,link:F,unlink:D}},function(e,t,r){"use strict";var n=r(17),a=r(8),i=r(0);t.a=function(e){return Object(n.a)(e)||Object(a.a)(e)||!1===e||0===e||Object(i.a)(e)&&!Object.keys(e).length}},function(e,t,r){"use strict";var n=r(1);r(4);t.a=function(e,t=null){var r={};return 2===arguments.length&&(Object(n.a)(e)&&Object(n.a)(t)?e.forEach((e,n)=>r[e]=t[n]):r[e]=t),r}},function(e,t,r){"use strict";var n=r(1);t.a=function(e,t,r=null){return Object(n.a)(t)?e.filter(e=>r?t.filter(t=>r(e,t)).length:-1===t.indexOf(e)):[]}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(26),a=r(19),i=r(13),s=r(27),o=r(18),c=r(2),l=r(15),u=r(9),f=r(7),b=r(10),p=r(22),h={bundleElement:"partials-bundle",templateElement:"template",templateNamespaceAttribute:"name",slotReferenceAttribute:"partials-slot",templateReferenceAttribute:"template",slotElement:"partials-slot",slotNameAttribute:"name",itemsBindingMethod:"partialsItemize",itemIndexAttribute:"partials-index",keyValAttributes:[],listAttributes:[],inertContexts:["template"],inertSubjects:[],noinheritAttributes:["nocompose","name","template"],recomposeCallback:null};class d{constructor(e,t=n.a,r={}){const u=this;u.window=e,u.trap=t,u.params=Object(b.a)({},h,r);const d=e=>(e[".chtml"]||(e[".chtml"]={}),e[".chtml"]);if("templates"in u.window.document)throw new Error('document already has a "templates" property!');const m=[];Object.defineProperty(u.window.document,"templates",{value:{}}),Object.defineProperty(u.window.document,"templatesReadyState",{value:"loading",writable:!0});const j=e=>{var t=e.getAttribute(u.params.templateNamespaceAttribute);u.trap.set(u.window.document.templates,t,e)};Object(i.b)(u.window,"template["+u.window.CSS.escape(u.params.templateNamespaceAttribute)+"]",e=>{const t=()=>{var t=e.getAttribute("src");return new Promise((r,n)=>{u.window.fetch?u.window.fetch(t).then(e=>e.ok?e.text():Promise.reject(e.statusText)).then(t=>{e.innerHTML=t,j(e),e.dispatchEvent(new u.window.Event("load")),r(e)}).catch(n=>{e.innerHTML="",j(e),e.dispatchEvent(new u.window.Event("loaderror")),r(e),console.error("Error fetching the bundle at "+t+". ("+n+")")}):(r(e),console.error("Error fetching the bundle at "+t+". (window.fetch() not supported by browser.)"))})};Object(i.a)(u.window,e,e=>{t()},["src"]),Object(i.a)(u.window,e,t=>{u.window.document.templates[t[0].oldValue]===e&&u.trap.deleteProperty(u.window.document.templates,t[0].oldValue),j(e)},[u.params.templateNamespaceAttribute]),Object(i.c)(u.window,e,t=>{var r=e.getAttribute(u.params.templateNamespaceAttribute);u.window.document.templates[r]===e&&u.trap.deleteProperty(u.window.document.templates,r)},{once:!0}),e.getAttribute("src")&&!e.content.children.length?m.push(t()):j(e)});const O=e=>{(Object(s.a)(d(e).partials)||e.closest("[live]"))&&(d(e).templates={},d(e).partials={},Object(c.a)((e.content||e).children).forEach(t=>{var r;if(t instanceof u.window.HTMLTemplateElement&&(r=t.getAttribute(u.params.templateNamespaceAttribute)))d(e).templates[r]=t;else{var n=t.getAttribute(u.params.slotReferenceAttribute)||"default";d(e).partials[n]||(d(e).partials[n]=[]),d(e).partials[n].push(t)}}))};if("templates"in u.window.HTMLTemplateElement.prototype)throw new Error('The "HTMLTemplateElement" class already has a "templates" property!');if(Object.defineProperty(u.window.HTMLTemplateElement.prototype,"templates",{get:function(){return O(this),d(this).templates}}),"partials"in u.window.HTMLTemplateElement.prototype)throw new Error('The "HTMLTemplateElement" class already has a "partials" property!');if(Object.defineProperty(u.window.HTMLTemplateElement.prototype,"partials",{get:function(){return O(this),d(this).partials}}),"template"in u.window.Element.prototype)throw new Error('The "Element" class already has a "template" property!');Object.defineProperty(u.window.Element.prototype,"template",{get:function(){var e=this.getAttribute(u.params.templateReferenceAttribute);if(e){if(d(this).templates||(d(this).templates={}),!d(this).templates[e]||!this.hasAttribute("cache-template")){var t=e.split("/").filter(e=>e).reduce((e,t)=>e?e.templates[t]||e.templates["*"]:null,u.window.document);d(this).templates[e]=t}return d(this).templates[e]}}}),Object(i.b)(u.window,"["+u.window.CSS.escape(u.params.templateReferenceAttribute)+"]",e=>{var t=u.params.inertContexts.concat(u.params.inertSubjects);if(!Object(o.a)(t,t=>e.closest(t))){var r=()=>{Object(f.a)(d(e).slots,(e,t)=>{t.resolve()})};Object(i.a)(u.window,e,r,[u.params.templateReferenceAttribute]),u.trap.observe(u.window.document.templates,t=>{var n=e.getAttribute(u.params.templateReferenceAttribute);t.forEach(e=>{(n===e.value||n.startsWith(e.value+"/"))&&r()})})}}),u.window.customElements.define(u.params.slotElement,class extends u.window.HTMLElement{hydrate(e,t,r){this.anchorNode=e,d(this).slottedElements=t,d(this).compositionBlock=r,this._bindSlotted(t),this._connectToCompositionBlock()}connectedCallback(){this.anchorNode||(this.anchorNode=Object(p.a)(u.window,"isomorphic")?u.window.document.createComment(this.outerHTML):u.window.document.createTextNode(""),this.after(this.anchorNode),d(this).compositionBlock=this.hasAttribute(u.params.templateReferenceAttribute)?null:this.parentNode.closest("["+u.window.CSS.escape(u.params.templateReferenceAttribute)+"]"),this._connectToCompositionBlock(),Object(a.a)(u.window,()=>{Promise.all(m).then(()=>{this.resolve()})}))}_connectToCompositionBlock(){this.compositionBlock&&(d(this.compositionBlock).slots||(d(this.compositionBlock).slots={}),d(this.compositionBlock).slots[this.name]=this)}_bindSlotted(e){e.forEach(e=>{e.slotReference=this}),d(this).slottedObserver=Object(i.c)(u.window,e,e=>{e.forEach(e=>{e.parentNode||Object(l.a)(this.slottedElements,e),e.slotReference===this&&delete e.slotReference}),this.slottedElements.length||this.anchorNode.before(this)},{onceEach:!0})}resolve(){if(!Object(o.a)(u.params.inertContexts,e=>this.closest(e))){var e,t;if(this.hasAttribute(u.params.templateReferenceAttribute))this.compositionBlock&&d(this.compositionBlock).slots[this.name]===this&&delete d(this.compositionBlock).slots[this.name],(e=this.template)&&(t=e.partials[this.name]);else{if(!this.compositionBlock)return void console.warn("Scoped slots must be found within template contexts. ["+this.name+"]",this);(e=this.compositionBlock.template)&&(t=e.partials[this.name])}e?this.fill(t):this.empty()}}fill(e){e=Object(c.a)(e,!1).map(e=>e.cloneNode(!0)),this.empty(!0),this.remove(),e.forEach(e=>{"@slot"===e.getAttribute(u.params.templateReferenceAttribute)&&(d(e).templates||(d(e).templates={}),d(e).templates["@slot"]=this),u.mergeAttributes(e,this),e.getAttribute(u.params.slotReferenceAttribute)||e.setAttribute(u.params.slotReferenceAttribute,this.name),this.anchorNode.before(e)}),this._bindSlotted(e),this.slottedElements.push(...e)}empty(e=!1){if(this.slottedElements){var t=this.slottedElements;e&&this.slottedObserver&&(this.slottedObserver.disconnect(),t=this.slottedElements.splice(0)),t.forEach(e=>e.remove())}}get name(){return this.getAttribute(u.params.slotNameAttribute)||"default"}get compositionBlock(){return d(this).compositionBlock}get slottedElements(){return d(this).slottedElements||(d(this).slottedElements=[]),d(this).slottedElements}get partials(){return O(this),d(this).partials}static get observedAttributes(){return[u.params.slotNameAttribute]}});m.forEach(e=>{e.catch(e=>{console.warn(e)})}),Object(a.a)(u.window,()=>{Promise.all(m).then(()=>{u.window.document.templatesReadyState="complete",u.window.document.dispatchEvent(new u.window.Event("templatesreadystatechange"))}),Object(p.a)(u.window,"isomorphic")&&Object(c.a)(u.window.document.querySelectorAll("["+u.window.CSS.escape(u.params.slotReferenceAttribute)+"]")).forEach(e=>{if(!d(e.parentNode).slotsCan){var t=[];e.parentNode.childNodes.forEach(e=>{var r;if(1===e.nodeType&&e.matches("["+u.window.CSS.escape(u.params.slotReferenceAttribute)+"]"))t.push(e);else if(8===e.nodeType&&(r=e.nodeValue.trim())&&r.startsWith("<"+u.params.slotElement)&&r.endsWith("</"+u.params.slotElement+">")){var n,a,i=u.window.document.createElement("div");i.innerHTML=r,(n=i.firstChild).matches(u.params.slotElement)&&(n.hasAttribute(u.params.templateReferenceAttribute)||(a=e.parentNode.closest("["+u.window.CSS.escape(u.params.templateReferenceAttribute)+"]")),n.hydrate(e,t,a),t=[])}}),d(e.parentNode).slotsCan=!0}})})}mergePartials(e,t,r=[]){return t.partialsSlottables?(Object(f.a)(t.partialsSlottables,(t,n)=>{if(e.partialsSlottables&&e.partialsSlottables[t]){var a=r.concat((e.getAttribute("noinherit")||"").split(" ").map(e=>e.trim()));this.mergeAttributes(e.partialsSlottables[t],n,a,!1)}else e.append(n.clone(!0))}),e):e}mergeAttributes(e,t,r=[],n=!0){r=r.concat(this.params.noinheritAttributes),e.hasAttribute("noinherit")&&(r=r.concat((e.getAttribute("noinherit")||"*").split(" ").map(e=>e.trim())));var a=this.params.listAttributes.concat(["role","class"]);if(Object(u.a)(a).forEach(a=>{var i,s;if(!r.includes(a)&&!r.includes("*")&&(i=t.getAttribute(a))){if(s=e.getAttribute(a))var o=n?[s,i]:[i,s];else o=[i];e.setAttribute(a,Object(u.a)(o.join(" ").split(" ").map(e=>e.trim())).join(" ")),r.push(a)}}),Object(u.a)(this.params.keyValAttributes.concat("style")).forEach(a=>{var i,s;if(!r.includes(a)&&!r.includes("*")&&(i=t.getAttribute(a))){if(s=e.getAttribute(a))(o=n?[s,i]:[i,s])[0].trim().endsWith(";")||(o[0]=o[0]+";");else var o=[i];e.setAttribute(a,o.join(" ")),r.push(a)}}),!r.includes("*"))for(var i=0;i<t.attributes.length;i++){var s=t.attributes[i];r.includes(s.name)||e.hasAttribute(s.name)&&!n||e.setAttribute(s.name,s.value)}return e}}},,,,function(e,t,r){"use strict";r.r(t),new(r(32).a)(window)}]);
//# sourceMappingURL=html-partials.js.map