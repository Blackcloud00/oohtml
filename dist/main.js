!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=25)}([function(e,t,r){"use strict";var n=r(13);t.a=function(e){return Array.isArray(e)||"object"==typeof e||Object(n.a)(e)}},function(e,t,r){"use strict";t.a=function(e){return Array.isArray(e)}},function(e,t,r){"use strict";t.a={Window:null,Trap:null,ScopedHTML:null,ScopedJS:null,params:{namespaceAttribute:"namespace",bundleAttribute:"chtml-bundle",importElement:"chtml-import",keyValAttributes:[],listAttributes:[],norecomposeAttributes:["nocompose","shadow"],recomposeCallback:null}}},function(e,t,r){"use strict";var n=r(1),a=r(10),s=r(7),i=r(11),o=r(0),l=r(4);t.a=function(e,t=!0){return Object(n.a)(e)?e:!t&&Object(l.a)(e)?[e]:!1!==e&&0!==e&&function(e){return Object(i.a)(e)||Object(s.a)(e)||!1===e||0===e||Object(o.a)(e)&&!Object.keys(e).length}(e)?[]:function(e){return!Object(a.a)(e)&&!Object(s.a)(e.length)}(e)?Array.prototype.slice.call(e):Object(l.a)(e)?Object.values(e):[e]}},function(e,t,r){"use strict";t.a=function(e){return!Array.isArray(e)&&"object"==typeof e&&e}},function(e,t,r){"use strict";var n=r(13);t.a=function(e){return Object(n.a)(e)||e&&"[object function]"==={}.toString.call(e)}},function(e,t,r){"use strict";t.a={factory:null,Window:null,Trap:null,params:{scopeAttribute:"scope",roleAttribute:"scope",hintAttribute:"hint",scopePropertyName:"scope"}}},function(e,t,r){"use strict";t.a=function(e){return arguments.length&&(void 0===e||void 0===e)}},function(e,t,r){"use strict";t.a=function(e){return!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)}},function(e,t,r){"use strict";t.a={Window:null,Trap:null,params:{scriptElement:'script[type="text/scoped-js"]',autoHide:!0},globals:{}}},function(e,t,r){"use strict";t.a=function(e){return"string"==typeof e}},function(e,t,r){"use strict";t.a=function(e){return null===e||""===e}},function(e,t,r){"use strict";t.a=function(e,...t){return t.forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e}},function(e,t,r){"use strict";t.a=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n=r(0),a=r(8);t.a=function(e,t){var r=void 0;return Object(n.a)(e)&&Object.keys(e).forEach((n,s)=>{!1!==r&&(r=t(Object(a.a)(n)?parseFloat(n):n,e[n],s))}),r}},function(e,t,r){"use strict";t.a=function(e){return e.filter((e,t,r)=>r.indexOf(e)===t)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return q})),r.d(t,"a",(function(){return fe}));var n=function(e){return Array.isArray(e)},a=function(e){return"function"==typeof e},s=function(e){return a(e)||e&&"[object function]"==={}.toString.call(e)},i=function(e){return!Array.isArray(e)&&"object"==typeof e&&e},o=function(e){return Array.isArray(e)||"object"==typeof e},l=function(e){return!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)},c=function(e,t){var r=[];return function(e,t){t=(t=t||Object.prototype)&&!n(t)?[t]:t;var r=[];for(e=e;e&&(!t||t.indexOf(e)<0)&&"default"!==e.name;)r.push(e),e=e?Object.getPrototypeOf(e):null;return r}(e,t).forEach(e=>{!function(e,...t){t.forEach(t=>{e.indexOf(t)<0&&e.push(t)})}(r,...Object.getOwnPropertyNames(e))}),r};function p(e,t,r=!1,a=!1,h=!0){var u=0,d=e.shift();if((l(d)||!0===d||!1===d)&&(u=d,d=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((e,f)=>{(o(e)||s(e))&&(r?c(e):Object.getOwnPropertyNames(e)).forEach(s=>{var o=d[s],c=e[s];if((n(o)&&n(c)||i(o)&&i(c))&&(!0===u||u>0))d[s]=n(o)&&n(c)?[]:{},p([l(u)?u-1:u,d[s],o,c],t,r,a,h);else if(t(s,d,e,f))if(n(d)&&n(e))a?d[s]=c:d.push(c);else try{h?Object.defineProperty(d,s,Object.getOwnPropertyDescriptor(e,s)):d[s]=e[s]}catch(e){}})}),d}var h=function(...e){return p(e,(e,t,r)=>!0,!1,!1,!1)},u=function(e,t){if(!e)return!1;if(e instanceof t)return!0;var r=e=>{for(;e&&e!==Function.prototype;){if(e===t||e.prototypes&&e.prototypes.reduce((e,n)=>e||n===t||r(n),!1))return!0;e=Object.getPrototypeOf(e)}return!1};return r(e.constructor)},d=function(e){return"number"==typeof e},f=function(e){return i(e)&&Object.getPrototypeOf(e)===Object.prototype},m=function(e){return!0===e||!1===e},g=function(e,t){var r=void 0;return o(e)&&Object.keys(e).forEach((n,a)=>{!1!==r&&(r=t(l(n)?parseFloat(n):n,e[n],a))}),r};const b=function(e,t,r=!0,a=1){if(n(e)&&n(t)&&e.length!==t.length)return!r;if(i(e)&&i(t)){var l=Object.keys(e),c=Object.keys(t);if(!l.length&&!c.length)return f(e)&&f(t)?r:e===t===r;if(!b(l,c))return!r}if(a>0&&(n(e)&&n(t)||i(e)&&i(t))){var p=function(e,t,r=!0,a=!0,s=!1,l=!1){if(n(e)&&n(t)){var c=[],p=!0;return e.forEach(e=>{if(p){var h=!1;g(t,(t,s)=>{(!h||a&&o(e))&&(h=r(e,s),(n(h)&&!h.length||i(h)&&!Object.keys(h).length)&&(h=!1),o(h)&&a&&(e=h))}),o(h)?c.push(a?h:e):m(h)?s&&!h||!s&&h?c.push(e):l&&(p=!1):c.push(h)}}),c}if(i(e)&&i(t)){c={},p=!0;return Object.keys(e).forEach(h=>{if(p){var u=r(e[h],t[h]);(n(u)&&!u.length||i(u)&&!Object.keys(u).length)&&(u=!1),o(u)?c[h]=a?u:e[h]:m(u)?s&&!u||!s&&u?c[h]=e[h]:l&&(p=!1):c[h]=u}}),c}}(e,t,(e,t)=>b(e,t,r,a-1),!1,!1,!0);return n(p)?p.length===e.length&&p.length===t.length:i(p)&&i(e)?Object.keys(p).length===Object.keys(e).length&&Object.keys(p).length===Object.keys(t).length:p}return s(r)?r(e,t):d(e)&&d(t)&&isNaN(e)&&isNaN(t)?r:e===t===r};var v=b,y=class{even(e){return!(!i(e)||e.jsenType!==this.jsenType)&&v(e,this)}inherit(e){return this}withComments(e){return this.meta||(this.meta={}),this.meta.comments=e,this}withVars(e){return this.meta||(this.meta={}),this.meta.vars=e,this}};const w=class extends y{};Object.defineProperty(w.prototype,"jsenType",{get:()=>"Abstraction"});var j=w;const O=class extends y{};Object.defineProperty(O.prototype,"jsenType",{get:()=>"Arguments"});var x=O;const E=class extends y{};Object.defineProperty(E.prototype,"jsenType",{get:()=>"Reference"});var T=E;const k=class extends y{};Object.defineProperty(k.prototype,"jsenType",{get:()=>"CallExpression"});var S=k;const A=class{static parse(e,t,r={},a=A){if(e.length){for(var s=Object.values(t||a.grammars),i=0;i<s.length;i++){var o=[],l=s[i].parse(e,(e,t,n={})=>{var s=A.parse(e,t,n?h(r,n):r,a);return!1!==n.lodge&&(u(s,j)||u(s,x)?o=o.concat(s.meta.vars):(u(s,T)||u(s,S))&&o.push(s)),s});if(l)return l.meta||(l.meta={}),l.meta.vars=o,n(r.explain)&&r.explain.push(e+" >>-------------\x3e> "+l.jsenType),l}if(!1===r.assert)return;throw new Error("[Syntax error:] "+e)}}};var F=A,P=function(e){return"string"==typeof e},W=function(e){return arguments.length&&(void 0===e||void 0===e)},C=function(e,t=!0){return n(e)?e:!t&&i(e)?[e]:!1!==e&&0!==e&&function(e){return function(e){return null===e||""===e}(e)||W(e)||!1===e||0===e||o(e)&&!Object.keys(e).length}(e)?[]:function(e){return!P(e)&&!W(e.length)}(e)?Array.prototype.slice.call(e):i(e)?Object.values(e):[e]};const N=function(e,t=1,r=!0){return!l(t)||t<=0?e:(!n(e)&&i(e)&&r&&(e=Object.values(e)),n(e)?e.reduce((e,a)=>n(a)||i(a)&&r?e.concat(N(n(a)?a:Object.values(a),t-1,r)):e.concat(a),[]):e)};var R=N,$=function(e,t=1){var r=0;e.forEach(e=>{r++});var n=e.slice(e.length-r,t);return arguments.length>1?n:n[0]},_=function(e,t=1){return arguments.length>1?$(e.slice().reverse(),t).reverse():$(e.slice().reverse())},D=function(e,t=[]){return p([{},e],(e,r,a)=>{if(!s(a[e]))return s(t)?t(e):!n(t)||!t.length||t.indexOf(e)>-1},!1,!1,!1)};const M=class{static lex(e,t,r={}){if(!P(e))throw new Error("Argument1 must be a string!");var n=e=>({delims:e.delims.slice(),options:D(e.options),nesting:e.nesting.slice(),maxDepth:e.maxDepth,comments:e.comments.slice(),tokens:e.tokens.slice(),matches:e.matches.slice(),matchesi:D(e.matchesi)});if(M.$cache[e]&&!1!==r.cache)for(var a=0;a<M.$cache[e].length;a++){var s=M.$cache[e][a];if(v(s.delims,t))return n(s)}var i=new M(e,r).lex(t);return!1!==r.cache&&(M.$cache[e]=M.$cache[e]||[],M.$cache[e].push(i)),n(i)}static split(e,t,r){return M.lex(e,t,r).tokens}static match(e,t,r){return M.lex(e,t,r).matches}constructor(e,t){if(!P(e))throw new Error("Lexer requires the first argument to be a string.");this.$str=e,this.$options=t||{},this.$options.blocks||(this.$options.blocks=M.$blocks),this.$options.quotes||(this.$options.quotes=M.$quotes),this.$options.comments||(this.$options.comments=M.$comments)}lex(e,t){var r={delims:C(e),options:h(!0,{},this.$options,t||{}),nesting:[],maxDepth:0,comments:[],tokens:[],matches:[],matchesi:{}};if(this._evalCharsAt(r,0),r.nesting.length)throw new Error("Error parsing the string: "+this.$str+". Unterminated blocks: "+R(r.nesting).join(", "));return r}_evalCharsAt(e,t){if(!(t>=this.$str.length)){var r=1,n={},a={},s={};if(e.openComment||(a=this._testQuotes(e,t)),e.openQuote||(n=this._testComments(e,t)),e.openComment||n.ending)if(e.nesting.length||s.ending)this._push(e,this.$str[t]);else r=(o=n.starting||n.ending||this.$str[t]).length,this._push(e,o,"comments",n.starting);else if(e.openQuote||a.ending)this._push(e,this.$str[t]);else{if(e.options.limit&&e.matches.length===e.options.limit)return this._push(e,this.$str[t]),this._evalCharsAt(e,t+1);s=this._testNesting(e,t);s=this._testNesting(e,t);var i=this._testChars(e.options.stopChars||[],e,t);if(!e.nesting.length&&!1!==i)return e.options.stopChar=i,void(e.options.stopCharForward=this.$str.substr(t));if(e.delims.length)if(e.nesting.length||s.ending){var o;r=(o=s.starting||s.ending||this.$str[t]).length,this._push(e,o)}else{this._push(e,"");var l=this._testChars(e.delims,e,t);if(!1!==l&&(e.matches.push(l),e.matchesi[t]=l,r=l.length||1,!e.options.preserveDelims))return this._evalCharsAt(e,t+(l.length||1));this._push(e,l||this.$str[t])}else 2===e.nesting.length&&s.starting?(e.matches.push(null),this._push(e,s.starting),r=s.starting.length):!e.nesting.length&&s.ending?(this._push(e,s.ending),r=s.ending.length,e.matches.push(null)):this._push(e,this.$str[t])}return this._evalCharsAt(e,t+r)}}_testQuotes(e,t){var r={};return(e.options.quotes||[]).forEach(n=>{this.$str.substr(t,1)===n&&(e.openQuote?n===e.openQuote&&(e.openQuote=!1,r.ending=n):(e.openQuote=n,r.starting=n))}),r}_testComments(e,t){var r={};return(e.options.comments||[]).forEach(n=>{if(e.openComment){if(_(n)===_(e.openComment)){var a=_(n);this.$str.substr(t).startsWith(a)&&(e.openComment=!1,r.ending=a)}}else{var s=$(n);this.$str.substr(t).startsWith(s)&&(e.openComment=n,r.starting=s)}}),r}_testNesting(e,t){var r={};return(e.options.blocks||[]).forEach(n=>{var a=$(n);if(this.$str.substr(t).startsWith(a))e.nesting=e.nesting.concat([n]),r.starting=a;else if(e.nesting.length&&_(n)===_(_(e.nesting))){var s=_(n);this.$str.substr(t).startsWith(s)&&(e.nesting=e.nesting.slice(0,-1),r.ending=s)}}),e.maxDepth=Math.max(e.maxDepth,e.nesting.length),r}_testChars(e,t,r){for(var n=0;n<e.length;n++){var a=e[n];if(s(a)){var i=a(this.$str.substr(0,r),this.$str.substr(r));if(!1!==i)return i}if(t.options.useRegex){var o=this.$str.substr(r).match(new RegExp("^"+a,!0!==t.options.useRegex?t.options.useRegex:""));if(o)return o[0]}if(!t.options.ci&&this.$str.substr(r,a.length)===a||t.options.ci&&this.$str.substr(r,a.length).toLowerCase()===a.toLowerCase())return a}return!1}_push(e,t,r="tokens",n=!1){var a=e.matches.length;if(W(e.tokens[a])&&(e.tokens[a]=""),"comments"===r){e.tokens[a].comments||(e.tokens[a]=new String(e.tokens[a]),e.tokens[a].comments=[]);var s=e.tokens[a].comments.length-(!e.tokens[a].comments.length||n?0:1);e.tokens[a].comments[s]=(e.tokens[a].comments[s]||"")+t}else{var i=e.tokens[a].comments;e.tokens[a]=new String(e.tokens[a]+t),e.tokens[a].comments=i}}split(e,t,r){return this.lex(t,r).tokens}match(e,t,r){return this.lex(t,r).matches}regParse(e,t){return this.lex(e,h({useRegex:!0},t||{}))}regSplit(e,t){return this.regParse(e,t).tokens}regMatch(e,t){return this.regParse(e,t).matches}};M.$blocks=[["(",")"],["[","]"],["{","}"]],M.$quotes=['"',"'","`"],M.$comments=[["/*","*/"],["//","\n"]],M.$cache={};var L=M;class q{constructor(e,t=1){if(this.stack=e,this.type=t,!this.stack.main)throw new Error('A "main" context must be provided!');this.stack.super&&(this.stack.super=q.create(this.stack.super)),this.stack.local=this.stack.local||{},this.stack.$local=this.stack.$local||{}}observe(e,t,r,n={}){n.observe&&e.length&&(this.stack.super&&this.stack.super.observe(e,(e,r,a)=>{if(a.fields.filter(e=>!I(this.stack.local,e,n)&&!I(this.stack.main,e,n)).length)return t(e,r,a)},r,n),n.observe(this.stack.main,e,(e,r,a)=>{if(a.fields.filter(e=>!I(this.stack.local,e,n)).length)return t(e,r,a)},r))}unobserve(e,t,r,n={}){n.unobserve&&(this.stack.super&&this.stack.super.unobserve(e,t,r,n),this.stack.main&&n.unobserve(this.stack.main,e,t,r))}handle(e,t,r,n=0){var a=()=>t(this.stack.main,null,()=>this.stack.super?this.stack.super.handle(e,t,r,n+1):r?r():void 0,n);return"toString"===e&&this.stack.local.toString===Object.prototype.toString?a():t(this.stack.local,this.stack.$local,a,n)}get(e,t={},r=!0){return e instanceof String&&(e+=""),this.handle(e,(n,i,o,l)=>{var c=H(n,e,t);return!W(c)||I(n,e,t)?s(c)&&!function(e){return a(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}(c)&&r?c.bind(n):c:o()})}set(e,t,r={},n=!1){if(2===this.type&&"var"===n&&this.stack.super)return this.stack.super.set(e,t,r,n);e instanceof String&&(e+="");const a=(e,t,r,n)=>n.set?n.set(e,t,r):(e[t]=r,!0);return this.handle(!!n||e,(s,i,o)=>{if(i&&"const"===i[e])throw new Error("CONST "+e+" cannot be modified!");if(n){if(!["var","let","const"].includes(n))throw new Error("Unrecognized declarator: "+n+"!");return i[e]=n,a(s,e,t,r)}return I(s,e,r)?a(s,e,t,r):o()},()=>{throw new Error('"'+e+'" is undefined!')})}del(e,t={}){return e instanceof String&&(e+=""),this.handle(e,(r,n,a)=>I(r,e,t)?(n&&delete n[e],t.deleteProperty||t.del?(t.deleteProperty||t.del)(r,e):(delete r[e],!0)):a())}has(e,t,r={}){return e instanceof String&&(e+=""),t instanceof String&&(t+=""),this.handle(e,(n,a,s)=>{if(I(n,e,r)){var i=H(n,e,r);return I(i,t,r)}return s()},()=>{throw new Error('"'+e+'" is undefined!')})}exec(e,t,r={}){return e instanceof String&&(e+=""),this.handle(e,(n,a,i)=>{var o=H(n,e,r);if(!W(o)||I(n,e,r)){if(!s(o)){if(r.exec)return r.exec(n,e,t);throw new Error('"'+e+'" is not a function! (Called on type: '+typeof n+".)")}return r.apply?r.apply(o,n,t):o.apply(n,t)}return i()},()=>{if(r.execUnknown)return r.execUnknown(this,e,t);throw new Error('"'+e+'()" is undefined!')})}static create(e){return e instanceof q?e:new q({main:e})}}const H=(e,t,r)=>r.get?r.get(e,t):o(e)&&e||P(e)||d(e)?e[t]:void 0,I=(e,t,r)=>r.has?r.has(e,t):o(e)&&e?t in e:!W(e[t]);var B=function(e,t,r){return e.startsWith(t)&&e.endsWith(r)},J=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?"":e.substr(n+t.length)},U=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?e:e.substr(0,n)},Q=function(e,t,r){return function(e,t){return U(e,t,!0)}(J(e,t),r)};const V=class extends j{constructor(e){super(),this.expr=e}eval(e=null,t={}){return this.expr.eval(e,t)}toString(e=null){return"("+this.expr.toString(e)+")"}static parse(e,t,r=V){if(B(e,"(",")")&&!L.match(e,[" "]).length)return new r(t(Q(e,"(",")")))}};var K=V;const z=class extends y{};Object.defineProperty(z.prototype,"jsenType",{get:()=>"ArrayType"});var Y=z;const Z=class extends Y{constructor(e){super(),this.exprs=e||[]}inherit(e){if(e instanceof Y){var t=e.exprs.filter(e=>this.exprs.reduce((t,r)=>t&&!e.even(r),!0));this.exprs=t.concat(this.exprs)}return this}eval(e=null,t={}){return this.exprs.map(r=>r.eval(e,t))}toString(e=null){return"["+this.exprs.map(t=>t.toString(e)).join(", ")+"]"}static parse(e,t,r=Z){if(B(e,"[","]")&&!L.match(e.trim(),[" "]).length)return new r(L.split(Q(e,"[","]"),[","]).map(e=>e.trim()).filter(e=>e).map(e=>t(e)))}};var G=Z;const X=class extends x{constructor(e=[]){super(),this.list=e}eval(e=null,t={}){return this.list.map(r=>r.eval(e,t))}toString(e=null){return"("+this.list.map(t=>t.toString(e)).join(", ")+")"}static parse(e,t,r=X){if(e=e.trim(),B(e,"(",")")&&!L.match(e,[" "]).length)return new r(L.split(Q(e,"(",")"),[","]).map(e=>t(e.trim())))}};var ee=X,te=function(e){return e.filter((e,t,r)=>r.indexOf(e)===t)};const re=class extends y{};Object.defineProperty(re.prototype,"jsenType",{get:()=>"AssertionExpression"});var ne=re;const ae=class extends ne{constructor(e,t){super(),this.exprs=e,this.logic=t}eval(e=null,t={}){if("!"===this.logic)return!$(this.exprs).eval(e,t);R(ae.operators);for(var r=(this.logic||"").trim().toUpperCase(),n=r===(ae.operators.or||"").trim().toUpperCase(),a=r===(ae.operators.nor||"").trim().toUpperCase(),s=r===(ae.operators.and||"").trim().toUpperCase(),i=r===(ae.operators.nand||"").trim().toUpperCase(),o=!0,l=0,c=0;c<this.exprs.length;c++){if(o=this.exprs[c].eval(e,t),s&&!o)return!1;if(i&&!o)return!0;if(n&&o)return o;l+=o?1:0}return n?o:s||i?s:a&&0===l}toString(e=null){return"!"===this.logic?"!"+$(this.exprs).toString(e):this.exprs.map(t=>t.toString(e)).join(" "+this.logic+" ")}static parse(e,t,r=ae){if(e.startsWith("!"))return new r([t(e.substr(1))],"!");var n=L.lex(e,R(r.operators));if(n.tokens.length>1){var a=te(n.matches);if(a.length>1)throw new Error('"AND" and "OR" logic cannot be asserted in the same expression: '+e+"!");return new r(n.tokens.map(e=>t(e.trim())),$(a))}}};ae.operators={and:"&&",or:"||"};var se=ae;const ie=class extends y{};Object.defineProperty(ie.prototype,"jsenType",{get:()=>"AssignmentExpression"});var oe=ie;const le=class extends oe{constructor(e,t,r,n="="){super(),this.initKeyword=e,this.reference=t,this.val=r,this.operator=n}eval(e=null,t={}){var r=this.reference.getEval(e,t),n=this.val.eval(e,t);if(!W(r.context)&&!W(r.name))return q.create(r.context).set(r.name,n,t,this.initKeyword);throw new Error('"'+this+'" is undefined!')}toString(e=null){return(this.initKeyword?this.initKeyword+" ":"")+[this.reference.toString(e),this.operator,this.val.toString(e)].join(" ")}static parse(e,t,r=le){var n=L.lex(e,r.operators);if(2===n.tokens.length){var a,s=n.tokens.shift().trim(),i=n.tokens.shift().trim();if(["var","let","const"].includes(U(s," "))&&(a=U(s," "),s=J(s," ").trim()),!((s=t(s,null,{lodge:!1}))instanceof T&&(i=t(i))))throw new Error("Invalid assignment expression: "+e);return new r(a,s,i,n.matches[0].trim())}}};le.operators=[" = "];var ce=le;const pe=class extends y{};Object.defineProperty(pe.prototype,"jsenType",{get:()=>"Block"});var he=pe;const ue=class extends y{};Object.defineProperty(ue.prototype,"jsenType",{get:()=>"ReturnDirective"});var de=ue;class fe extends he{constructor(e,t){super(),this.stmts=e||[],this.delim=t}eval(e=null,t={}){e=q.create(e);for(var r,n=[],a=0;a<this.stmts.length;a++){var s=this.stmts[a];if(s instanceof de)return s.eval(e,t);n[a]=s.eval(e,t),function(r,n,a){a&&a.unobserve(n,null,{tags:["#block",r]},t),e.observe(n,(n,a,s)=>{var i=r.eval(e,t);if(!1!==i)return i},{data:!1,tags:["#block",r]},t)}(s,(r=s.meta.vars,te(r.map(e=>U(U(e.toString(),"["),"(")))),this.prevContext)}return this.prevContext=e,n}toString(e=null){return this.stmts.map(t=>t.toString(e)).join(this.delim)}static parse(e,t,r=fe){var n=L.lex(e,R(r.operators).concat([(e,t)=>!(!e.endsWith("}")||t.trim().startsWith("else"))&&""]));if(n.matches.length)return new r(n.tokens.map(e=>t(e.trim())).filter(e=>e),n.matches[0].trim())}}fe.operators=[";","\r\n"];const me=class extends y{};Object.defineProperty(me.prototype,"jsenType",{get:()=>"BooleanType"});var ge=me;const be=class extends ge{constructor(e){super(),this.state=e}eval(){return"true"===this.state.toLowerCase().trim()}toString(){return this.state}static parse(e,t,r=be){if("true"===(e=e.toLowerCase().trim())||"false"===e)return new r(e)}};var ve=be;const ye=class extends S{constructor(e,t){super(),this.reference=e,this.args=t}eval(e=null,t={}){try{var r=this.reference.getEval(e,t),n=this.args.eval(e,t);if(!W(r.context)&&!W(r.name))return q.create(r.context).exec(r.name,n,t)}catch(e){throw new Error("[Execution Error]["+this+"]: "+e.message)}throw new Error('"'+this+'" is undefined!')}toString(e=null){return this.reference.toString(e)+this.args.toString(e)}static parse(e,t,r=ye){if(!e.startsWith("(")&&e.endsWith(")")&&!L.match(e,[" "]).length){var n,a=L.split(e,[]),s=a.pop();if(!((n=t(a.join(""),null,{lodge:!1}))instanceof T&&(s=t(s,[ee]))))throw new Error("Invalid call directive: "+e);return new r(n,s)}}};var we=ye;const je=class extends y{};Object.defineProperty(je.prototype,"jsenType",{get:()=>"ComparisonExpression"});var Oe=je;const xe=class extends Oe{constructor(e,t,r){super(),this.operand1=e,this.operand2=t,this.operator=r}eval(e=null,t={}){return xe.compare(this.operand1.eval(e,t),this.operand2.eval(e,t),this.operator)}toString(e=null){return[this.operand1.toString(e),this.operator,this.operand2.toString(e)].join(" ")}static parse(e,t,r=xe){var n=R(r.operators).map(e=>" "+e+" "),a=L.lex(e,n);if(a.tokens.length>1){if(a.tokens.length>2)throw new Error('Malformed "Comparison" expression: '+e+"!");return new r(t($(a.tokens).trim()),t(_(a.tokens).trim()),a.matches[0].trim())}}static compare(e,t,r="=="){if(-1===R(xe.operators).indexOf(r))throw new Error('The operator "'+r+'" is not recognized.');switch(r){case"===":return e===t;case"==":case"=":return e==t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t;case"!=":return e!=t;case"!==":return e!==t;case"^=":return P(e)&&e.startsWith(t);case"$=":return P(e)&&e.endsWith(t);case"*=":return!(!n(t)&&!P(t))&&e.indexOf(t)>-1;case"~=":return P(e)&&P(t)&&(" "+e+" ").indexOf(" "+t+" ")>-1;case">=<":if(!n(t)||2!==t.length)throw new Error("A 'Between' comparison requires argument 2 to be an array of exactly 2 values.");return e>=t[0]&&e<=t[1];case"/**/":return t.match(new RegExp(e));default:return!1}}static diff(e,t,r){return!xe.compare(e,t,r?"===":"==")}};xe.operators={exact:{is:"===",isNull:"===",equalsTo:"==",strictlyNotEqualsTo:"!==",notEqualsTo:"!="},relative:{lesserThan:"<",greaterThan:">",lesserThanOrEqualsTo:"<=",greaterThanOrEqualsTo:">=",between:">=<"},partial:{startsWith:"^=",endsWith:"$=",contains:"*=",any:"~=",in:"~=",matches:"/**/"}};var Ee=xe;const Te=class extends y{};Object.defineProperty(Te.prototype,"jsenType",{get:()=>"TernaryConditional"});var ke=Te;const Se=class extends ke{constructor(e,t,r){super(),this.assertion=e,this.onTrue=t,this.onFalse=r}eval(e=null,t={}){return this.assertion.eval(e,t)?this.onTrue.eval(e,t):this.onFalse.eval(e,t)}toString(e=null){return[this.assertion.toString(e),Se.operators[0],this.onTrue.toString(e),Se.operators[1],this.onFalse.toString(e)].join(" ")}static parse(e,t,r=Se){var n=L.split(e,r.operators);if(n.length>1){if(2===n.length)throw new Error("Malformed ternary expression: "+e+"!");return new r(t(n[0].trim()),t(n[1].trim()),t(n[2].trim()))}}};Se.operators=["?",":"];var Ae=Se;const Fe=class extends y{};Object.defineProperty(Fe.prototype,"jsenType",{get:()=>"DeleteExpression"});var Pe=Fe;const We=class extends Pe{constructor(e,t="delete"){super(),this.reference=e,this.operator=t}eval(e=null,t={}){var r=this.reference.getEval(e,t);if(!W(r.context)&&!W(r.name))return q.create(r.context).del(r.name,t);throw new Error('"'+this+'" is undefined!')}toString(e=null){return this.operator+" "+this.reference.toString(e)}static parse(e,t,r=We){var n=L.lex(e,Object.values(r.operators));if(1===n.matches.length&&e.startsWith(n.matches[0]+" ")){var a;if(!((a=t(n.tokens.pop().trim()))instanceof T))throw new Error("Invalid delete directive: "+e);return new r(a,n.matches[0].trim())}}};We.operators={red:"reduce",del:"delete"};var Ce=We;const Ne=class extends y{};Object.defineProperty(Ne.prototype,"jsenType",{get:()=>"FunctionType"});var Re=Ne;const $e=class extends Re{constructor(e,t,r={}){super(),this.paramters=e||{},this.statements=t,this.arrowFunctionFormatting=r}inherit(e){if(e instanceof Re){for(var t=Object.keys(e.paramters),r=Object.keys(this.paramters),n=0;n<Math.max(r.length,t.length);n++){var a=t[n],s=r[n];if(!s&&a)throw new Error("Parameter #"+n+" ("+a+") in parent function must be implemented.");if(s&&a){var i=e.paramters[a],o=this.paramters[s];if(o&&!i)throw new Error("Parameter #"+n+" ("+s+") must not have a default value as established in parent function.");if(o&&i&&o.jsenType!==i.jsenType)throw new Error("Default value for parameter #"+n+" ("+s+") must be of type "+i.jsenType+" as established in parent function.")}}this.sup=e}return this}eval(e=null,t={}){return(...r)=>{var n={};g(Object.keys(this.paramters),(a,s)=>{var i=this.paramters[s];if(r.length-1<a&&!i)throw new Error('The parameter "'+s+'" is required.');n[s]=r.length>a?r[a]:this.paramters[s]?this.paramters[s].eval(e,t):null});var a=new q({main:n,super:e});return this.statements.eval(a,t)}}toString(e=null){var t=[];if(g(this.paramters,(r,n)=>{t.push(r+(n?"="+n.toString(e):""))}),this.arrowFunctionFormatting){var r=!1===this.arrowFunctionFormatting.head||1===t.length&&-1===t[0].indexOf("="),n=!1===this.arrowFunctionFormatting.body;return(r?t[0]:"("+t.join(", ")+")")+" => "+(n?this.statements.toString(e):"{"+this.statements.toString(e)+"}")}return"function ("+t.join(", ")+") {"+this.statements.toString(e)+"}"}static parse(e,t,r=$e){var n;if((e=e.trim()).startsWith("function")&&(n=L.split(e,[]).slice(1).filter(e=>e.trim()))&&2===n.length)var a=!1,s=Q(n.shift().trim(),"(",")"),i=Q(n.shift().trim(),"{","}");else{if(e.startsWith("function")||!(n=L.split(e,["=>"]))||2!==n.length)return;s=n.shift().trim(),i=n.shift().trim(),a={};B(s,"(",")")?s=Q(s,"(",")"):a.head=!1,B(i,"{","}")?i=Q(i,"{","}"):a.body=!1}var o={};L.split(s,[","]).forEach(e=>{var r=e.split("=");r[1]?o[r[0].trim()]=t(r[1].trim(),null,{meta:null}):o[e.trim()]=null});var l=t(i,[fe],{assert:!1})||t(i,null,{meta:null});return new r(o,"Block"===l.jsenType?l:new fe([l]),a)}};$e.operators=["=>"];var _e=$e;const De=class extends y{};Object.defineProperty(De.prototype,"jsenType",{get:()=>"IfConditional"});var Me=De;const Le=class extends Me{constructor(e,t,r,n={}){super(),this.assertion=e,this.onTrue=t,this.onFalse=r,this.params=n}eval(e=null,t={}){var r=new q({main:{},super:e},2);return this.assertion.eval(e,t)?this.onTrue?this.onTrue.eval(r,t):void 0:this.onFalse?this.onFalse.eval(r,t):void 0}toString(e=null){var t=this.onTrue&&this.params.onTrueIsBlock?"{"+this.onTrue.toString(e)+"}":this.onTrue?this.onTrue.toString(e):"",r=this.onFalse&&this.params.onFalseIsBlock?"{"+this.onFalse.toString(e)+"}":this.onFalse?this.onFalse.toString(e):"";return"if ("+this.assertion.toString(e)+")"+t+(r?" else "+r:"")}static parse(e,t,r=Le){var n;if((e=e.trim()).startsWith("if")&&(n=L.split(e,[],{limit:2}).slice(1).filter(e=>e.trim()))&&2===n.length){var a,s,i=t(Q(n.shift().trim(),"(",")").trim()),o=L.split(n.shift().trim(),["else"],{limit:1}),l=o.shift().trim(),c=(o.shift()||"").trim();return B(l,"{","}")?(a=!0,l=t(l=Q(l,"{","}").trim(),[fe],{assert:!1,meta:null})||t(l,null,{meta:null})):l=t(l,null,{meta:null}),c&&(B(c,"{","}")?(s=!0,c=t(c=Q(c,"{","}").trim(),[fe],{assert:!1,meta:null})||t(c,null,{meta:null})):c=t(c,null,{meta:null})),new r(i,l?"Block"===l.jsenType?l:new fe([l]):null,c?"Block"===c.jsenType?c:new fe([c]):null,{onTrueIsBlock:a,onFalseIsBlock:s})}}};var qe=Le,He=function(e,t,r=null){return n(t)?e.filter(e=>r?t.filter(t=>r(e,t)).length:-1!==t.indexOf(e)):[]};const Ie=class extends y{};Object.defineProperty(Ie.prototype,"jsenType",{get:()=>"MathExpression"});var Be=Ie;const Je=class extends Be{constructor(e,t){super(),this.val=e,this.exprs=t}eval(e=null,t={}){return this.exprs.reduce((r,n)=>{var a=n.val.eval(e,t),s=n.operator.trim();if(!(l(r)&&l(a)||"+"===s))throw new Error("Invalid Math expression: "+this.toString()+"!");switch(s){case"+":return r+a;case"-":return r-a;case"*":return r*a;case"/":return r/a}},this.val.eval(e,t))}toString(e=null){return[this.val.toString(e)].concat(this.exprs.map(t=>t.operator+" "+t.val.toString(e))).join(" ")}static parse(e,t,r=Je){var n=L.lex(e,R(r.operators));if(n.tokens.length>1&&n.matches.length===n.tokens.length-1){var a=te(n.matches);if(He(a,Je.operators.sup).length&&He(a,Je.operators.sub).length)throw new Error('"Addition/subtraction" and "multiplication/division" operators cannot be used in the same expression: '+e+"!");return new r(t(n.tokens.shift().trim()),n.tokens.map((e,r)=>({operator:n.matches[r],val:t(e.trim())})))}}};Je.operators={sup:["*","/"],sub:[" + "," - "]};var Ue=Je;const Qe=class extends y{};Object.defineProperty(Qe.prototype,"jsenType",{get:()=>"NumberType"});var Ve=Qe;const Ke=class extends Ve{constructor(e,t=0){super(),this.int=e,this.dec=t}eval(){return parseFloat(this.int+(this.dec?"."+this.dec:null))}toString(e=null){return this.int+(this.dec?"."+this.dec:null)}static parse(e,t,r=Ke){if(l(e)){e=e.split(".");return new r(parseInt(e.shift()),parseInt(e.shift()))}}};var ze=Ke;const Ye=class extends y{};Object.defineProperty(Ye.prototype,"jsenType",{get:()=>"ObjectType"});var Ze=Ye;const Ge=class extends Ze{constructor(e){super(),this.entries=e||{}}inherit(e){return e instanceof Ze&&g(e.entries,(e,t)=>{e in this.entries||(this.entries[e]=t)}),this}eval(e=null,t={}){var r={};return g(this.entries,(n,a)=>{r[n]=a.eval(e,t)}),r}toString(e=null){var t=[];return g(this.entries,(r,n)=>{t.push(r+Ge.operators.sub+n.toString(e))}),"{"+t.join(Ge.operators.sup)+"}"}static parse(e,t,r=Ge){if(B(e,"{","}")&&!L.match(e.trim(),[" "]).length){var n={},a=L.split(Q(e,"{","}"),[Ge.operators.sup]).map(e=>e.trim()).filter(e=>e);return g(a,(e,r)=>{var a=L.split(r,[Ge.operators.sub],{limit:1});n[$(a).trim()]=t(_(a).trim())}),new r(n)}}};Ge.operators={sup:",",sub:":"};var Xe=Ge;const et=class extends y{};Object.defineProperty(et.prototype,"jsenType",{get:()=>"PresenceOperator"});var tt=et;const rt=class extends tt{constructor(e,t,r="in"){super(),this.prop=e,this.reference=t,this.operator=r}eval(e=null,t={}){var r=this.reference.getEval(e,t),n=this.prop.eval(e,t);if(!W(r.context)&&!W(r.name))return q.create(r.context).has(r.name,n,t);throw new Error('"'+this+'" is undefined!')}toString(e=null){return[this.prop.toString(e),this.operator,this.reference.toString(e)].join(" ")}static parse(e,t,r=rt){var n=L.lex(e,r.operators);if(2===n.tokens.length){var a,s;if(!((a=t(n.tokens.shift().trim()))&&(s=t(n.tokens.shift().trim()))instanceof T))throw new Error("Invalid presence check expression: "+e);return new r(a,s,n.matches[0].trim())}}};rt.operators=[" in "];var nt=rt;const at=class extends T{constructor(e,t,r=!1){super(),this.context=e,this.name=t,this.backticks=r}getEval(e=null,t={}){var r=e,n=this.name;return this.context&&(n instanceof y&&(n=n.eval(e,t)),r=this.context.eval(e,t)),{context:r,name:n}}eval(e=null,t={}){var r=this.getEval(e,t);if(!W(r.context)&&!W(r.name))return q.create(r.context).get(r.name,t)}toString(e=null){var t=this.name;if(this.context){var r=this.context.toString(e);t instanceof y?t="["+t.toString(e)+"]":this.backticks&&(t="`"+t+"`")}else{r=e;this.backticks&&(t="`"+t+"`")}return(r||"")+(r&&!t.startsWith("[")?at.separator:"")+t}static parse(e,t,r=at){if(!L.match(e.trim(),[" "]).length){var n,a,s=L.split(e,[]),i=s.pop(),o=L.split(i.trim(),[r.separator],{preserveDelims:!0});if(o.length>1&&(i=o.pop().substr(1),s=s.concat(o)),B(i,"`","`")&&(i=Q(i,"`","`"),a=!0),s.length&&((n=t(s.join(""))).isContext=!0),B(i,"[","]")){if(!n)throw new Error("Invalid reference: "+e+"!");i=t(Q(i,"[","]"))}return new r(n,i,a)}}};at.separator=".";var st=at;const it=class extends de{constructor(e){super(),this.expr=e}eval(e=null,t={}){return this.expr?this.expr.eval(e,t):void 0}toString(e=null){return this.expr?"return "+this.expr.toString(e):"return"}static parse(e,t,r=it){var n=e.toLowerCase();if(n.startsWith("return ")||"return"===n)return new r(t(e.substr(6).trim()))}};var ot=it;const lt=class extends y{};Object.defineProperty(lt.prototype,"jsenType",{get:()=>"StringType"});var ct=lt;const pt=class extends ct{constructor(e,t){super(),this.expr=e,this.quote=t}eval(){return this.expr}toString(){return this.quote+this.expr+this.quote}static parse(e,t,r=pt){if(e=e.trim(),(B(e,'"','"')||B(e,"'","'"))&&!L.match(e,[" "]).length){var n=B(e,'"','"')?'"':"'";return new r(Q(e,n,n),n)}}};var ht=pt;F.grammars={If:qe,Return:ot,Deletion:Ce,Assignment:ce,Presence:nt,Func:_e,Abstraction:K,Condition:Ae,Assertion:se,Comparison:Ee,Math:Ue,Arr:G,Obj:Xe,Num:ze,Str:ht,Bool:ve,Call:we,Reference:st};t.c=F},function(e,t,r){"use strict";var n=r(1);t.a=function(e,t,r=null){return Object(n.a)(t)?e.filter(e=>r?t.filter(t=>r(e,t)).length:-1!==t.indexOf(e)):[]}},function(e,t,r){"use strict";var n=r(0),a=r(3),s=r(1),i=r(10),o=function(e,t=null){var r={};return 2===arguments.length&&(Object(i.a)(e)?r[e]=t:Object(s.a)(e)&&Object(s.a)(t)&&e.forEach((e,n)=>r[e]=t[n])),r},l=r(8),c=r(13),p=r(5),h=r(7),u=r(4),d=r(14),f=class{constructor(e,t={}){this.$={},this.$.target=e,this.$.details=t,this.$.propagationStopped=!1,this.$.defaultPrevented=!1,this.$.promisesInstance=null,this.$.promises=[],Object(d.a)(t,(e,t)=>{"$"!==e&&Object.defineProperty(this,e,{value:t})})}get target(){return this.$.target}get details(){return this.$.details}stopPropagation(){this.$.propagationStopped=!0}get propagationStopped(){return this.$.propagationStopped}preventDefault(){this.$.defaultPrevented=!0}get defaultPrevented(){return this.$.defaultPrevented}promise(e){if(!(e instanceof Promise))throw new Error("Event.promise() must be called with a Promise.");this.$.promises.push(e),this.$.promisesInstance=null}get promises(){return!this.$.promisesInstance&&this.$.promises.length&&(this.$.promisesInstance=Promise.all(this.$.promises)),this.$.promisesInstance}response(e){var t,r=Object(u.a)(e)&&!Object(h.a)(e.propagationStopped)&&!Object(h.a)(e.defaultPrevented);!1===e||r&&e.propagationStopped?this.stopPropagation():!1===e||r&&e.defaultPrevented?this.preventDefault():(e instanceof Promise&&(t=e)||r&&(t=e.promises))&&this.promise(t)}},m=class extends f{constructor(e,t={}){super(e,t)}},g=function(e){return"number"==typeof e},b=function(e){return Object(u.a)(e)&&Object.getPrototypeOf(e)===Object.prototype},v=function(e){return!0===e||!1===e};const y=function(e,t,r=!0,a=1){if(Object(s.a)(e)&&Object(s.a)(t)&&e.length!==t.length)return!r;if(Object(u.a)(e)&&Object(u.a)(t)){var i=Object.keys(e),o=Object.keys(t);if(!i.length&&!o.length)return b(e)&&b(t)?r:e===t===r;if(!y(i,o))return!r}if(a>0&&(Object(s.a)(e)&&Object(s.a)(t)||Object(u.a)(e)&&Object(u.a)(t))){var l=function(e,t,r=!0,a=!0,i=!1,o=!1){if(Object(s.a)(e)&&Object(s.a)(t)){var l=[],c=!0;return e.forEach(e=>{if(c){var p=!1;Object(d.a)(t,(t,i)=>{(!p||a&&Object(n.a)(e))&&(p=r(e,i),(Object(s.a)(p)&&!p.length||Object(u.a)(p)&&!Object.keys(p).length)&&(p=!1),Object(n.a)(p)&&a&&(e=p))}),Object(n.a)(p)?l.push(a?p:e):v(p)?i&&!p||!i&&p?l.push(e):o&&(c=!1):l.push(p)}}),l}if(Object(u.a)(e)&&Object(u.a)(t)){l={},c=!0;return Object.keys(e).forEach(p=>{if(c){var h=r(e[p],t[p]);(Object(s.a)(h)&&!h.length||Object(u.a)(h)&&!Object.keys(h).length)&&(h=!1),Object(n.a)(h)?l[p]=a?h:e[p]:v(h)?i&&!h||!i&&h?l[p]=e[p]:o&&(c=!1):l[p]=h}}),l}}(e,t,(e,t)=>y(e,t,r,a-1),!1,!1,!0);return Object(s.a)(l)?l.length===e.length&&l.length===t.length:Object(u.a)(l)&&Object(u.a)(e)?Object.keys(l).length===Object.keys(e).length&&Object.keys(l).length===Object.keys(t).length:l}return Object(p.a)(r)?r(e,t):g(e)&&g(t)&&isNaN(e)&&isNaN(t)?r:e===t===r};var w=y,j=r(17),O=class{disconnect(){this.disconnected=!0}},x=class{constructor(){this.fireables=[],this.currentlyFiringEvents=[]}addFireable(e){return this.fireables.push(e),e}removeFireable(e,t=[]){this.fireables=this.fireables.filter(t=>t!==e)}findFireables(e){return this.fireables.filter(t=>!(e.handler&&t.handler!==e.handler||e.params&&(e.params.type&&t.params.type!==e.params.type||e.params.tags&&Object(j.a)(t.params.tags||[],e.params.tags).length!==e.params.tags.length)))}static createForTarget(e,t,r){var a;if(e&&Object(n.a)(e))return(a=e[E])||(a={},Object.defineProperty(e,E,{get:()=>a,set:e=>{if(e!==a)throw new Error('Attempt to overwrite the "'+E+'" special property!')},enumerable:!1})),a[t]="listeners"===t?new r(e):new r,a[t]}static getForTarget(e,t){var r;if(e&&Object(n.a)(e)&&(r=e[E]))return r[t]}};const E=".reflex";var T=class extends O{constructor(e,t={}){super(),this.handler=e,this.params=t}fire(e,t,r){return this.disconnected||this.params.type&&this.params.type!==e.type?t(...Object(a.a)(arguments).slice(2)):this.handler(e,r,t)}};class k extends x{fire(e,t=null){if(this.currentlyFiringEvents.filter(t=>t.type===e.type&&t.query===e.query).length)return t?t():void 0;this.currentlyFiringEvents.push(e);const r=(n,...a)=>{var s=this.fireables[n];return s?s.fire(e,(...e)=>r(n+1,...e),...a):t?t(...a):a[0]};var n=r(0);return this.currentlyFiringEvents.pop(),n}static createForTarget(e){return super.createForTarget(e,"traps",k)}static getForTarget(e){return super.getForTarget(e,"traps")}}var S=r(12),A=function(e,t){var r=[];return function(e,t){t=(t=t||Object.prototype)&&!Object(s.a)(t)?[t]:t;var r=[];for(e=e;e&&(!t||t.indexOf(e)<0)&&"default"!==e.name;)r.push(e),e=e?Object.getPrototypeOf(e):null;return r}(e,t).forEach(e=>{Object(S.a)(r,...Object.getOwnPropertyNames(e))}),r};function F(e,t,r=!1,a=!1,i=!0){var o=0,c=e.shift();if((Object(l.a)(c)||!0===c||!1===c)&&(o=c,c=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((e,h)=>{(Object(n.a)(e)||Object(p.a)(e))&&(r?A(e):Object.getOwnPropertyNames(e)).forEach(n=>{var p=c[n],d=e[n];if((Object(s.a)(p)&&Object(s.a)(d)||Object(u.a)(p)&&Object(u.a)(d))&&(!0===o||o>0))c[n]=Object(s.a)(p)&&Object(s.a)(d)?[]:{},F([Object(l.a)(o)?o-1:o,c[n],p,d],t,r,a,i);else if(t(n,c,e,h))if(Object(s.a)(c)&&Object(s.a)(e))a?c[n]=d:c.push(d);else try{i?Object.defineProperty(c,n,Object.getOwnPropertyDescriptor(e,n)):c[n]=e[n]}catch(e){}})}),c}var P=function(e,t=[],r=!0){var a=0;return Object(l.a)(arguments[0])&&Object(n.a)(arguments[1])&&(a=arguments[0],e=arguments[1],t=arguments[2]||[]),F([a,{},e],(e,r,n)=>Object(p.a)(t)?t(e):!Object(s.a)(t)||!t.length||t.indexOf(e)>-1,!1,!1,r)},W=function(...e){return F(e,(e,t,r)=>!0,!1,!1,!1)},C=r(15),N=class extends f{constructor(e,t={}){if(t.data&&(t.fields=Object.keys(t.data)),super(e,t),this.srcEvt){this.dataEven=this.srcEvt.dataEven,this.originatingTarget=this.srcEvt.originatingTarget,this.originatingType=this.srcEvt.originatingType,this.originatingFields=[],this.originatingData={},this._originatingData={};var r=this.fields[0];Object.keys(this.srcEvt.originatingData).forEach(e=>{var t=r+"."+e;this.originatingFields.push(t),this.originatingData[t]=this.srcEvt.originatingData[e],this._originatingData[t]=this.srcEvt._originatingData[e]}),this.originatingCreated=this.srcEvt.originatingCreated,this.originatingDeleted=this.srcEvt.originatingDeleted}else this.dataEven=w(this.data,this._data),this.originatingTarget=this.target,this.originatingType=this.type,this.originatingFields=this.fields,this.originatingData=this.data,this._originatingData=this._data,this.originatingCreated=this.created,this.originatingDeleted=this.deleted}},R=r(11);class $ extends x{findFireables(e){return super.findFireables(e).filter(t=>Object(R.a)(e.fields)||Object(h.a)(e.fields)||w(Object(a.a)(t.fields),Object(a.a)(e.fields)))}fire(e){return this.currentlyFiringEvents.filter(t=>t.type===e.type&&t.fields===e.fields).length||(this.currentlyFiringEvents.push(e),this.fireables.forEach(t=>{e.propagationStopped||t.params.type&&t.params.type!==e.type||t.fire(e)}),this.currentlyFiringEvents.pop()),e}static createForTarget(e){return super.createForTarget(e,"observers",$)}static getForTarget(e){return super.getForTarget(e,"observers")}}var _=function(e,t,r=null,a={}){if(!e||!Object(n.a)(e))throw new Error("Object must be of type object!");var s;(Object(p.a)(t)||Object(R.a)(t)||Object(h.a)(t))&&(a=arguments.length>2?r:{},r=t,t=null),(s=$.getForTarget(e))&&s.findFireables({handler:r,fields:t,params:a}).forEach(e=>{s.removeFireable(e)})},D=function(e,t,r){_(r,null,{tags:["#e-bubbling",t,e]})},M=function(e){return typeof e},L=r(19),q=function(e,t,r={},s={}){t=Object(a.a)(t).slice();for(var i=e;!Object(h.a)(i)&&!Object(R.a)(i)&&t.length;){var o=t.shift();if(!(r.get?r.get(i,o):Object(n.a)(i)?o in i:i[o]))return void(s.exists=!1);i=r.get?r.get(i,o):i[o]}return s.exists=!0,i},H=class extends O{constructor(e,t=null,r={}){if(super(),this.handler=e,this.fields=t,this.params=r,this.fieldsArray=Object(a.a)(this.fields),this.isDynamicField=this.fieldsArray.filter(e=>e.indexOf("..")>-1||e.startsWith(".")||e.endsWith(".")).length,this.isDynamicField&&this.fieldsArray.length>1)throw new Error('Only one "Dynamic Field" must be observed at a time! "'+this.fieldsArray.join(", ")+'" have been bound together.')}fire(e){this.disconnected||this.params.type&&this.params.type!==e.type||e.dataEven&&!1!==this.params.diff||this.fireCallback(e,t=>{if(t){var r=[],n=[];return!1!==this.params.data&&t.forEach(t=>{var a=e.originatingFields.reduce((r,n)=>{var a=e.originatingData[n],s=e._originatingData[n];if(!r&&t===n)return[a,s];if(!r&&(t+".").startsWith(n+".")){var i=Object(L.a)(t,n+".");return[q(a,i.split("."),{get:U}),q(s,i.split("."),{get:U})]}return r},null);if(a)r.push(a.shift()),n.push(a.shift());else{var s=q(e.target,Object(i.a)(t)?t.split("."):t,{get:U});r.push(s),n.push(s)}}),Object(s.a)(this.fields)?e.response(this.handler(r,n,e)):e.response(this.handler(r[0],n[0],e))}r={},n={};return e.fields.forEach(t=>{var a=t in e.data?e.data[t]:U(e.target,t),s=t in e._data?e._data[t]:a;r[t]=a,n[t]=s}),e.response(this.handler(r,n,e))})}fireCallback(e,t){if(this.fieldsArray.length){var r=[];this.fieldsArray.filter((t,n)=>(t=Object(i.a)(t)?t.replace(/`/g,""):t,r[n]=[],e.originatingFields.filter(a=>{var s=a.split("."),i=this.isDynamicField?t.split(".").map((e,t)=>e||s[t]||"").join("."):t;return Object(S.a)(r[n],i),(i===a&&!e.srcEvt||!1!==this.params.observeUp&&(i+".").startsWith(a+".")||this.params.observeDown&&(a+".").startsWith(i+"."))&&(!this.isDynamicField||!i.split(".").filter(e=>!e).length)}).length)).length&&(n=r,n.reduce((e,t)=>{var r=[];return e.forEach(e=>{Object(a.a)(t).forEach(t=>{var n=e.slice();n.push(t),r.push(n)})}),r},[[]])).forEach(t)}else this.fields||e.srcEvt&&!this.params.observeDown||t();var n}},I=function(e,t,r=null,a={}){if(!e||!Object(n.a)(e))throw new Error("Object must be of type object!");if(Object(p.a)(t)&&(a=arguments.length>2?r:{},r=t,t=null),!Object(p.a)(r))throw new Error('Callback must be a function; "'+M(r)+'" given!');var s;return(s=$.getForTarget(e))||(s=$.createForTarget(e)),s.addFireable(new H(r,t,a))},B=function(e,t,r){var n;I(r,(a,s,i)=>{if(n=$.getForTarget(e)){var l=o(t,r);return n.fire(new N(e,{type:i.type,bubbling:!0,data:l,_data:l,srcEvt:i}))}},{observeDown:!0,tags:["#e-bubbling",t,e]})},J=function(e,t,r=[],a=!1){var i=e.map((e,t)=>{if(!e||!Object(n.a)(e))throw new Error("Target must be of type object!");return{target:e,targetCopy:P(e,r),setData:{},_setData:{},delData:{},_delData:{},created:[],deleted:[]}}),o=t(...e);return i.map(e=>{var t,i,o=Object.keys(e.targetCopy),l=Object.keys(e.target),c=Object(C.a)(o.concat(l)).filter(t=>{if(!(r.length&&!r.includes(t)||Object(s.a)(e.target)&&("length"===t||".reflex"===t))){if(l.includes(t)?(e._setData[t]=e.targetCopy[t],e.setData[t]=e.target[t],o.includes(t)||e.created.push(t)):(e._delData[t]=e.targetCopy[t],e.delData[t]=void 0,e.deleted.push(t)),e.targetCopy[t]!==e.target[t])return e.targetCopy[t]&&Object(n.a)(e.targetCopy[t])&&D(e.target,t,e.targetCopy[t]),e.target[t]&&Object(n.a)(e.target[t])&&B(e.target,t,e.target[t]),!0;delete e.setData[t],delete e._setData[t]}});return((i=$.getForTarget(e.target))||a)&&(t=new N(e.target,{type:"transaction",data:W(e.setData,e.delData),_data:W(e._setData,e._delData),created:e.created,deleted:e.deleted}),i&&(Object.keys(e.delData).length&&t.response(i.fire(new N(e.target,{type:"del",data:e.delData,_data:e._delData,deleted:e.deleted}))),Object.keys(e.setData).length&&t.response(i.fire(new N(e.target,{type:"set",data:e.setData,_data:e._setData,created:e.created}))))),a?t:c}),o},U=function(e,t){if(!e||!Object(n.a)(e))throw new Error("Target must be of type object!");var r,a,i,h=function(r){return arguments.length?r:Object(s.a)(t)?o(t,e):e[t]};return r=(a=k.getForTarget(e))?a.fire(new m(e,{type:"get",query:t}),h):h(),!Object(s.a)(e)||Object(l.a)(t)||!Object(p.a)(r)||(i=r,Object(c.a)(i)&&/^class\s?/.test(Function.prototype.toString.call(i)))?r:function(...t){return J([e],()=>r.apply(e,t))}},Q=function(e,t){return e.reduce((e,r)=>e&&t(r),!0)},V=function(e,t){if(!e||!Object(n.a)(e))throw new Error("Target must be of type object!");var r,a=function(r){return arguments.length?r:t in e};return(r=k.getForTarget(e))?r.fire(new m(e,{type:"has",query:t}),a):a()},K=function(e,t,r,o=null,l=!1){if(!t||!Object(n.a)(t))throw new Error("Target must be of type object!");Object(u.a)(r)&&(l=o);var c,p,h=r,d={},f={},b=[],v=(r,a,s)=>{var i;d[r]=t[r],V(t,r)||b.push(r),e&&(a=(i=a||{}).value);var o,l,c=function(e){return arguments.length?e:(i?Object.defineProperty(t,r,i):t[r]=a,!0)};if(l=k.getForTarget(t)){var p=i?{type:"def",query:r,descriptor:i,related:s}:{type:"set",query:r,value:a,related:s};o=l.fire(new m(t,p),c)}else o=c();return o?(f[r]=a,f[r]!==d[r]?(d[r]&&Object(n.a)(d[r])&&D(t,r,d[r]),f[r]&&Object(n.a)(f[r])&&B(t,r,f[r])):(delete f[r],delete d[r])):delete d[r],o},y=[];if(Object(s.a)(h)||(Object(i.a)(h)||g(h))&&(h=Object(a.a)(h)))y=h.map(e=>v(e,o,h));else if(Object(u.a)(r)){var w=Object.keys(r);y=w.map(e=>v(e,r[e],w))}return((p=$.getForTarget(t))||l)&&(c=new N(t,{type:"set",data:f,_data:d,created:b}),p&&p.fire(c)),l?c:Q(y,e=>e)},z=function(e,t,r=null,n=!1){return K(!1,...arguments)},Y=function(e,t){Object(a.a)(t).forEach(t=>{var r,n,a=e[t],s=Object.getOwnPropertyDescriptor(e,t)||{enumerable:!(t in e)};"value"in s&&delete s.value,"writable"in s&&delete s.writable,s.get=()=>{if(r)return a;r=!0;var n=U(e,t);return r=!1,n},s.set=r=>{if(n)return a=r,!0;n=!0;z(e,t,r);return n=!1,!0},Object.defineProperty(e,t,s)})},Z=function(e,t){if(!t||!Object(n.a)(t))throw new Error("Target must be of type object!");var r,a=function(r){return arguments.length?r:e?Object.getOwnPropertyNames(t):Object.keys(t)};return(r=k.getForTarget(t))?r.fire(new m(t,{type:e?"ownKeys":"keys"}),a):a()},G=function(e){return Z(!1,...arguments)};var X=function(e,t,r=null,n=!1){return K(!0,...arguments)},ee=function(e,t,r=!1){if(!e||!Object(n.a)(e))throw new Error("Target must be of type object!");t=Object(a.a)(t);var s,i,o={},l={},c=[],p=t.map(r=>{o[r]=e[r],V(e,r)&&c.push(r);var a,s,i=function(t){return arguments.length?t:(delete e[r],!0)};return(a=(s=k.getForTarget(e))?s.fire(new m(e,{type:"del",query:r,related:t}),i):i())&&(l[r]=void 0,o[r]&&Object(n.a)(o[r])&&D(e,r,o[r])),a});return((i=$.getForTarget(e))||r)&&(s=new N(e,{type:"del",data:l,_data:o,deleted:c}),i&&Object.keys(l).length&&i.fire(s)),r?s:Q(p,e=>e)};class te extends x{fire(e){return this.fireables.forEach(t=>{e.propagationStopped||t.fire(e)}),e}static createForTarget(e,t=te){return super.createForTarget(e,"listeners",t)}static getForTarget(e){return super.getForTarget(e,"listeners")}}var re=class extends O{constructor(e,t={}){super(),this.handler=e,this.params=t}fire(e){this.params.type===e.type&&e.response(this.handler.call(this.target,e.e))}};const ne=ee,ae=X;t.a={build:function e(t,r=!1){if(!t||!Object(n.a)(t))throw new Error("Target must be of type object!");var a=G(t);a.forEach(a=>{var s=U(t,a);Object(n.a)(s)&&s&&(B(t,a,s),e(s,r))}),r&&Y(t,a)},observe:I,unobserve:_,trap:function(e,t,r={}){if(!e||!Object(n.a)(e))throw new Error("Object must be of type object!");if(!Object(p.a)(t))throw new Error('Callback must be a function; "'+M(t)+'" given!');var a;return(a=k.getForTarget(e))||(a=k.createForTarget(e)),a.addFireable(new T(t,r))},untrap:function(e,t=null,r={}){if(!e||!Object(n.a)(e))throw new Error("Object must be of type object!");var a;(a=$.getForTarget(e))&&a.findFireables({handler:t,params:r}).forEach(e=>{a.removeFireable(e)})},def:X,defineProperty:ae,set:z,del:ee,deleteProperty:ne,link:B,unlink:D,transaction:J,get:U,has:V,init:Y,keys:G,ownKeys:function(e){return Z(!0,...arguments)},on:function(e,t,r,n={}){var a;return(a=te.getForTarget(e))||(a=te.createForTarget(e)),a.addFireable(new re(r,W(n,{type:t})))},off:function(e,t,r=null,n={}){var a;(a=te.getForTarget(e))&&a.findFireables({handler:r,type:t,params:n}).forEach(e=>{a.removeFireable(e)})},trigger:function(e,t,r={}){var n;if(n=te.getForTarget(e))return n.fire(new f(e,W(r,{type:t})))},MutationEvent:N,QueryEvent:m,Event:f}},function(e,t,r){"use strict";t.a=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?"":e.substr(n+t.length)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),a=r(6),s=r(9),i=r(2);function o(e){Object(n.a)(e,(e,t)=>{a.a[e]=t,s.a[e]=t,i.a[e]=t})}o.ScopedHTML=a.a,o.ScopedJS=s.a,o.Chtml=i.a,o.Chtml.ScopedHTML=a.a,o.Chtml.ScopedJS=s.a},function(e,t,r){"use strict";r.r(t);var n=r(3),a=r(18),s=r(16),i=r(0),o=r(5),l=r(8),c=r(15),p=r(7),h=r(2),u=function(e,t,r=!1){if(""==t)return e;var n=r?e.lastIndexOf(t):e.indexOf(t);return-1===n?e:e.substr(0,n)},d=r(10),f=r(1),m=function(e,t,r,a=[]){if(a=a.concat([h.a.params.namespaceAttribute,...h.a.params.norecomposeAttributes]),t.hasAttribute("norecompose")&&(a=a.concat((t.getAttribute("norecompose")||"*").split(" ").map(e=>e.trim()))),Object(o.a)(h.a.params.recomposeCallback)){var s=h.a.params.recomposeCallback(e,t,r,a);if(!1===s)return!1;(Object(d.a)(s)||Object(f.a)(s))&&(a=a.concat(s))}var i=h.a.params.listAttributes.concat(["role","class"]);h.a.scopedHTML&&(i=i.concat([h.a.ScopedHTML.params.hintAttribute,h.a.ScopedHTML.params.scopeAttribute,h.a.ScopedHTML.params.roleAttribute])),Object(c.a)(i).forEach(n=>{var s,i;if(!a.includes(n)&&!a.includes("*")&&(s=e.getAttribute(n))){if(i=t.getAttribute(n))var o="prepend"===r?[s,i]:[i,s];else o=[s];t.setAttribute(n,Object(c.a)(o.join(" ").split(" ").map(e=>e.trim())).join(" ")),a.push(n)}}),Object(c.a)(h.a.params.keyValAttributes.concat("style")).forEach(n=>{var s,i;if(!a.includes(n)&&!a.includes("*")&&(s=e.getAttribute(n))){if(i=t.getAttribute(n))(o="prepend"===r?[s,i]:[i,s])[0].trim().endsWith(";")||(o[0]=o[0]+";");else var o=[s];t.setAttribute(n,o.join(" ")),a.push(n)}});for(var l=0;l<e.attributes.length;l++){var p=e.attributes[l];a.includes(p.name)||a.includes("*")||t.hasAttribute(p.name)||(t.setAttribute(p.name,p.value),a.push(p.name))}if(!a.includes("<scoped-js>")&&!a.includes("*")&&h.a.ScopedJS){var u=Object(n.a)((t.shadowRoot||t).children).filter(e=>e.matches(h.a.ScopedJS.params.scriptElement)),m=Object(n.a)((e.shadowRoot||e).children).filter(e=>e.matches(h.a.ScopedJS.params.scriptElement));m.length&&(u.length?u[0][r](m[0].textContent):t.prepend(m[0].cloneNode(!0)))}return t},g=function(e,t){return t.matches(h.a.params.importElement)?function(e,t){t=t.cloneNode(!0);var r=e.getAttribute(h.a.params.namespaceAttribute),a=(t.getAttribute(h.a.params.namespaceAttribute),(t.getAttribute(h.a.params.scopeAttribute)||"").split(" ").map(e=>e.trim()));return t.setAttribute(h.a.params.namespaceAttribute,r),m(e,t,"append"),Object(n.a)((e.shadowRoot||e).children).forEach((e,r)=>{if(!e.matches(h.a.params.scriptElement)){e=e.cloneNode(!0);var n=[],s=[];(e.getAttribute(h.a.params.roleAttribute)||"").split(" ").map(e=>e.trim()).forEach(e=>{var t=a.filter(t=>e.startsWith(t+"-"));t.length&&(n.push(t[0]),s.push(e))});var i=h.a.Window.CSS?h.a.Window.CSS.escape:e=>e;if(n.length){var o,l=n.map(e=>"["+i(h.a.params.scopeAttribute)+'~="'+e+'"]'),c=s.map(e=>"["+i(h.a.params.roleAttribute)+'~="'+e+'"]');t.shadowRoot&&(o=t.shadowRoot.querySelectorAll(c))||1===(o=t.querySelectorAll(c)).length&&o[0].closest(l)===t?(m(o[0],e,"prepend"),o[0].replaceWith(e)):t.append(e)}else t.append(e)}}),t}(t,e):m(e,t,"prepend")};class b{constructor(e,t,r,a=null){this.namespace=Object(n.a)(t),this.getter=r,this.carry=a,this.collections={},this.value,this.sources=[],this.loadingSources=new Promise((t,r)=>{var a=[];Object(n.a)(e).forEach(e=>{e instanceof Promise?(a.push(e),e.then(r=>{a=a.filter(t=>t!==e),this.sources.push(r),a.length||t()})):this.sources.push(e)}),a.length||t()})}enter(e){return e in this.collections||(this.collections[e]=new b(this.sources,this.namespace.concat(e),this.getter,this)),this.collections[e]}leave(){return this.carry}get(){if(!this.value){var e=this.namespace.slice(),t=this.carry?this.carry.get():null;this.sources.forEach((r,n)=>{(t=this.getter.call(null,r,e,t,n))&&(this.value=t)})}return this.value}find(e){for(var t,r,n=e.split("/"),a=this;(r=n.shift())&&(a=a.enter(r));)t=a;var s=t.get();if(s)return s.cloneNode(!0)}}var v=r(19);class y{constructor(e,t){Object.defineProperty(this,"el",{value:e}),Object.defineProperty(this,"scopedHTML",{value:e[".scopedHTML"]}),Object.defineProperty(this,"parentScopedHTML",{value:t});const r=function(e){var t={roadmap:e};return t.roadmap&&(t.namespace=u(t.roadmap,"//"),t.subnamespace=Object(v.a)(t.roadmap,"//"),t.subnamespace.startsWith("/")&&(t.subnamespace=Object(v.a)(t.subnamespace,"/")),t.subnamespace.endsWith("//")&&-1===t.subnamespace.indexOf("///")&&(t.subnamespace=t.subnamespace+t.namespace+"//")),t}(e.getAttribute(h.a.params.namespaceAttribute)||"");if(Object.defineProperty(this,"namespace",{value:r.namespace}),h.a.Trap&&h.a.Trap.observe){h.a.Trap.observe(this.el,h.a.params.syncPropertyName,(t,n,a)=>{if(r.subnamespace)return Object(i.a)(t)&&t&&h.a.Trap.observe(t,n=>this.sync(t,r.subnamespace,e),{tags:["#chtml-sync",this]}),Object(i.a)(n)&&n&&h.a.Trap.unobserve(n,null,null,{tags:["#chtml-sync",this]}),this.sync(t||{},r.subnamespace,e)});const e=h.a.syncListCallback||function(e,t,r,n=!1){return arguments.length>2?h.a.Trap.set(t,syncPropertyName,r):h.a.Trap.deleteProperty(t,syncPropertyName)}}}sync(e,t,r=null){var n=t.split("//");n[0].indexOf("[")>-1&&(n[0]='"'+n[0].replace(/\[/g,'" + ').replace(/\]/g,' + "')+'"');var a=h.a.Trap.keys(e),i=h.a.Trap.keys(this.scopedHTML.store),u=new h.a.Trap.MutationEvent(this.el,{type:"remodelling"});return Object(c.a)(a.concat(i)).forEach(t=>{t=Object(l.a)(t)?parseInt(t):t;var i,c=this.scopedHTML.find(t);if(h.a.Trap.has(e,t)){var d=h.a.Trap.get(e,t),f=!1;if(!c){var m=n.slice();m[0].indexOf('"')>-1&&(m[0]=s.c.parse(m[0]).eval(d)),m[0]+="/"+t;var g=y.import(m.join("//"));if(g){var b=function(e,t,r=!1,n=!1,a=!1){if(-1===e.indexOf(t))return r?[]:void 0;var s=!0===r?e.length-1:!1===r?1:r,i=a?e.lastIndexOf(t)+1:e.indexOf(t)+1,l=Object(p.a)(t)?[]:e.slice(i,i+s);return n&&l.length<s&&l.length<e.length&&(Object(o.a)(n)&&!n(s-l.length)||(l=l.concat(e.slice(0,s-l.length)))),r?l:l[0]}(a,t+"",!0).reduce((e,t)=>e||this.scopedHTML.find(t),null);b?b.before(g):this.el.append(g),c=this.scopedHTML.add(t,g),f=!0}}c&&Object(o.a)(r)&&(i=r(t,c,d,f))}else if(c){Object(o.a)(r)&&(i=r(t,c));var v=()=>{c.remove()};i instanceof Promise?i.then(v).catch(v):v()}u.response(i)}),u}static init(e=[]){var t,r;y.contentLoadedPromise=new Promise(e=>{"complete"!==h.a.Window.document.readyState?(h.a.Window.document.addEventListener("DOMContentLoaded",e,!1),h.a.Window.addEventListener("load",e,!1)):e()}),h.a.Window.customElements.define(h.a.params.bundleAttribute,class extends h.a.Window.HTMLTemplateElement{attributeChangedCallback(e,t,r){r&&this.load()}load(){var e=this.getAttribute("src");e&&this.content.children.length?console.warn("A CHTML bundle must define only either a remote content or local content! Bundle ignored."):e&&(h.a.Window.fetch?h.a.Window.fetch(e).then(e=>e.ok?e.text():Promise.reject(e.statusText)).then(e=>{this.innerHTML=e,this.dispatchEvent(new h.a.Window.Event("bundleloadsuccess",{bubbles:!0}))}).catch(t=>{console.warn("Error fetching the bundle at "+e+". ("+t+")"),this.dispatchEvent(new h.a.Window.Event("bundleloaderror",{bubbles:!0}))}):setTimeout(()=>{this.dispatchEvent(new h.a.Window.Event("bundleloadsuccess",{bubbles:!0}))},0))}static get observedAttributes(){return["src"]}},{extends:"template"}),t=y,r=new Promise((t,r)=>{y.contentLoadedPromise.then(()=>{Object(o.a)(e)&&(e=e()),y.bundleMatrix=function(e){e=e.map(e=>{if(!(e instanceof Promise||e instanceof h.a.Window.HTMLTemplateElement)){var t=h.a.Window.document.createElement("template");t.innerHTML=e.toString(),e=t}return e});const t=[],r=new b(e,[],(e,a,s,i)=>{var o=a.join("/");if(t.includes(o))return r.find(a.slice(0,-1).join("/"));t.push(o);var l=h.a.Window.CSS?h.a.Window.CSS.escape:e=>e,c=Object(n.a)(e.content.children).filter(e=>e.matches("["+l(h.a.params.namespaceAttribute)+'="'+o+'"]'))[0];if(c&&s){try{e.hasAttribute("norecompose")&&(e.getAttribute("norecompose")||"*").split(" ").map(e=>e.trim()),c=g(s,c)}catch(e){console.error("[Inheritance error at source #"+i+"]: "+e.message)}return t.pop(),c}return t.pop(),c?c.cloneNode(!0):s?s.cloneNode(!0):null});return r}(e),y.bundleMatrix.loadingSources.then(()=>{y.importsReady=!0,t()})})}),h.a.Window.customElements.define(h.a.params.importElement,class extends h.a.Window.HTMLElement{shouldResolve(){return!this.hasAttribute("ondemand")&&!this.closest("template")&&!this.closest(h.a.params.importElement+"[ondemand]")}connectedCallback(){this.processed=!1,this.shouldResolve()&&this.resolve()}attributeChangedCallback(e,t,r){this.shouldResolve()&&this.resolve()}resolve(){if(!this.parentNode)return!1;r.then(()=>{var e,r,n=h.a.params.namespaceAttribute;if((r=u(this.getAttribute(n)||"","//"))&&r!==this.__namespace)if(this.__namespace=r,t.bundleMatrix&&(e=t.import(r))){var a=g(e,this);this.hasAttribute("shadow")?(this.parentNode.shadowRoot||this.parentNode.attachShadow({mode:"open"}),this.parentNode.shadowRoot.append(a),this.remove()):this.replaceWith(a),a.setAttribute("autoimported","true"),a.dispatchEvent(new h.a.Window.Event("imported",{bubbles:!0}))}else this.innnerText='No element found on the namespace "'+r+'"!'})}static get observedAttributes(){return["ondemand",h.a.params.namespaceAttribute]}})}static ready(e,t=!0){y.contentLoadedPromise.then(()=>{t?y.bundleMatrix.loadingSources.then(e):e()})}static import(e){if(y.bundleMatrix)return y.importsReady||y.warnedEarlyBundleAccess||(y.warnedEarlyBundleAccess=!0,console.warn("Remote bundles are still loading at this time! You should probabbly wrap bundle-dependent code within Chtml.ready(callback[, true/*waitForBundles*/]).")),y.bundleMatrix.find(e)}}h.a.ScopedHTML&&(h.a.ScopedHTML.factory=(e,t)=>{var r=new y(e,t);return Object.defineProperty(e,".chtml",r),e}),h.a.Trap=a.a,h.a.Window=window,y.init(()=>Object(n.a)(window.document.querySelectorAll('[is="'+h.a.params.bundleAttribute+'"]')).reverse().map(e=>e.hasAttribute("src")&&!e.content.children.length?new Promise(t=>{e.addEventListener("bundleloadsuccess",()=>t(e)),e.addEventListener("bundleloaderror",()=>t(e))}):e)),window.WebNative||(window.WebNative={}),window.WebNative.Chtml=y,window.WebNative.Chtml.ENV=h.a},function(e,t,r){"use strict";r.r(t);var n=r(18),a=r(1),s=r(8),i=r(3),o=r(14),l=r(20);var c=r(4),p=r(12),h=r(17);const u={std:{html:{type:["#sectioning-root"],model:["head","body"],singleton:!0},caption:{model:["#flow","!table"],singleton:!0},col:{model:["#nothing"]},colgroup:{model:[{"colgroup[span]":["#nothing"]},{":not(colgroup[span])":["col","template"]}],singleton:!0},dd:{model:["#flow"],implicitRole:"definition"},dt:{model:["#flow","!#heading","!#sectioning","!header","!footer"],implicitRole:"term"},figcaption:{model:["#flow"],singleton:!0},head:{model:["#metadata"],singleton:!0},legend:{model:["#phrasing"],singleton:!0},li:{model:["#flow"],implicitRole:"listitem"},optgroup:{model:["option","#script-supporting"],implicitRole:"group"},option:{model:[{"option[label][value]":["#nothing"]},{"option[label]:not(option[value])":["#text"]},{":not(option[label])":["#text"]}]},param:{model:["#nothing"]},rp:{model:["#text"]},rt:{model:["#phrasing"]},source:{model:["#nothing"]},summary:{model:["#phrasing","#heading"],singleton:!0},track:{model:["#nothing"]},tbody:{model:["#script-supporting","tr"]},td:{model:["#flow","!#heading","!#sectioning","!header","!footer"]},tfoot:{model:["tr","#script-supporting"],singleton:!0},thead:{model:["tr","#script-supporting"],singleton:!0},tr:{model:["#script-supporting","td","th"]},a:{type:["#flow","#phrasing",{"a[href]":["#interactive","#palpable"]}],model:["#transparent","!#interactive","!a"]},abbr:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},address:{type:["#flow","#palpable"],model:["#flow","!#heading","!#sectioning","!header","!footer","!address"]},area:{type:["#flow","#phrasing"],model:["#nothing"]},article:{type:["#flow","#palpable","#sectioning-content"],model:["#flow"],implicitRole:"article",acceptableRoles:["application","article","document","main"]},aside:{type:["#flow","#palpable","#sectioning-content"],model:["#flow"],implicitRole:"complementary",acceptableRoles:["complementary","note","search"]},audio:{type:["#embedded","#flow","#phrasing",{"audio[controls]":["#interactive","#palpable"]}],model:["#transparent","!#media","track",{":not(audio[src])":["source"]}]},b:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},base:{type:["#metadata"],model:["#nothing"],singleton:!0},bdi:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},bdo:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},blockquote:{type:["#flow","#palpable","#sectioning-root"],model:["#flow"]},body:{type:["#sectioning-root"],model:["#flow","@banner","@contentinfo","@complementary","@main"],singleton:!0},br:{type:["#flow","#phrasing"],model:["#nothing"]},button:{type:["#flow","#interactive","#palpable","#phrasing"],model:["#phrasing","!#interactive"]},canvas:{type:["#embedded","#flow","#palpable","#phrasing"],model:["#transparent","!#interactive","a","img[usemap]","button",'input[type="button"]','input[type="radio"]','input[type="checkbox"]',"select[multiple]","select[size>=1]","[tabindex]!#interactive"]},cite:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},code:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},data:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},datalist:{type:["#flow","#phrasing"],model:["#phrasing","#script-supporting","option"]},del:{type:["#flow","#phrasing"],model:["#transparent"]},details:{type:["#flow","#interactive","#palpable","#sectioning-root"],model:["#flow","summary"]},dfn:{type:["#flow","#palpable","#phrasing"],model:["#phrasing","!dfn"],implicitRole:"term"},dialog:{type:["#flow","#sectioning-root"],model:["#flow"],implicitRole:"dialog"},div:{type:["#flow","#palpable"],model:[{"dl > div":["dt","dd"]},{div:["#flow"]}]},dl:{type:["#flow"],model:["#script-supporting","dl","dt","div"]},em:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},embed:{type:["#embedded","#flow","#phrasing","#interactive","#palpable"],model:["#nothing"]},fieldset:{type:["#flow","#sectioning-root","#palpable"],model:["legend","#flow"]},figure:{type:["#flow","#sectioning-root","#palpable"],model:["#flow","figcaption"],implicitRole:"figure"},footer:{type:["#flow","#palpable"],model:["#flow","!header","!footer"],acceptableRoles:["contentinfo"],singleton:!0},form:{type:["#flow","#palpable"],model:["#flow","!form"]},h1:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h2:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h3:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h4:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h5:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},h6:{type:["#flow","#heading","#palpable"],model:["#phrasing"],implicitRole:"heading"},header:{type:["#flow","#palpable"],model:["#flow","!header","!footer"],acceptableRoles:["banner"],singleton:!0},hgroup:{type:["#flow","#heading","#palpable"],model:["h1","h2","h3","h4","h5","h6","#script-supporting"]},hr:{type:["#flow"],model:["#nothing"],implicitRole:"separator"},i:{type:["#flow","#palpable","#phrasing"],model:["#phrasing"]},iframe:{type:["#embedded","#flow","#phrasing","#interactive","#palpable"],model:["#nothing"]},img:{type:["#embedded","#flow","#phrasing",{"img[usemap]":["#interactive","#palpable"]}],model:["#nothing"]},input:{type:["#flow","#phrasing",{'input:not([type!="hidden"])':["#interactive","#palpable"]}],model:["#nothing"]},ins:{type:["#flow","#phrasing","#palpable"],model:["#transparent"]},kbd:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},label:{type:["#flow","#phrasing","#interactive","#palpable"],model:["#phrasing","!label"]},link:{type:["#metadata",{"body link":["#flow","#phrasing"]}],model:["#nothing"]},main:{type:["#flow","#palpable"],model:["#flow"],implicitRole:"main",singleton:!0},map:{type:["#flow","#phrasing","#palpable"],model:["#transparent"]},mark:{type:["#flow","#phrasing","#palpable"],model:["#transparent"]},math:{type:["#embedded","#flow","#phrasing","#palpable"],model:[]},menu:{type:["#flow",{":contains(> li)":["#palpable"]}],model:["#script-supporting","li"],implicitRole:"list"},meta:{type:["#metadata",{"meta[itemprop]":["#flow","#phrasing"]}],model:["#nothing"],names:["application-name","author","description","generator","keywords","referrer","theme-color"]},meter:{type:["#flow","#labelable","#phrasing","#palpable"],model:["#phrasing","!meter"]},nav:{type:["#flow","#sectioning-content","#palpable"],model:["#flow"],implicitRole:"navigation",acceptableRoles:["navigation"]},noscript:{type:["#metadata","#flow","#phrasing"],model:[{"head link":["style","meta","link"]},{":not(head link)":["#transparent","!noscript"]}]},object:{type:["#embedded","#flow","#phrasing",{"object[usemap]":["#interactive","#palpable"]}],model:["#transparent","param"]},ol:{type:["#flow",{":contains(> li)":["#palpable"]}],model:["#script-supporting","li"],implicitRole:"list"},output:{type:["#flow","#labelable","#phrasing","#palpable"],model:["#phrasing","!meter"]},p:{type:["#flow","#palpable"],model:["#phrasing"]},picture:{type:["#embedded","#flow","#phrasing"],model:["source","img","#acript-supporting"]},pre:{type:["#flow","#palpable"],model:["#phrasing"]},progress:{type:["#flow","#labelable","#phrasing","#palpable"],model:["#phrasing","!progress"]},q:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},ruby:{type:["#flow","#phrasing","#palpable"],model:["rp","rt"]},s:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},samp:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},script:{type:["#flow","#metadata","#phrasing","#acript-supporting"],model:[{"script[src]":[]}]},section:{type:["#flow","#sectioning-content","#palpable"],model:["#flow"],implicitRole:"region",acceptableRoles:["alert","alertdialog","application","contentinfo","dialog","document","log","main","marquee","region","search","status"]},select:{type:["#flow","#interactive","#labelable","#phrasing","#palpable"],model:["option","optgroup","#acript-supporting"]},slot:{type:["#flow","#phrasing"],model:["#transparent"]},small:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},span:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},strong:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},style:{type:["#metadata"],model:["#text"]},sub:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},sup:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},svg:{type:["#embedded","#flow","#phrasing","#palpable"],model:[]},table:{type:["#flow","#palpable"],model:["caption","colgroup","thead","tbody","tr","tfoot","#script-supporting"]},td:{type:["#sectioning-root"],model:["#flow"]},template:{type:["#metadata","#flow","#phrasing","#script-supporting"],model:["#nothing"]},textarea:{type:["#flow","#interactive","#labelable","#phrasing","#palpable"],model:["#text"]},time:{type:["#flow","#phrasing","#palpable"],model:[{"time[datetime]":["#phrasing"]},{":not(time[datetime])":["#text"]}]},title:{type:["#metadata"],model:["#text"],singleton:!0},u:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},ul:{type:["#flow",{":contains(> li)":["#palpable"]}],model:["#script-supporting","li"],implicitRole:"list"},var:{type:["#flow","#phrasing","#palpable"],model:["#phrasing"]},video:{type:["#embedded","#flow","#phrasing",{"video[controls]":["#interactive","#palpable"]}],model:["#transparent","!#media","track",{":not(video[src])":["source"]}]},wbr:{type:["#flow","#phrasing"],model:["#nothing"]}},aria:{banner:{type:["@banner"],singleton:!0},contentinfo:{type:["@contentinfo"],singleton:!0},complementary:{type:["@complementary"],singleton:!0},navigation:{type:["@navigation"],singleton:!0},list:{type:["@list"]},listitem:{type:["@listitem"]}},getContentModelFor(e){var t=e.nodeName.toLowerCase();return u.std[t]?u.expandRules(e,u.std[t].model||[]):[]},getCategoriesFor(e,t=!0){var r=e.nodeName.toLowerCase(),n=u.std[r]||u.aria[r]||{},a=[];if(t&&!e.nodeName.startsWith("#")&&(e.hasAttribute("role")||n.implicitRole))if(e.hasAttribute("role")){e.getAttribute("role").split(" ");e.getAttribute("role").split(" ").forEach(t=>{n&&n.acceptableRoles&&!n.acceptableRoles.includes(t)||(t=t.trim(),a.push("@"+t),u.aria[t]&&u.aria[t].type&&(a=a.concat(u.expandRules(e,u.aria[t].type||[]))))})}else n.implicitRole&&Object(p.a)(a,"@"+n.implicitRole,r);else a=Object(p.a)(u.expandRules(e,n.type||[]),r);return a},assertNodeBelongsInContentModel(e,t){var r,n=e instanceof HTMLElement?u.getContentModelFor(e):e,a=t instanceof HTMLElement?u.getCategoriesFor(t):t;return!Object(h.a)(n,["#nothing","#text"]).length&&(n.forEach(e=>{if(e.startsWith("!")){var t=e.substr(1);a.includes(t)&&(r=!1)}else!1!==r&&a.includes(e)&&(r=!0)}),r&&!0)},assertNodeBelongsInScopeAs(e,t,r=null){for(var n,a=u.getCategoriesFor(e),s=t;!n&&(s=s.parentNode);)Object(h.a)(a,u.getCategoriesFor(s)).length&&u.assertNodeBelongsInContentModel(s,r&&r.type||t)&&(n=s);return n===e},expandRules(e,t){var r=t.reduce((t,r)=>(Object(c.a)(r)?e.matches(Object.keys(r)[0])&&(t=t.concat(Object.values(r)[0])):t.push(r),t),[]);return r.includes("#sectioning-root")&&r.push("#sectioning-content"),r}};var d=u,f=r(6),m=class{constructor(e){Object.defineProperty(this,"_el",{value:e}),Object.defineProperty(this,"el",{value:"#document"===e.nodeName?e.querySelector("html"):e});const t=(e.getAttribute(f.a.params.scopeAttribute)||"").split(" ").map(e=>e.trim()).filter(e=>e);Object.defineProperty(this,"definition",{value:t});const r={};if(Object.defineProperty(this,"store",{value:r}),f.a.Trap&&(f.a.Trap.trap&&f.a.Trap.trap(r,(e,t,r)=>r(t||this.find(e.query)),{type:"get"}),f.a.Trap.init)){const t=(e.getAttribute(f.a.params.hintAttribute)||"").split(" ").map(e=>e.trim()).filter(e=>e);f.a.Trap.init(this.store,t)}}add(e,t){var r=(e,t,r,n=!1)=>{var s=r;return n&&(s=f.a.factory?f.a.factory(r,this):r),f.a.Trap&&f.a.Trap.set?f.a.Trap.set(e,t,s):Object(a.a)(e)?e.push(s):e[t]=s,n&&function e(t,r){if(t.parentNode&&l.a.Window.MutationObserver){var n=!1;new l.a.Window.MutationObserver(e=>{e.forEach(e=>{!n&&Object(i.a)(e.removedNodes).includes(t)&&(n=!0,r())})}).observe(t.parentNode,{childList:!0}),e(t.parentNode,()=>{n||(n=!0,r())})}}(r,()=>{f.a.Trap&&f.a.Trap.deleteProperty?f.a.Trap.deleteProperty(e,t):Object(a.a)(e)?_remove(e,s):delete e[t]}),r};if(Object(a.a)(t)){var n=[];return t.forEach((e,t)=>r(n,t,e,!0)),r(this.store,e,n),n}return r(this.store,e,t)}find(e){return Object(i.a)(e).forEach(e=>{if(e in this.store)return this.store[e];var t;((t=this.findExplicit(e))||(t=this.findImplicit(e)))&&this.add(e,t)}),Object(a.a)(e)?_objFrom(e,this.store):this.store[e]}findExplicit(e){if(this.definition&&this.definition.length){var t=this.case?[this.case]:this.definition,r=f.a.Window.CSS?f.a.Window.CSS.escape:e=>e;return t.reduce((t,n)=>{if(!t){var a,s,i="["+r(f.a.params.scopeAttribute)+'~="'+n+'"]',o="["+r(f.a.params.roleAttribute)+'~="'+n+"-"+e+'"]';(s=(this.el.shadowRoot||this.el).querySelector(o))&&(this.el.shadowRoot&&(!s.parentNode.closest||!s.parentNode.closest(i))||!this.el.shadowRoot&&s.parentNode&&(a=s.parentNode.closest(i))&&a.isSameNode(this.el))&&(t=s)}return t},null)}}findImplicit(e){if(!Object(s.a)(e)&&!e.match(/[^a-zA-Z0-9\-]/)){var t=[];d.aria[e]?t.push({Schema:d.aria[e],selector:['[role="'+e+'"]']}):t.push({Schema:d.std[e]||d.aria[e],selector:[e,'[role="'+e+'"]']}),Object(o.a)(d.std,(r,n)=>{n.implicitRole===e&&t.push({Schema:n,selector:[r]})});var r=null;return t.forEach(e=>{(this.el.shadowRoot||this.el).querySelectorAll(e.selector.join(",")).forEach(t=>{d.assertNodeBelongsInScopeAs(this.el,t,e.schema)&&(e.schema&&e.schema.singleton?r=t:r&&!Object(a.a)(r)||(r=r||[]).push(t))}),r||!e.schema||e.schema.singleton||(r=[])}),r}}};m.init=function(e,t=n.a){if(f.a.Window=e,f.a.Trap=t,!f.a.Window||!("Element"in f.a.Window))throw new Error('The "Element" class not found in global context!');if(f.a.params.scopePropertyName in f.a.Window.Element.prototype)throw new Error('The "Element" class already has a "scope" property!');Object.defineProperty(f.a.Window.Element.prototype,f.a.params.scopePropertyName,{get:function(){return this[".scopedHTML"]||(this[".scopedHTML"]=new m(this),f.a.Trap&&f.a.Trap.link&&f.a.Trap.link(this,f.a.params.scopePropertyName,this[".scopedHTML"].store)),this[".scopedHTML"].store}})},m.init(window),window.WebNative||(window.WebNative={}),window.WebNative.ScopedHTML=m,window.WebNative.ScopedHTML.ENV=f.a},function(e,t,r){"use strict";r.r(t);var n=r(18),a=r(3),s=r(16),i=class{static parse(e,t={}){var r;return(r=s.c.parse(e,[s.a],t))||(r=new s.a([s.c.parse(e,null,t)])),r}},o=s.b,l=r(9);i.init=function(e,t=n.a){l.a.Window=e,l.a.Trap=t;var r,s,c;r=e=>{var t;if(e.parentNode[".scopedJS"])throw new Error("An element must only have one scopedJS instance!");if(t=(e.textContent||"").trim()){var r=i.parse(t,l.a.params);r.eval(new o({main:{this:e.parentNode},super:l.a.globals}),l.a.Trap),Object.defineProperty(e.parentNode,".scopedJS",{get:function(){return r}}),l.a.params.autoHide&&e.remove()}},s=()=>c().forEach(r),c=()=>Object(a.a)(l.a.Window.document.scripts).filter(e=>e.matches(l.a.params.scriptElement)&&!e[".scopedJS-scooped"]).map(e=>(e[".scopedJS-scooped"]=!0,e)),l.a.Window.document.addEventListener("DOMContentLoaded",s,!1),l.a.Window.addEventListener("load",s,!1),"complete"===l.a.Window.document.readyState&&s(),l.a.Window&&l.a.Window.MutationObserver&&new l.a.Window.MutationObserver(()=>s()).observe(l.a.Window.document,{childList:!0,subtree:!0})},i.init(window),window.WebNative||(window.WebNative={}),window.WebNative.ScopedJS=i,window.WebNative.ScopedJS.ENV=l.a},function(e,t,r){"use strict";r.r(t);var n={Window:null},a=class{};a.init=function(e){n.Window=e},a.init(window),window.WebNative||(window.WebNative={}),window.WebNative.ScopedCSS=a,window.WebNative.ScopedCSS.ENV=n},function(e,t,r){"use strict";r.r(t);var n=r(18),a=r(16),s=r(20);r(22),r(23),r(24),r(21);window.WebNative.ENV_ALL||(window.WebNative.ENV_ALL=s.a),window.WebNative.Reflex||(window.WebNative.Reflex=n.a),window.WebNative.Jsen||(window.WebNative.Jsen=a.c)}]);
//# sourceMappingURL=main.js.map