!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=79)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return c.a})),n.d(t,"e",(function(){return o.a})),n.d(t,"f",(function(){return u.a})),n.d(t,"g",(function(){return l.a})),n.d(t,"h",(function(){return r.a})),n.d(t,"i",(function(){return h.a})),n.d(t,"j",(function(){return f.a})),n.d(t,"k",(function(){return b.a}));var r=n(2),s=function(e){return typeof e};function i(e,...t){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var n,r,s=globalThis.WebQitInternalsRegistry.get(e);if(!s){if(s=new Map,!1===t[0])return s;globalThis.WebQitInternalsRegistry.set(e,s)}for(;n=t.shift();)if((r=s)&&!(s=s.get(n))){if(s=new Map,!1===t[0])return s;r.set(n,s)}return s}var a=n(1),c=(n(25),n(50)),o=(n(41),n(3)),u=(n(24),n(18)),l=n(10),h=(n(33),n(14)),f=(n(42),n(21),n(5)),b=n(6);n(7),n(9),n(20);new Map;n(19)},function(e,t,n){"use strict";t.a=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";t.a=function(e){return!Array.isArray(e)&&"object"==typeof e&&e}},function(e,t,n){"use strict";var r=n(21);t.a=function(e){return Object(r.a)(e)||e&&"[object function]"==={}.toString.call(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return i.a})),n.d(t,"f",(function(){return u.a})),n.d(t,"g",(function(){return l.a})),n.d(t,"h",(function(){return o.a})),n.d(t,"i",(function(){return h.a})),n.d(t,"j",(function(){return f.a}));var r=n(36);var s=function(e,t){return e.reduce((e,n,r)=>e||t(n,r),!1)};n(32),n(22);n(6),n(3),n(28);var i=n(8),a=n(55);function c(e,t,n=null){return n||!1!==n&&e.dotSafe&&t.dotSafe?e.join(".")===t.join("."):e.length===t.length&&e.reduce((e,n,r)=>e&&n===t[r],!0)}var o=n(37),u=(n(16),n(29),n(1),n(2),n(25),n(18),n(52)),l=n(7);n(34),n(20),n(14);var h=n(48),f=n(47)},function(e,t,n){"use strict";var r=n(21);t.a=function(e){return Array.isArray(e)||"object"==typeof e&&e||Object(r.a)(e)}},function(e,t,n){"use strict";t.a=function(e){return arguments.length&&(void 0===e||void 0===e)}},function(e,t,n){"use strict";var r=n(16);t.a=function(e,t=1){return arguments.length>1?Object(r.a)(e.slice().reverse(),t).reverse():Object(r.a)(e.slice().reverse())}},function(e,t,n){"use strict";var r=n(1),s=n(42),i=n(41),a=n(2);t.a=function(e,t=!0){return Object(r.a)(e)?e:!t&&Object(a.a)(e)?[e]:!1!==e&&0!==e&&Object(i.a)(e)?[]:Object(s.a)(e)?Array.prototype.slice.call(e):Object(a.a)(e)?Object.values(e):[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),s=n(3),i=n(2),a=n(5),c=n(10),o=n(43);function u(e,t,n=!1,l=!1,h=!1){var f=0,b=e.shift();if((Object(c.a)(b)||!0===b||!1===b)&&(f=b,b=e.shift()),!e.length)throw new Error("_merge() requires two or more array/objects.");return e.forEach((e,p)=>{(Object(a.a)(e)||Object(s.a)(e))&&(n?Object(o.a)(e):Object.getOwnPropertyNames(e)).forEach(s=>{if(t(s,b,e,p)){var a=b[s],o=e[s];if((Object(r.a)(a)&&Object(r.a)(o)||Object(i.a)(a)&&Object(i.a)(o))&&(!0===f||f>0))b[s]=Object(r.a)(a)&&Object(r.a)(o)?[]:{},u([Object(c.a)(f)?f-1:f,b[s],a,o],t,n,l,h);else if(Object(r.a)(b)&&Object(r.a)(e))l?b[s]=o:b.push(o);else try{h?Object.defineProperty(b,s,Object.getOwnPropertyDescriptor(e,s)):b[s]=e[s]}catch(e){}}})}),b}},function(e,t,n){"use strict";var r=n(18);t.a=function(e){return Object(r.a)(e)||!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)}},function(e,t,n){"use strict";var r=n(0),s=n(4);n(26);function i(e){return(c(e)?e:Object(s.e)(e).length?[e]:[]).reduce((e,t)=>e.concat([Object(s.e)(t)]),[]).map(e=>a.resolve(e))}class a extends Array{static resolve(e){return e.every(e=>!(e+"").includes("."))?(new a).concat(e):e}get dotSafe(){return!0}}function c(e){return Object(s.e)(e).reduce((e,t)=>e||Object(r.c)(t),!1)}function o(e){return e.filter(e=>e||0===e).length!==e.length}class u{constructor(e){this.subject=e,this.fireables=[],this.currentlyFiring=[]}add(e){return this.fireables.push(e),e}remove(e){this.fireables=this.fireables.filter(t=>t!==e)}removeMatches(e){this.match(e).forEach(e=>{this.fireables=this.fireables.filter(t=>t!==e)})}match(e){return this.fireables.filter(t=>{var n=i(t.filter),r=Object(s.e)((t.params||{}).tags),a=i(e.filter),c=Object(s.e)((e.params||{}).tags);return(!e.originalHandler||t.handler===e.originalHandler)&&(!a.length||Object(s.d)(a,n))&&(!c.length||c.length===r.length&&Object(s.f)(r,c).length===c.length)})}static getFirebase(e,t=!0,n=null){var s=this;if(n&&this._namespaces&&this._namespaces.has(n)&&(s=this._namespaces.get(n)),!Object(r.j)(e))throw new Error('Subject must be of type object; "'+Object(r.a)(e)+'" given!');return!Object(r.b)(e,"firebases").has(s)&&t&&Object(r.b)(e,"firebases").set(s,new s(e)),Object(r.b)(e,"firebases").get(s)}static namespace(e,t=null){if(this._namespaces||(this._namespaces=new Map),1===arguments.length)return this._namespaces.get(e);if(!(t.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${e} must be a subclass of ${this.name}.`);this._namespaces.set(e,t)}}class l{constructor(e,t){this.subject=e,this.handler=t.handler,this.filter=t.filter,this.params=t.params}disconnect(){this.disconnected=!0}}var h=n(12);class f{constructor(e,t=!1){this._={},this._.target=e,this._.cancellable=t,this._.propagationStopped=!1,this._.defaultPrevented=!1,this._.promisesInstance=null,this._.promises=[]}get target(){return this._.target}get cancellable(){return this._.cancellable}stopPropagation(){this._.propagationStopped=!0}get propagationStopped(){return this._.propagationStopped}preventDefault(){this._.defaultPrevented=!0}get defaultPrevented(){return this._.defaultPrevented}waitUntil(e){e instanceof Promise&&(this._.promises.push(e),this._.promisesInstance=null)}get promises(){return!this._.promisesInstance&&this._.promises.length&&(this._.promisesInstance=Promise.all(this._.promises)),this._.promisesInstance}respondWith(e){var t,n=Object(r.h)(e)&&!Object(r.k)(e.propagationStopped)&&!Object(r.k)(e.defaultPrevented);!1===e||n&&e.propagationStopped?this.stopPropagation():!1===e||n&&e.defaultPrevented?this.preventDefault():(e instanceof Promise&&(t=e)||n&&(t=e.promises))&&this.waitUntil(t)}}class b extends l{constructor(e,t){if(super(e,t),this.filters2D=i(this.filter),this.filtersIsOriginally2D=c(this.filter),this.filtersIsDynamic=this.filters2D.filter(e=>o(Object(s.e)(e))).length>0,this.filtersIsDynamic&&this.filters2D.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filters2D.map(e=>"["+e.join(", ")+"]").join(", ")+'" have been bound together.')}fire(e){if(this.disconnected||this.params.type&&!Object(s.b)(e,e=>this.params.type===e.type))return;const t=e=>!["set","def"].includes(e.type)||!this.params.diff||(Object(r.e)(this.params.diff)?this.params.diff(e.value,e.oldValue):e.value!==e.oldValue);var n=new f(this.subject);if(this.filters2D.length){var i=e.filter(e=>this.filters2D.filter((n,i)=>{var a=n.slice();return this.filtersIsDynamic&&e.path.forEach((e,t)=>{a[t]=a[t]||0===a[t]?a[t]:e}),(!this.filtersIsDynamic||!o(a))&&t(e)&&(!this.params.subtree&&Object(s.d)(a,e.path)||this.params.suptree&&Object(s.i)(a,e.path)&&(!Object(r.g)(this.params.suptree)||Object(s.a)(a,e.path).length<=this.params.suptree)||this.params.subtree&&e.path.length>=a.length&&Object(s.i)(e.path,a)&&(!Object(r.g)(this.params.subtree)||Object(s.a)(e.path,a).length<=this.params.subtree))}).length);if(i.length)if(this.filtersIsOriginally2D||this.params.subtree){var a=i;Object(r.h)(this.filter)&&(a={...this.filter},i.forEach((e,t)=>{a[e.name]=e})),n.respondWith(this.handler(a,n))}else i.forEach((e,t)=>{n.respondWith(this.handler(e,n))})}else(this.params.subtree||e.filter(e=>Object(s.d)(e.path,[e.name])).length===e.length)&&e.filter(e=>t(e)).length&&n.respondWith(this.handler(e,n));return n}}class p{constructor(e,t){if(this.subject=e,t.originalSubject||(this.originalSubject=e),!("type"in t))throw new Error("Mutation type must be given in definition!");if(!("name"in t))throw new Error("Property name must be given in definition!");Object(h.b)(t,(e,t)=>{"path"===e&&(t=a.resolve(t)),Object.defineProperty(this,e,{value:t,enumerable:!0})}),this.path||Object.defineProperty(this,"path",{value:a.resolve([t.name]),enumerable:!0}),Object.seal(this)}}class d extends u{constructor(e){super(e),this.buffers=[]}add(e){return super.add(new b(this.subject,e))}fire(e,t){var n=new f(this.subject,t);return e=Object(s.e)(e,!1).map(e=>e instanceof p?e:new p(this.subject,e)),this.buffers.length?(Object(s.g)(this.buffers)(e),n):(this.currentlyFiring.filter(t=>e.filter(e=>t.type===e.type&&t.name===e.name).length).length,this.fireables.forEach(r=>{if(n.propagationStopped&&t)return n;n.respondWith(r.fire(e))}),n)}}class g extends l{fire(e,t,n){return this.disconnected||this.filter&&!Object(s.f)(Object(s.e)(this.filter),[e.type]).length?t(...Array.prototype.slice.call(arguments,2)):this.handler(e,n,t)}}class m{constructor(e,t){if(this.subject=e,!t.type)throw new Error("Action type must be given in definition!");Object(h.b)(t,(e,t)=>{Object.defineProperty(this,e,{value:t,enumerable:!0})}),Object.seal(this)}}class j extends u{add(e){return super.add(new g(this.subject,e))}fire(e,t=null){if(e instanceof m||(e=new m(this.subject,e)),this.currentlyFiring.filter(t=>t.type===e.type&&t.name===e.name).length)return t?t():void 0;this.currentlyFiring.push(e);const n=(r,...s)=>{var i=this.fireables[r];return i?i.fire(e,(...e)=>n(r+1,...e),...s):t?t(...s):s[0]};var r=n(0);return this.currentlyFiring.pop(),r}}var O=function(e){return Object(r.b)(e,!1).get(e)||e},v=function(e,t,n={}){if(!t||!Object(r.j)(t))throw new Error("Target must be of type object!");t=O(t);var s,i=function(n){return arguments.length?n:e?Reflect.ownKeys(t):Object.keys(t)};return(s=j.getFirebase(t,!1,n.namespace))?s.fire({type:e?"ownKeys":"keys"},i)||[]:i()},y=function(e,t={}){return v(!1,...arguments)},w=function(e,t,n={}){if(!e||!Object(r.j)(e))throw new Error("Target must be of type object!");e=O(e);var i=Object(s.e)(t),a=i.map(t=>{var s,a=function(n){return arguments.length?n:Object(r.b)(e,"accessorizedProps").has(t)&&Object(r.b)(e,"accessorizedProps").get(t).touch(!0)?Object(r.b)(e,"accessorizedProps").get(t).get():e[t]};return(s=j.getFirebase(e,!0,n.namespace))?s.fire({type:"get",name:t,related:i},a):a()});return Object(r.c)()?a:a[0]},k=function(e,t,n=null,s={}){if(!(e=O(e))||!Object(r.j)(e))throw new Error('Observable subjects must be of type object; "'+Object(r.a)(e)+'" given!');if(Object(r.e)(t)&&(s=arguments.length>2?n:{},n=t,t=null),!Object(r.e)(n))throw new Error('Handler must be a function; "'+Object(r.a)(n)+'" given!');var i,a=d.getFirebase(e,!0,s.namespace),c={filter:t,handler:n,params:s};if((c.filter||"*"===c.params.subtree||c.params.subtree&&C(e))&&S(e,c.filter,c.params.subtree,s.namespace),c.params.unique&&(i=a.match({filter:t,params:s})).length){if("replace"!==c.params.unique)return i[0];a.remove(i[0])}return a.add(c)},E=function(e,t,n,s=null,i={}){var a;if(e!==n&&(k(n,(n,r)=>{if(a=d.getFirebase(e,!1,i.namespace)){var s=n.map(n=>{var r=n;do{if(r.subject===e)return}while(r=r.src);var s={};return Object(h.b)(n,(e,t)=>{"subject"!==e&&"name"!==e&&"path"!==e&&"src"!==e&&(s[e]=t)}),s.name=t,s.path=[t].concat(n.path),s.originalSubject=n.originalSubject,s.src=n,new p(e,s)}).filter(e=>e);if(s.length)return a.fire(s,r.cancellable)}},{subtree:!0,...i,unique:!0,tags:[P,t,e]}),Object(r.h)(s)&&(a=d.getFirebase(e,!1,i.namespace)))){var c=Object(h.d)({name:t,type:"set",value:n,related:[t]},s);let e=a.fire(c,i.cancellable);if(i.eventTypeReturn)return e}};const P={};function S(e,t=null,n=!1,s=null){if(!e||!Object(r.j)(e))throw new Error("Target must be of type object!");var a=d.getFirebase(e,!0,s);if(a&&!a.build){a.build=n;var c=i(t),o=!c.length||c.filter(e=>!e[0]&&0!==e[0]).length?y(e):c.map(e=>e[0]),u=c.length?c.map(e=>e.slice(1)).filter(e=>e.length):null;a.subBuild=u&&u.length?u:null,o.forEach(t=>{var i=w(e,t);try{Object(r.j)(i)&&(E(e,t,i,null,params),(a.subBuild&&C(i)||(_isFunction(n)?n(i):n&&C(i)))&&S(i,a.subBuild,n,s))}catch(e){}})}}const C=e=>(e instanceof Object||e instanceof Array||e instanceof Function)&&("undefined"==typeof window||e!==window);var _=function(e,t,n=null,s={}){if(!(e=O(e))||!Object(r.j)(e))throw new Error('Observable subjects must be of type object; "'+Object(r.a)(e)+'" given!');if(Object(r.e)(t)&&(s=arguments.length>2?n:{},n=t,t=null),n&&!Object(r.e)(n))throw new Error('Handler must be a function; "'+Object(r.a)(n)+'" given!');var i;if(i=d.getFirebase(e,!1,s.namespace))return i.removeMatches({filter:t,originalHandler:n,params:s})},x=function(e,t,n,s=null,i={}){var a;if(_(n,null,null,{...i,tags:[P,t,e]}),Object(r.h)(s)&&(a=d.getFirebase(e,!1,i.namespace))){var c=Object(h.d)({name:t,type:"del",oldValue:n,related:[t]},s);a.fire(c,i.cancellable)}},$=function(e,t,n={}){if(!e||!Object(r.j)(e))throw new Error("Target must be of type object!");e=O(e);var s,i=function(n){return arguments.length?n:t in e};return(s=j.getFirebase(e,!1,n.namespace))?s.fire({type:"has",name:t},i):i()},M=function(e,t,n,i=null,a={}){if(!t||!Object(r.j)(t))throw new Error("Target must be of type object!");Object(r.h)(n)&&(a=i||{},i=null),t=O(t);var c=j.getFirebase(t,!1,a.namespace),o=d.getFirebase(t,!1,a.namespace);const u=(n,s,i,u)=>{var l,h="set";e&&(h="definition",s=(l=s||{}).value);var f,b=!1;$(t,n,a)&&(b=!0,f=w(t,n,a));var p={name:n,type:h,value:s,related:i,detail:u,isUpdate:b,oldValue:f},d=function(e){if(arguments.length&&(l?l=e:s=e),l){if(Object(r.b)(t,"accessorizedProps",!1).has(n)&&!Object(r.b)(t,"accessorizedProps").get(n).restore())return!1;Object.defineProperty(t,n,l)}else if(Object(r.b)(t,"accessorizedProps",!1).has(n))return Object(r.b)(t,"accessorizedProps").get(n).set(s);return t[n]=s,!0};if(c){var g=l?{type:"defineProperty",name:n,descriptor:l,related:i,detail:u,isUpdate:b,oldValue:f}:{type:"set",name:n,value:s,related:i,detail:u,isUpdate:b,oldValue:f};p.success=c.fire(g,d)}else p.success=d();return p.success&&p.value!==p.oldValue&&(Object(r.j)(p.oldValue)&&x(t,n,p.oldValue,null,a),Object(r.j)(p.value)&&(E(t,n,p.value,null,a),o&&(o.subBuild||o.build&&C(p.value))&&S(p.value,o.subBuild,o.build,a.namespace))),p};var l,h=[];Object(r.c)(n)||(Object(r.i)(n)||Object(r.f)(n))&&(l=Object(s.e)(n))?h=l.map(e=>u(e,i,l,a.detail)):Object(r.h)(n)&&(l=Object.keys(n))&&(h=l.map(e=>u(e,n[e],l,a.detail)));var b,p=h.filter(e=>!1!==e.success);return o?(b=o.fire(p,a.cancellable)).successCount=p.length:a.eventTypeReturn&&(b=new f(t)),a.eventTypeReturn?b:p.length>0},D=function(e,t,n=null,r={}){return M(!1,...arguments)},A=function(e,t,n={}){if(!e||!Object(r.j)(e))throw new Error("Target must be of type object!");e=O(e);var i,a,c=Object(s.e)(t),o=c.map(t=>{var s;$(e,t,n)&&(s=w(e,t,n));var i,a={name:t,type:"deletion",related:c,detail:n.detail,oldValue:s},o=function(n){return arguments.length?n:!(Object(r.b)(e,"accessorizedProps",!1).has(t)&&!Object(r.b)(e,"accessorizedProps").get(t).restore())&&(delete e[t],!0)};return(i=j.getFirebase(e,!1,n.namespace))?a.success=i.fire({type:"deleteProperty",name:t,oldValue:s,related:c},o):a.success=o(),a.success&&Object(r.j)(a.oldValue)&&x(e,t,a.oldValue,null,n),a}).filter(e=>!1!==e.success);return(i=d.getFirebase(e,!1,n.namespace))?(a=i.fire(o,n.cancellable)).successCount=o.length:n.eventTypeReturn&&(a=new f(e)),n.eventTypeReturn?a:o.length>0},T=function(e,t,n=null,r={}){return M(!0,...arguments)},N=function(e,t={}){return v(!0,...arguments)};const F=A,W=T;t.a={set:D,get:w,has:$,deleteProperty:A,del:F,defineProperty:T,def:W,ownKeys:N,keys:y,accessorize:function(e,t=[],n={}){n=Object(r.h)(t)?t:n;var i=(1===arguments.length?Object.keys(e):Object(s.e)(t)).map(t=>{if(Object(r.b)(e,"accessorizedProps").has(t)&&Object(r.b)(e,"accessorizedProps").get(t).touch(!0))return!1;const s=()=>{for(var n,r=e;!n&&(r=Object.getPrototypeOf(r));)n=Object.getOwnPropertyDescriptor(r,t);return n};var i,a,c=Object.getOwnPropertyDescriptor(e,t);c||(i={writable:!0,enumerable:!(t in e),configurable:!1!==n.configurable});var o={...c||i};"value"in o&&delete o.value,"writable"in o&&delete o.writable,o.get=()=>{if(u.ongoingGets.length)return u.get();u.ongoingGets.push(1);var r=w(e,t,n);return u.ongoingGets.pop(),r},o.set=r=>{if(u.ongoingSets.length)return u.set(r);u.ongoingSets.push(1);var s=D(e,t,r,n);return u.ongoingSets.pop(),s};var u={ongoingGets:[],ongoingSets:[],get:function(){var t=c;return t||(t=a?i:s()||i),t.get?t.get.call(e):t.value},set:function(t){var n=c;return n||(a?n=i:(n=s())?"value"in n&&(n=i,a=!0):(n=i,a=!0)),n.set||n.get?!!n.set&&n.set.call(e,t):(n.value=t,!0)},restore:function(){try{return this.intact()&&(c||a?Object.defineProperty(e,t,c||i):delete e[t],Object(r.b)(e,"accessorizedProps").delete(t)),!0}catch(e){}return!1},intact:function(){return(Object.getOwnPropertyDescriptor(e,t)||{}).get===o.get},touch:function(e=!1){return this.intact()||!!e&&!this.restore()}};try{return Object.defineProperty(e,t,o),Object(r.b)(e,"accessorizedProps").set(t,u),!0}catch(e){}return!1});return Object(r.c)(t)?i:i[0]},unaccessorize:function(e,t=[],n={}){n=Object(r.h)(t)?t:n;var i=(1===arguments.length?Object.keys(e):Object(s.e)(t)).map(t=>!Object(r.b)(e,"accessorizedProps",!1).has(t)||Object(r.b)(e,"accessorizedProps").get(t).restore());return Object(r.c)(t)?i:i[0]},proxy:function(e,t={}){if(!Object(r.j)(e))throw new Error('Object must be of type subject; "'+Object(r.a)(e)+'" given!');var n=new Proxy(e,{get:(e,s)=>{var i=w(e,s,t);return!1!==t.proxyAutoBinding&&Object(r.e)(i)&&!Object(r.d)(i)?i.bind(n):i},set:(...e)=>(D(...e.concat(t)),!0),has:(...e)=>$(...e.concat(t)),deleteProperty:(...e)=>(A(...e.concat(t)),!0),defineProperty:(...e)=>(T(...e.concat(t)),!0),ownKeys:(...e)=>N(...e.concat(t))});return Object(r.b)(n).set(n,e),n},unproxy:O,observe:k,unobserve:_,intercept:function(e,t,n,s={}){if(e=O(e),!Object(r.j)(e))throw new Error('Object must be of type subject; "'+Object(r.a)(n)+'" given!');if(Object(r.e)(t)&&(s=arguments.length>2?n:{},n=t,t=null),!Object(r.e)(n))throw new Error('Callback must be a function; "'+Object(r.a)(n)+'" given!');var i,a=j.getFirebase(e,!0,s.namespace),c={filter:t,handler:n,params:s};if(c.params.unique&&(i=a.match(c)).length){if("replace"!==c.params.unique)return i[0];a.remove(i[0])}return a.add(c)},unintercept:function(e,t,n=null,s={}){if(!(e=O(e))||!Object(r.j)(e))throw new Error('Object must be of type subject; "'+Object(r.a)(e)+'" given!');if(Object(r.e)(t)&&(s=arguments.length>2?n:{},n=t,t=null),n&&!Object(r.e)(n))throw new Error('Handler must be a function; "'+Object(r.a)(n)+'" given!');var i;if(i=j.getFirebase(e,!1,s.namespace))return i.removeMatches({filter:t,originalHandler:n,params:s})},closure:function(e,...t){var n=t.map(e=>{if(e=O(e),!Object(r.j)(e))throw new Error("Target must be of type object!");return{subject:e,subjectCopy:Object(r.c)(e)?e.slice(0):Object(h.a)(e)}}),i=e(...t);const a=()=>{n.map(e=>{var t,n=Object.keys(e.subjectCopy),i=Object.keys(e.subject),a=[],c=Object(s.j)(n.concat(i)).map(t=>{if(e.subjectCopy[t]!==e.subject[t]){a.push(t);var s={name:t,related:a,buffered:!0};return i.includes(t)?(s.type="set",s.value=e.subject[t],n.includes(t)&&(s.isUpdate=!0)):s.type="del",n.includes(t)&&(s.oldValue=e.subjectCopy[t]),Object(r.j)(e.subjectCopy[t])&&x(e.subject,t,e.subjectCopy[t]),Object(r.j)(e.subject[t])&&E(e.subject,t,e.subject[t]),s}}).filter(e=>e);if(c.length&&(t=d.getFirebase(e.subject,!1)))return t.fire(c)})};return i instanceof Promise?i.then(a):a(),i},build:S,link:E,unlink:x,Observers:d,Interceptors:j}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return s.a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l.a}));n(17);var r=n(40);n(35),n(1),n(2),n(3);var s=n(20),i=(n(38),n(5)),a=n(8);n(16),n(14);var c=n(6),o=n(24),u=function(e,t,n={},r={}){t=Object(a.a)(t).slice();for(var s=e;!Object(c.a)(s)&&!Object(o.a)(s)&&t.length;){var u=t.shift();if(!(n.get?n.get(s,u):Object(i.a)(s)?u in s:s[u]))return void(r.exists=!1);s=n.get?n.get(s,u):s[u]}return r.exists=!0,s};n(43),n(44),n(9),n(7);var l=n(19);n(34),n(10)},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(14),s=n(6),i=n(3),a=n(8),c=n(29),o=n(16),u=n(7),l=n(19),h=n(38),f=n(35);class b{static lex(e,t,n={}){if(!Object(r.a)(e+=""))throw new Error("Argument1 must be a string!");var s=e=>({delims:e.delims.slice(),options:Object(f.a)(e.options),nesting:e.nesting.slice(),maxDepth:e.maxDepth,comments:e.comments.slice(),tokens:e.tokens.slice(),matches:e.matches.slice(),matchesi:Object(f.a)(e.matchesi)});if(b.$cache[e]&&!1!==n.cache)for(var i=0;i<b.$cache[e].length;i++){var a=b.$cache[e][i];if(Object(h.a)(a.delims,t))return s(a)}var c=new b(e,n).lex(t);return!1!==n.cache&&(b.$cache[e]=b.$cache[e]||[],b.$cache[e].push(c)),s(c)}static split(e,t,n){return b.lex(e,t,n).tokens}static match(e,t,n){return b.lex(e,t,n).matches}constructor(e,t){if(!Object(r.a)(e))throw new Error("Lexer requires the first argument to be a string.");this.$str=e,this.$options=t||{},this.$options.blocks||(this.$options.blocks=b.$blocks),this.$options.quotes||(this.$options.quotes=b.$quotes),this.$options.comments||(this.$options.comments=b.$comments)}lex(e,t){for(var n={delims:Object(a.a)(e),options:Object(l.a)(!0,{},this.$options,t||{}),nesting:[],maxDepth:0,comments:[],tokens:[],matches:[],matchesi:{}},r=0;"number"==typeof r;)r=this._evalCharsAt(n,r);if(n.nesting.length)throw new Error("Error parsing the string: "+this.$str+". Unterminated blocks: "+Object(c.a)(n.nesting).join(", "));return n}_evalCharsAt(e,t){if(!(t>=this.$str.length)){var n=1,r={},s={},i={};if(e.openComment||(s=this._testQuotes(e,t)),e.openQuote||(r=this._testComments(e,t)),e.openComment||r.ending)if(e.nesting.length||i.ending)this._push(e,this.$str[t]);else n=(c=r.starting||r.ending||this.$str[t]).length,this._push(e,c,"comments",r.starting);else if(e.openQuote||s.ending)this._push(e,this.$str[t]);else{if(e.options.limit&&e.matches.length===e.options.limit)return this._push(e,this.$str[t]),t+1;i=this._testNesting(e,t);i=this._testNesting(e,t);var a=this._testChars(e.options.stopChars||[],e,t);if(!e.nesting.length&&!1!==a)return e.options.stopChar=a,void(e.options.stopCharForward=this.$str.substr(t));if(e.delims.length)if(e.nesting.length||i.ending){var c;n=(c=i.starting||i.ending||this.$str[t]).length,this._push(e,c)}else{this._push(e,"");var o=this._testChars(e.delims,e,t);if(!1!==o&&(e.matches.push(o),e.matchesi[t]=o,n=o.length||1,!e.options.preserveDelims)){var u=t+(o.length||1);return u===this.$str.length&&this._push(e,""),u}this._push(e,o||this.$str[t])}else 2===e.nesting.length&&i.starting?(e.matches.push(null),this._push(e,i.starting),n=i.starting.length):!e.nesting.length&&i.ending?(this._push(e,i.ending),n=i.ending.length,e.matches.push(null)):this._push(e,this.$str[t])}return t+n}}_testQuotes(e,t){var n={};return(e.options.quotes||[]).forEach(r=>{this.$str.substr(t,1)===r&&(e.openQuote?r===e.openQuote&&(e.openQuote=!1,n.ending=r):(e.openQuote=r,n.starting=r))}),n}_testComments(e,t){var n={};return(e.options.comments||[]).forEach(r=>{if(e.openComment){if(Object(u.a)(r)===Object(u.a)(e.openComment)){var s=Object(u.a)(r);this.$str.substr(t).startsWith(s)&&(e.openComment=!1,n.ending=s)}}else{var i=Object(o.a)(r);this.$str.substr(t).startsWith(i)&&(e.openComment=r,n.starting=i)}}),n}_testNesting(e,t){var n={};return(e.options.blocks||[]).forEach(r=>{var s=Object(o.a)(r);if(this.$str.substr(t).startsWith(s))e.nesting=e.nesting.concat([r]),n.starting=s;else if(e.nesting.length&&Object(u.a)(r)===Object(u.a)(Object(u.a)(e.nesting))){var i=Object(u.a)(r);this.$str.substr(t).startsWith(i)&&(e.nesting=e.nesting.slice(0,-1),n.ending=i)}}),e.maxDepth=Math.max(e.maxDepth,e.nesting.length),n}_testChars(e,t,n){for(var r=0;r<e.length;r++){var s=e[r];if(Object(i.a)(s)){var a=s(this.$str.substr(0,n),this.$str.substr(n),t.tokens.slice());if(!1!==a)return a}if(t.options.useRegex){var c=this.$str.substr(n).match(new RegExp("^"+s,!0!==t.options.useRegex?t.options.useRegex:""));if(c)return c[0]}if(!t.options.ci&&this.$str.substr(n,s.length)===s||t.options.ci&&this.$str.substr(n,s.length).toLowerCase()===s.toLowerCase())return s}return!1}_push(e,t,n="tokens",r=!1){var i=e.matches.length;if(Object(s.a)(e.tokens[i])&&(e.tokens[i]=""),"comments"===n){e.tokens[i].comments||(e.tokens[i]=new String(e.tokens[i]),e.tokens[i].comments=[]);var a=e.tokens[i].comments.length-(!e.tokens[i].comments.length||r?0:1);e.tokens[i].comments[a]=(e.tokens[i].comments[a]||"")+t}else{e.tokens[i].comments;e.tokens[i]=e.tokens[i]+t}}split(e,t,n){return this.lex(t,n).tokens}match(e,t,n){return this.lex(t,n).matches}regParse(e,t){return this.lex(e,Object(l.a)({useRegex:!0},t||{}))}regSplit(e,t){return this.regParse(e,t).tokens}regMatch(e,t){return this.regParse(e,t).matches}}b.$blocks=[["(",")"],["[","]"],["{","}"]],b.$quotes=['"',"'","`"],b.$comments=[["/*","*/"],["//","\n"]],b.$cache=Object.create(null)},function(e,t,n){"use strict";t.a=function(e){return e instanceof String||"string"==typeof e&&null!==e}},,function(e,t,n){"use strict";t.a=function(e,t=1){var n=0;e.forEach(e=>{n++});var r=e.slice(e.length-n,t);return arguments.length>1?r:r[0]}},function(e,t,n){"use strict";var r=n(1),s=n(2),i=n(5),a=n(25),c=n(20);t.a=function(e,t,n=!0,o=!0,u=!1,l=!1){if(Object(r.a)(e)&&Object(r.a)(t)){var h=[],f=!0;return e.forEach(e=>{if(f){var b=!1;Object(c.a)(t,(t,a)=>{(!b||o&&Object(i.a)(e))&&(b=n(e,a),(Object(r.a)(b)&&!b.length||Object(s.a)(b)&&!Object.keys(b).length)&&(b=!1),Object(i.a)(b)&&o&&(e=b))}),Object(i.a)(b)?h.push(o?b:e):Object(a.a)(b)?u&&!b||!u&&b?h.push(e):l&&(f=!1):h.push(b)}}),h}if(Object(s.a)(e)&&Object(s.a)(t)){h={},f=!0;return Object.keys(e).forEach(c=>{if(f){var b=n(e[c],t[c]);(Object(r.a)(b)&&!b.length||Object(s.a)(b)&&!Object.keys(b).length)&&(b=!1),Object(i.a)(b)?h[c]=o?b:e[c]:Object(a.a)(b)?u&&!b||!u&&b?h[c]=e[c]:l&&(f=!1):h[c]=b}}),h}}},function(e,t,n){"use strict";t.a=function(e){return e instanceof Number||"number"==typeof e}},function(e,t,n){"use strict";var r=n(9);t.a=function(...e){return Object(r.a)(e,(e,t,n)=>!0,!1,!1,!1)}},function(e,t,n){"use strict";var r=n(5),s=n(10);t.a=function(e,t){var n=void 0;return Object(r.a)(e)&&Object.keys(e).forEach((r,i)=>{!1!==n&&(n=t(Object(s.a)(r)?parseFloat(r):r,e[r],i))}),n}},function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},function(e,t,n){"use strict";function r(e,t,n=null,r=!1){return t.length>e.length?-1:("number"==typeof n?r?e.slice(0,n+1+(n<0?e.length:0)):e.slice(n):e).reduce((e,n,s)=>{var[i,a,c]=e;if(!r&&i>-1)return[i,a,c];var o=c+1,u=n===t[o]?0===o?[s,0]:[a,o]:[-1,-1];return u[1]===t.length-1&&(u[1]=-1,u[0]>-1)?[u[0]].concat(u):[i].concat(u)},[-1,-1,-1])[0]+(r||"number"!=typeof n?0:n>-1?n:e.length-n)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t,n=!1){if(""==t)return e;var r=n?e.lastIndexOf(t):e.indexOf(t);return-1===r?"":e.substr(r+t.length)}},function(e,t,n){"use strict";t.a=function(e){return null===e||""===e}},function(e,t,n){"use strict";t.a=function(e){return!0===e||!1===e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return s.a})),n.d(t,"c",(function(){return i.a})),n.d(t,"d",(function(){return a.a})),n.d(t,"e",(function(){return c.a}));var r=n(23),s=n(32),i=n(45),a=n(30),c=n(27)},function(e,t,n){"use strict";t.a=function(e,t,n){return e.startsWith(t)&&e.endsWith(n)}},function(e,t,n){"use strict";t.a=function(e,...t){return t.forEach(t=>{e.indexOf(t)<0&&e.push(t)}),e}},function(e,t,n){"use strict";var r=n(1),s=n(2),i=n(10);const a=function(e,t=1,n=!0){return!Object(i.a)(t)||t<=0?e:(!Object(r.a)(e)&&Object(s.a)(e)&&n&&(e=Object.values(e)),Object(r.a)(e)?e.reduce((e,i)=>Object(r.a)(i)||Object(s.a)(i)&&n?e.concat(a(Object(r.a)(i)?i:Object.values(i),t-1,n)):e.concat(i),[]):e)};t.a=a},function(e,t,n){"use strict";var r=n(23),s=n(45);t.a=function(e,t,n){return Object(s.a)(Object(r.a)(e,t),n)}},function(e,t,n){"use strict";var r=function(e){return!Array.isArray(e)&&"object"==typeof e&&e};var s=function(){if(!(r(this)&&this.window||"undefined"!=typeof window))throw new Error("A window context is required.");const e=r(this)&&this.window?this.window:window;if(e.WebQit||(e.WebQit={}),!e.WebQit.window){let t,n;Object.defineProperty(e.WebQit,"window",{get:()=>e}),Object.defineProperty(e.WebQit,"vendor",{value:{getName:()=>(t||(t=function(e){if(void 0!==e.InstallTrigger)return"firefox";if(/constructor/i.test(e.HTMLElement)||"[object SafariRemoteNotification]"===(!e.safari||void 0!==e.safari&&e.safari.pushNotification).toString())return"safari";var t=!(!e.chrome||!e.chrome.webstore&&!e.chrome.runtime),n=t&&-1!=e.navigator.userAgent.indexOf("Edg"),r=!!e.opr&&!!e.opr.addons||!!e.opera||e.navigator.userAgent.indexOf(" OPR/")>=0,s=!!e.document.documentMode,i=!s&&!!e.StyleMedia;return(t||r)&&e.CSS,i?"edge":s?"ie":r?"opera":n?"ie-chromium":t?"chrome":"unknown"}(e)),t),getPrefix:()=>(n||(n=function(e){var t=e.getComputedStyle(e.document.documentElement,""),n=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.Olink&&["","o"])[1];return{api:("WebKit|Moz|Ms|O".match(new RegExp("("+n+")","i"))||[])[1],prefix:n,css:"-"+n+"-"}}(e)),n)}})}return e.WebQit},i=function(e){return"function"==typeof e},a=function(e){return Array.isArray(e)||"object"==typeof e&&e||i(e)},c=function(e){return function(e){return e instanceof Number||"number"==typeof e}(e)||!0!==e&&!1!==e&&null!==e&&""!==e&&!isNaN(1*e)};class o{constructor(e,t=!0){this.window=e,this.async=t,this.readCallbacks=[],this.writeCallbacks=[],this._run()}_run(){this.window.requestAnimationFrame(()=>{this.readCallbacks.forEach((e,t)=>{e&&!e()&&(this.readCallbacks[t]=null)}),this.writeCallbacks.forEach((e,t)=>{e&&!e()&&(this.writeCallbacks[t]=null)}),this._run()})}onread(e,t=!1){if(t)return new Promise((t,n)=>{!1===this.async?e(t,n):this.readCallbacks.push(()=>{e(t,n)})});!1===this.async?e():this.readCallbacks.push(e)}onwrite(e,t=!1){if(t)return new Promise((t,n)=>{!1===this.async?e(t,n):this.writeCallbacks.push(()=>{e(t,n)})});!1===this.async?e():this.writeCallbacks.push(e)}cycle(e,t,n){this.onread(()=>{var r=e(n);if(r){var s=r=>{this.onwrite(()=>{var s=t(r,n);if(s){var i=n=>{this.cycle(e,t,n)};s instanceof Promise?s.then(i):i()}})};r instanceof Promise?r.then(s):s()}})}}var u=function(e){return e instanceof String||"string"==typeof e&&null!==e},l=function(e){return Array.isArray(e)},h=function(e){return arguments.length&&(void 0===e||void 0===e)},f=function(e){return null===e||""===e},b=function(e,t=!0){return l(e)?e:!t&&r(e)?[e]:!1!==e&&0!==e&&function(e){return f(e)||h(e)||!1===e||0===e||a(e)&&!Object.keys(e).length}(e)?[]:function(e){return!u(e)&&!h(e.length)}(e)?Array.prototype.slice.call(e):r(e)?Object.values(e):[e]},p=function(e){const t=s.call(this);t.DOM.isDOMReady||"complete"===t.window.document.readyState?e(t.window):(t.window.domReadyCallbacks||(t.window.domReadyCallbacks=[],t.window.document.addEventListener("DOMContentLoaded",()=>{t.DOM.isDOMReady=!0,t.window.domReadyCallbacks.splice(0).forEach(e=>e(t.window))},!1)),t.window.domReadyCallbacks.push(e))};class d{constructor(e){this.window=e}onAdded(e,t,n={}){return n.on="added",this.onPresenceChange(e,(e,n,r,s,i)=>{t(e,n,r,s,i)},n)}onRemoved(e,t,n={}){return n.on="removed",this.onPresenceChange(e,(e,n,r,s,i)=>{t(e,n,r,s,i)},n)}onPresent(e,t,n={}){p.call(this.window,()=>{this.window.MutationObserver&&this.onAdded(e,(e,n)=>{e.forEach(e=>t(e,n))},n),u(e)?b(this.window.document.querySelectorAll(e)).forEach(e=>t(e,1)):e.parentNode&&t(e,1)})}onAbsent(e,t,n={}){p.call(this.window,()=>{this.window.MutationObserver&&onRemoved(e,(e,n)=>{e.forEach(e=>t(e,n))},n),u(e)?0===b(this.window.document.querySelectorAll(e)).length&&t(null,0):e.parentNode||t(e,0)})}onPresenceChange(e,t,n={}){e=b(e,!1);var r=(e,t)=>(t.$$searchCache||(t.$$searchCache=new Map),e.reduce((e,r)=>{var s;return t.$$searchCache.has(r)?s=t.$$searchCache.get(r):(s=((e,t)=>{if(t=t.filter(e=>e.matches),u(e)){var r=t.filter(t=>t.matches(e));if(!1!==n.observeIndirectMutation&&(r=t.reduce((t,n)=>t.concat(b(n.querySelectorAll(e))),r)).length)return r}else{if(t.includes(e))return[e];if(!1!==n.observeIndirectMutation&&t.length)for(var s=e;s=s.parentNode;)if(t.includes(s))return[e]}})(r,t,u(r))||[],t.$$searchCache.set(r,s)),e.concat(s)},[])),s=new Set,i=new Set,a=(a,c,o)=>{c&&"removed"===n.on||!c&&"added"===n.on||(a=r(e,a)).length&&(n.maintainCallState?(a.forEach(e=>{c?(s.add(e),i.delete(e)):(s.delete(e),i.add(e))}),t(a,c,o,s,i)):t(a,c,o))},c=n.context||this.window.document.documentElement;return this._observe(c,(e,t,r,s)=>{n.ignoreTransients||(a(e,0,!0),a(e.concat(t),1,!0),a(t,0,!0)),a(s,0),a(r,1)})}onAttrChange(e,t,n=[]){var r=new this.window.MutationObserver(t),s={attributes:!0,attributeOldValue:!0};return n&&(s.attributeFilter=n),r.observe(e,s),r}onTreeChange(e,t,n=!1){var r=new this.window.MutationObserver(t),s={childList:!0,subtree:n};return r.observe(e,s),r}onMutation(e,t,n){var r=new this.window.MutationObserver(t);return r.observe(e,n),r}_observe(e,t){if(!g.has(e)){const t=new Set,n=new this.window.MutationObserver(e=>{if(t.size){var n=e.reduce((e,t)=>e.concat(b(t.addedNodes)),[]),r=e.reduce((e,t)=>e.concat(b(t.removedNodes)),[]),s=[],i=[];n=new Set(n),r=new Set(r),n.forEach(e=>{r.has(e)&&(r.delete(e),n.delete(e),e.isConnected?s.push(e):i.push(e))}),n=[...n],r=[...r],t.forEach(e=>e(s,i,n,r))}});n.observe(e,{childList:!0,subtree:!0}),g.set(e,{callbacks:t,observer:n})}const n=g.get(e);return n.callbacks.add(t),{disconnect(){n.callbacks.delete(t)},reconnect(){n.callbacks.add(t)}}}}const g=new Map;var m=function(e){!function(e){e.CSS||(e.CSS={});e.CSS.escape||(e.CSS.escape=e=>e.replace(/([\:@\~\$\&])/g,"\\$1"))}(e),function(e){"isConnected"in e.Node.prototype||Object.defineProperty(e.Node.prototype,"isConnected",{get:function(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}(e),function(e){e.Element.prototype.matches||(e.Element.prototype.matches=e.Element.prototype.matchesSelector||e.Element.prototype.mozMatchesSelector||e.Element.prototype.msMatchesSelector||e.Element.prototype.oMatchesSelector||e.Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})}(e)};function j(e,t=null,n=!1){const r=s.call(this);if(u(e)){var i;if(e.trim().startsWith("<")){var a=r.window.document.createElement("div");a.innerHTML=e,i=n?b(a.children):a.firstChild}else i=n?b(y.call(this,e,t)):v.call(this,e,t);return i}return e instanceof r.window.Element?n?[e]:e:n?b(e):e}function O(e,t=null){return j.call(this,e,t,!0)}function v(e,t=null,n=!1){const r=s.call(this);t=t||r.window.document;var i,a=n?"querySelectorAll":"querySelector";try{i=t[a](e)}catch(n){try{i=t[a](e.replace(/\:is\(/g,":matches("))}catch(n){try{i=t[a](e.replace(/\:is\(/g,":-webkit-any("))}catch(n){try{i=t[a](e.replace(/\:is\(/g,":-moz-any("))}catch(e){throw e}}}}return i}function y(e,t=null){return v.call(this,e,t,!0)}var w=function(e){return i(e)||e&&"[object function]"==={}.toString.call(e)};var k=function(e,t,n={},r={}){t=b(t).slice();for(var s=e;!h(s)&&!f(s)&&t.length;){var i=t.shift();if(!(n.get?n.get(s,i):a(s)?i in s:s[i]))return void(r.exists=!1);s=n.get?n.get(s,i):s[i]}return r.exists=!0,s},E=function(e,t,n,r={},s={}){const i=(e,n,r)=>s.set?s.set(e,n,r):(c(t[u])&&l(e)?e.push(r):e[n]=r,!0);t=b(t);for(var o=e,u=0;u<t.length;u++){if(!(u<t.length-1))return i(o,t[u],n);if(!o||!a(o)&&!w(o))return!1;var h=k(o,t[u],s);if(!a(h)){if(!1===s.buildTree)return!1;if(h=w(s.buildTree)?s.buildTree(u):c(t[u+1])?[]:{},!i(o,t[u],h))return!1}o=h}},P=function(e,t,n=!1,r={}){t=b(t);var s=!1;do{var i=""===(i=t.pop())?0:i,c=e;t.length&&(c=k(e,t,{},r)),(a(c)||w(c))&&(r.has?r.has(c,i):i in c)&&(r.deleteProperty?s=r.deleteProperty(c,i):r.del?s=r.del(c,i):(delete c[i],s=!0))}while(s&&n&&t.length&&(a(c)||w(c))&&!(r.keys?r.keys(c):Object.keys(c)).length);return s},S=function(e,t,n={}){var r={};return k(e,t,n,r),r.exists};function C(e,t=!1){const n=s.call(this);var i={};return!(i.el=n.window.document.head.querySelector('meta[name="oohtml"]'))&&t&&(i.el=n.window.document.createElement("meta"),i.el.setAttribute("name",e),n.window.document.head.append(i.el)),i.el&&(i.vars=(i.el.getAttribute("content")||"").split(";").filter(e=>e).reduce((e,t)=>{var n=t.split("=").map(e=>e.trim());return E(e,n[0].split("."),"true"===n[1]||"false"!==n[1]&&(c(n[1])?parseInt(n[1]):n[1])),e},{})),i.get=function(e){return k(this.vars,e.split("."))},i.set=function(e,n=null,s=!1){var i=r(e)?e:{[e]:!0===n?"true":n};if(s=arguments.length<3?n:s,Object.keys(i).forEach(e=>{if(!1===i[e])P(this.vars,e.split("."));else if(r(i[e]))Object.keys(i[e]).forEach(t=>{var n=(e+"."+t).split(".");s&&S(this.vars,n)||E(this.vars,n,i[e][t])});else{var t=e.split(".");s&&S(this.vars,t)||E(this.vars,t,i[e])}}),t){const e=(t,n)=>Object.keys(n).reduce((s,i)=>{var a=(t?t+".":"")+i;return r(n[i])?s.push(...e(a,n[i])):s.push(a+"="+n[i]),s},[]);this.el.setAttribute("content",e("",this.vars).join(";"))}return!0},i.defaults=function(e,t=null){return this.set(e,t,!0)},i}t.a=function(){const e=s.call(this);return e.DOM||(e.DOM={},m(e.window),e.DOM.reflow=new o(e.window),e.DOM.mutations=new d(e.window),e.DOM.meta=C.bind(e.window),e.DOM.query=j.bind(e.window),e.DOM.queryAll=O.bind(e.window),e.DOM.ready=p.bind(e.window)),e}},function(e,t,n){"use strict";t.a=function(e,t,n=!1){if(""==t)return e;var r=n?e.lastIndexOf(t):e.indexOf(t);return-1===r?e:e.substr(0,r)}},function(e,t,n){"use strict";var r=n(2);t.a=function(e){return Object(r.a)(e)&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,n){"use strict";t.a=function(e,t=1){for(var n=[],r=null;n.length<t&&(r=e[Math.floor(Math.random()*e.length)])&&-1===n.indexOf(r);)n.push(r);return arguments.length>1?n:n[0]}},function(e,t,n){"use strict";var r=n(1),s=n(3),i=n(9);t.a=function(e,t=[]){return Object(i.a)([{},e],(e,n,i)=>{if(!Object(s.a)(i[e]))return Object(s.a)(t)?t(e):!Object(r.a)(t)||!t.length||t.indexOf(e)>-1},!1,!1,!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(23);var r=n(22);function s(e,t,n=null,s=!1){var i=Object(r.a)(e,t,n,s);return-1===i?[]:e.slice(i+t.length)}},function(e,t,n){"use strict";t.a=function(e,t,n=!1){for(var r=e.indexOf(t);r>-1&&(n||!1===n);)e.splice(r,1),n>0&&n--,r=e.indexOf(t);return e}},function(e,t,n){"use strict";var r=n(18),s=n(1),i=n(2),a=(n(5),n(3)),c=n(33),o=n(17);const u=function(e,t,n=!0,l=1){if(Object(s.a)(e)&&Object(s.a)(t)&&e.length!==t.length)return!n;if(Object(i.a)(e)&&Object(i.a)(t)){var h=Object.keys(e),f=Object.keys(t);if(!h.length&&!f.length)return Object(c.a)(e)&&Object(c.a)(t)?n:e===t===n;if(!u(h,f))return!n}if(l>0&&(Object(s.a)(e)&&Object(s.a)(t)||Object(i.a)(e)&&Object(i.a)(t))){var b=Object(o.a)(e,t,(e,t)=>u(e,t,n,l-1),!1,!1,!0);return Object(s.a)(b)?b.length===e.length&&b.length===t.length:Object(i.a)(b)&&Object(i.a)(e)?Object.keys(b).length===Object.keys(e).length&&Object.keys(b).length===Object.keys(t).length:b}return Object(a.a)(n)?n(e,t):Object(r.a)(e)&&Object(r.a)(t)&&isNaN(e)&&isNaN(t)?n:e===t===n};t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h}));var r=n(31),s=n(26),i=n(4),a=(n(0),n(12)),c=n(13);function o(e,t={}){const n=r.a.call(this);return n.OOHTML||(n.OOHTML={}),n.OOHTML.meta||(n.OOHTML.meta=n.DOM.meta("oohtml",!0)),n.OOHTML.meta.defaults(Object(a.d)(3,e,t)),n.OOHTML.meta}function u(e,t,n,r=null){var s=t.split("#")[0].split("/").map(e=>e.trim()).filter(e=>e);return p(e,s,n,r)}function l(e){var t=c.a.split(e.trim(),[":"]);return[e=t.shift(),t.reduce((e,t)=>{var[n,r]=c.a.split(t.trim(),[]);return e[n]=Object(s.d)(r,"(",")"),e},{})]}function h(e,t){return t=t.split("#")[0].split("/").map(e=>e.trim()).filter(e=>e),!!(e=e.split("#")[0].split("/").map(e=>e.trim()).filter(e=>e)).length&&e.reduce((e,n,r)=>!!e&&c.a.split(n.trim(),["|","+"]).reduce((e,n)=>{var[n,s]=l(n),i=(n=n.trim())===t[r];if(!i&&("deep"in s||"deepest"in s)){var a=t.slice(r+1).reduce((e,t,r)=>e>-1&&"deep"in s?e:t===n?r:e,-1);if(a>-1){t.splice(r,a+1);i=!0}}return e||i},!1),!0)}const f=(e,t)=>c.a.split(e.trim(),["|","+"],{preserveDelims:!0}).reduce((e,n)=>{var r;return(n.startsWith("|")||n.startsWith("+"))&&(r=n.substr(0,1),n=n.substr(1).trim()),e.theEnd||"|"===r&&e.length?(e.theEnd=!0,e):e.concat(t(n.trim()))},[]).filter(e=>e),b=(e,t,n)=>{const r=e=>e.reduce((e,t)=>e.concat(...n(t).values()),[]);return f(t,t=>{var[t,a]=l(t);return e.reduce((e,c)=>{var o=n(c);"*"===t&&(t="("+o.keys().join("+")+")");var u=Object(s.e)(t,"(",")")?b([c],Object(s.d)(t,"(",")"),n):Object(i.e)(o.get(t),!1),l=[];return Object.keys(a).forEach(e=>{if("deep"===e||"deepest"===e)for(var s=[c];("deepest"===e||!u.length)&&(s=r(s)).length;){var i=b(s,`${t}${l.map(e=>`:${e}(${a[e]})`).join("")}`,n);i.length&&(u=i)}else"having"!==e&&"not-having"!==e||(u=u.filter(t=>{var r=f(a[e],e=>n(t,e));return"not-having"===e?!r.length:r.length})),l.push(e)}),e.concat(u)},[])})},p=function(e,t,n,r=null,s=0){if(!t.length)return[];var i,a=t.shift();a.endsWith(".")&&(i=!0,a=a.substr(0,a.length-1).trim());var c=b(e,a,n);if(c.length&&i)return c;if(t.length){var o=p(c,t.slice(),n,r,s+1);return-1===o?r(c,s,!0):o}return r?r(c,s):c}},function(e,t,n){"use strict";var r=n(1),s=n(3),i=n(10),a=n(5),c=n(9);t.a=function(e,t=[],n=!0){var o=0;return Object(i.a)(arguments[0])&&Object(a.a)(arguments[1])&&(o=arguments[0],e=arguments[1],t=arguments[2]||[]),Object(c.a)([o,{},e],(e,n,i)=>Object(s.a)(t)?t(e):!Object(r.a)(t)||!t.length||t.indexOf(e)>-1,!1,!1,n)}},function(e,t,n){"use strict";var r=n(24),s=n(6),i=n(5);t.a=function(e){return Object(r.a)(e)||Object(s.a)(e)||!1===e||0===e||Object(i.a)(e)&&!Object.keys(e).length}},function(e,t,n){"use strict";var r=n(14),s=n(6);t.a=function(e){return!Object(r.a)(e)&&!Object(s.a)(e.length)}},function(e,t,n){"use strict";var r=n(28),s=n(44);t.a=function(e,t){var n=[];return Object(s.a)(e,t).forEach(e=>{Object(r.a)(n,...Object.getOwnPropertyNames(e))}),n}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t){t=(t=t||Object.prototype)&&!Object(r.a)(t)?[t]:t;var n=[];for(e=e;e&&(!t||t.indexOf(e)<0)&&"default"!==e.name;)n.push(e),e=e?Object.getPrototypeOf(e):null;return n}},function(e,t,n){"use strict";var r=n(32);t.a=function(e,t){return Object(r.a)(e,t,!0)}},,function(e,t,n){"use strict";t.a=function(e){return e.filter((e,t,n)=>n.indexOf(e)===t)}},function(e,t,n){"use strict";function r(e,t,n=null){return n||!1!==n&&e.dotSafe&&t.dotSafe?(e.join(".")+".").startsWith(t.join(".")+"."):t.reduce((t,n,r)=>t&&n===e[r],!0)}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var r=n(21);t.a=function(e){return Object(r.a)(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}},,function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n=null){return Object(r.a)(t)?e.filter(e=>n?t.filter(t=>n(e,t)).length:-1!==t.indexOf(e)):[]}},,,function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n=null){return Object(r.a)(t)?e.filter(e=>n?t.filter(t=>n(e,t)).length:-1===t.indexOf(e)):[]}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11),s=n(4),i=n(0),a=n(31),c=n(39);function o(e=null,t=!1){const n=a.a.call(this);if(t)return void n.DOM.ready(()=>{o.call(this,e,!1)});const u=n.window,l=n.window.document,h=n.DOM.mutations,f=[],b=c.a.call(this,{attr:{namespace:"namespace",id:"id"},api:{namespace:"namespace"},eagermode:!0},e),p=function(e){if(!Object(i.b)(e,"oohtml").has("namespace")){const t=Object.create(null);Object(i.b)(e,"oohtml").set("namespace",t),r.a.link&&r.a.link(e,b.get("api.namespace"),t)}return Object(i.b)(e,"oohtml").get("namespace")},d=function(e){if(!Object(i.b)(e,"oohtml").has("publicNamespace")){const t=p(e);Object(i.b)(e,"oohtml").set("publicNamespace",b.get("eagermode")?new Proxy(t,{get(n,a){if(Object(i.i)(a)&&!t[a]){var c=Object(s.e)(e.querySelectorAll("["+u.CSS.escape(b.get("attr.id"))+'="'+a+'"]')).filter(t=>{var n=t.parentNode.closest("["+u.CSS.escape(b.get("attr.namespace"))+"]");return e===l?!n:n===e})[0];c&&r.a.set(t,a,c)}return t[a]}}):t)}return Object(i.b)(e,"oohtml").get("publicNamespace")};if(b.get("api.namespace")in u.Element.prototype)throw new Error('The "Element" class already has a "'+b.get("api.namespace")+'" property!');if(Object.defineProperty(u.Element.prototype,b.get("api.namespace"),{get:function(){return d(this)}}),b.get("api.namespace")in l)throw new Error('The "document" object already has a "'+b.get("api.namespace")+'" property!');Object.defineProperty(l,b.get("api.namespace"),{get:function(){return d(l)}}),h.onPresent("["+u.CSS.escape(b.get("attr.id"))+"]",e=>{var t=Object(i.b)(e,"oohtml");if(!t.get("idAlreadyBeingWatched")&&!Object(s.b)(f,t=>e.closest(t))){var n=e.getAttribute(b.get("attr.id")),a=e.parentNode.closest("["+u.CSS.escape(b.get("attr.namespace"))+"]");a||(a=l);var c=p(a);c[n]!==e&&r.a.set(c,n,e),t.set("idAlreadyBeingWatched",!0),h.onPresenceChange(e,(t,s)=>{s?c[n]!==e&&r.a.set(c,n,e):c[n]===e&&r.a.deleteProperty(c,n)})}})}},,,,,,,,function(e,t,n){"use strict";n.r(t),n(71).a.call(window)}]);
//# sourceMappingURL=namespaced-html.js.map