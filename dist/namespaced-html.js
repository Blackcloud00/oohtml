(()=>{function g(r){return!Array.isArray(r)&&typeof r=="object"&&r}function S(r){return typeof r}function v(r,...e){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var t=globalThis.WebQitInternalsRegistry.get(r);if(!t){if(t=new Map,e[0]===!1)return t;globalThis.WebQitInternalsRegistry.set(r,t)}for(var o,i;o=e.shift();)if((i=t)&&!(t=t.get(o))){if(t=new Map,e[0]===!1)return t;i.set(o,t)}return t}function h(r){return Array.isArray(r)}function ge(r){return r===!0||r===!1}function ee(r){return typeof r=="function"}function Ye(r){return ee(r)&&/^class\s?/.test(Function.prototype.toString.call(r))}function Se(r){return r===null||r===""}function A(r){return arguments.length&&(r===void 0||typeof r>"u")}function d(r){return Array.isArray(r)||typeof r=="object"&&r||ee(r)}function Ke(r){return Se(r)||A(r)||r===!1||r===0||d(r)&&!Object.keys(r).length}function _(r){return ee(r)||r&&{}.toString.call(r)==="[object function]"}function U(r){return r instanceof Number||typeof r=="number"}function F(r){return U(r)||r!==!0&&r!==!1&&r!==null&&r!==""&&!isNaN(r*1)}function Ce(r){return g(r)&&Object.getPrototypeOf(r)===Object.prototype}function W(r){return r instanceof String||typeof r=="string"&&r!==null}function ke(r){return!W(r)&&!A(r.length)}function L(r,e=1){var t=0;r.forEach(i=>{t++});var o=r.slice(r.length-t,e);return arguments.length>1?o:o[0]}function N(r,e=1){return arguments.length>1?L(r.slice().reverse(),e).reverse():L(r.slice().reverse())}function Fe(r,...e){return e.forEach(t=>{r.indexOf(t)<0&&r.push(t)}),r}function er(o,e){e=e||Object.prototype,e=e&&!h(e)?[e]:e;for(var t=[],o=o;o&&(!e||e.indexOf(o)<0)&&o.name!=="default";)t.push(o),o=o?Object.getPrototypeOf(o):null;return t}function rr(r,e){var t=[];return er(r,e).forEach(o=>{Fe(t,...Object.getOwnPropertyNames(o))}),t}function D(r,e,t=!1,o=!1,i=!1){var s=0,n=r.shift();if((F(n)||n===!0||n===!1)&&(s=n,n=r.shift()),!r.length)throw new Error("_merge() requires two or more array/objects.");return r.forEach((u,a)=>{!d(u)&&!_(u)||(t?rr(u):Object.getOwnPropertyNames(u)).forEach(f=>{if(!!e(f,n,u,a)){var p=n[f],m=u[f];if((h(p)&&h(m)||g(p)&&g(m))&&(s===!0||s>0))n[f]=h(p)&&h(m)?[]:{},D([F(s)?s-1:s,n[f],p,m],e,t,o,i);else if(h(n)&&h(u))o?n[f]=m:n.push(m);else try{i?Object.defineProperty(n,f,Object.getOwnPropertyDescriptor(u,f)):n[f]=u[f]}catch{}}})}),n}function q(r,e){var t=void 0;return d(r)&&Object.keys(r).forEach((o,i)=>{t!==!1&&(t=e(F(o)?parseFloat(o):o,r[o],i))}),t}function M(...r){return D(r,(e,t,o)=>!0,!1,!1,!1)}function ue(r,e,t=null,o=!1){return e.length>r.length?-1:(typeof t=="number"?o?r.slice(0,t+1+(t<0?r.length:0)):r.slice(t):r).reduce((i,s,n)=>{var[u,a,f]=i;if(!o&&u>-1)return[u,a,f];var p=f+1,m=s===e[p]?p===0?[n,0]:[a,p]:[-1,-1];return m[1]===e.length-1&&(m[1]=-1,m[0]>-1)?[m[0]].concat(m):[u].concat(m)},[-1,-1,-1])[0]+(o||typeof t!="number"?0:t>-1?t:r.length-t)}function me(r,e,t=null,o=!1){var i=ue(r,e,t,o);return i===-1?[]:r.slice(i+e.length)}function _e(r,e){return r.reduce((t,o,i)=>t||e(o,i),!1)}function y(r,e=!0){return h(r)?r:!e&&g(r)?[r]:r!==!1&&r!==0&&Ke(r)?[]:ke(r)?Array.prototype.slice.call(r):g(r)?Object.values(r):[r]}function H(r,e,t=null){return t||t!==!1&&r.dotSafe&&e.dotSafe?r.join(".")===e.join("."):r.length===e.length&&r.reduce((o,i,s)=>o&&i===e[s],!0)}var br=function(r,e=1,t=!0){return!F(e)||e<=0||(!h(r)&&g(r)&&t&&(r=Object.values(r)),!h(r))?r:r.reduce((o,i)=>h(i)||g(i)&&t?o.concat(br(h(i)?i:Object.values(i),e-1,t)):o.concat(i),[])},tr=br;function ve(r,e,t=null){return h(e)?r.filter(o=>t?e.filter(i=>t(o,i)).length:e.indexOf(o)!==-1):[]}function ye(r,e,t=null){return t||t!==!1&&r.dotSafe&&e.dotSafe?(r.join(".")+".").startsWith(e.join(".")+"."):e.reduce((o,i,s)=>o&&i===r[s],!0)}function or(r){let e=(t,o,i)=>i.indexOf(t)===o;return r.filter(e)}function re(r){return(ir(r)?r:y(r).length?[r]:[]).reduce((e,t)=>e.concat([y(t)]),[]).map(e=>G.resolve(e))}var G=class extends Array{static resolve(e){return e.every(t=>!(t+"").includes("."))?new G().concat(e):e}get dotSafe(){return!0}};function ir(r){return y(r).reduce((e,t)=>e||h(t),!1)}function nr(r){return r.filter(e=>e||e===0).length!==r.length}function xr(r){return r.filter(e=>nr(y(e))).length>0}var te=class{constructor(e){this.target=e,this.fireables=[],this.currentlyFiring=[]}add(e){return this.fireables.push(e),e}remove(e){this.fireables=this.fireables.filter(t=>t!==e)}removeMatches(e){this.match(e).forEach(t=>{this.fireables=this.fireables.filter(o=>o!==t)})}match(e){return this.fireables.filter(t=>{var o=re(t.filter),i=y((t.params||{}).tags),s=re(e.filter),n=y((e.params||{}).tags);return(!e.originalHandler||t.handler===e.originalHandler)&&(!s.length||H(s,o))&&(!n.length||n.length===i.length&&ve(i,n).length===n.length)})}static _getFirebase(e,t,o=!0,i=this.__namespace){if(!d(t))throw new Error('Subject must be of type object; "'+S(t)+'" given!');var s=this;return i&&globalThis.WebQitObserverNamespaceRegistry.has(e+"-"+i)&&(s=globalThis.WebQitObserverNamespaceRegistry.get(e+"-"+i),e+="-"+i),!v(t,"firebases").has(e)&&o&&v(t,"firebases").set(e,new s(t)),v(t,"firebases").get(e)}static _namespace(e,t,o=null){if(e+="-"+t,arguments.length===2)return globalThis.WebQitObserverNamespaceRegistry.get(e);if(!(o.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${t} must be a subclass of ${this.name}.`);globalThis.WebQitObserverNamespaceRegistry.set(e,o),o.__namespace=t}};globalThis.WebQitObserverNamespaceRegistry||(globalThis.WebQitObserverNamespaceRegistry=new Map);var oe=class{constructor(e,t){this.target=e,this.handler=t.handler,this.filter=t.filter,this.params=t.params}disconnect(){this.disconnected=!0}};var be=class extends oe{fire(e,t,o){return this.disconnected||this.filter&&!ve(y(this.filter),[e.type]).length?t(...Array.prototype.slice.call(arguments,2)):this.handler(e,o,t)}};function ae(r,e,t=!0,o=!0,i=!1,s=!1){if(h(r)&&h(e)){var n=[],u=!0;return r.forEach(a=>{if(!!u){var f=!1;q(e,(p,m)=>{(!f||o&&d(a))&&(f=t(a,m),(h(f)&&!f.length||g(f)&&!Object.keys(f).length)&&(f=!1),d(f)&&o&&(a=f))}),d(f)?n.push(o?f:a):ge(f)?i&&!f||!i&&f?n.push(a):s&&(u=!1):n.push(f)}}),n}if(g(r)&&g(e)){var n={},u=!0;return Object.keys(r).forEach(p=>{if(!!u){var m=t(r[p],e[p]);(h(m)&&!m.length||g(m)&&!Object.keys(m).length)&&(m=!1),d(m)?n[p]=o?m:r[p]:ge(m)?i&&!m||!i&&m?n[p]=r[p]:s&&(u=!1):n[p]=m}}),n}}function Ae(r,e=[],t=!0){var o=0;return F(arguments[0])&&d(arguments[1])&&(o=arguments[0],r=arguments[1],e=arguments[2]||[]),D([o,{},r],(i,s,n)=>_(e)?e(i):h(e)&&e.length?e.indexOf(i)>-1:!0,!1,!1,t)}function Ne(r,e=[]){return D([{},r],(t,o,i)=>{if(!_(i[t]))return _(e)?e(t):h(e)&&e.length?e.indexOf(t)>-1:!0},!1,!1,!1)}var sr=function(r,e,t=!0,o=1){if(h(r)&&h(e)&&r.length!==e.length)return!t;if(g(r)&&g(e)){var i=Object.keys(r),s=Object.keys(e);if(!i.length&&!s.length)return Ce(r)&&Ce(e)?t:r===e===t;if(!sr(i,s))return!t}if(o>0&&(h(r)&&h(e)||g(r)&&g(e))){var n=ae(r,e,(u,a)=>sr(u,a,t,o-1),!1,!1,!0);return h(n)?n.length===r.length&&n.length===e.length:g(n)&&g(r)?Object.keys(n).length===Object.keys(r).length&&Object.keys(n).length===Object.keys(e).length:n}return _(t)?t(r,e):U(r)&&U(e)&&isNaN(r)&&isNaN(e)?t:r===e===t},fr=sr;var le=class{constructor(e,t){if(this.target=e,!t.type)throw new Error("Action type must be given in definition!");q(t,(o,i)=>{Object.defineProperty(this,o,{value:i,enumerable:!0})}),Object.seal(this)}};var P=class extends te{add(e){return super.add(new be(this.target,e))}fire(e,t=null){if(e instanceof le||(e=new le(this.target,e)),this.currentlyFiring.filter(s=>s.type===e.type&&s.name===e.name).length)return t?t():void 0;this.currentlyFiring.push(e);let o=(s,...n)=>{var u=this.fireables[s];return u?u.fire(e,(...a)=>o(s+1,...a),...n):t?t(...n):n[0]};var i=o(0);return this.currentlyFiring.pop(),i}static getFirebase(e,t=!0,o=null){return super._getFirebase("interceptor",...arguments)}static namespace(e,t=null){return super._namespace("interceptor",...arguments)}};function w(r){return v(r,!1).get(r)||r}function T(r,e,t={},o={}){if(!e||!d(e))throw new Error("Target must be of type object!");e=w(e);var i,s=function(n){return arguments.length?n:Reflect[r](e,...Object.values(t))};return(i=P.getFirebase(e,!1,o.namespace))?i.fire({type:r,...t},s):s()}function je(r,e,t,o={}){return T("apply",r,{thisArgument:e,argumentsList:t},o)}function De(r,e,t=null,o={}){return T("construct",r,arguments.length>2?{argumentsList:e,newTarget:t}:{argumentsList:e},o)}var R=class{constructor(e,t=!1){this._={},this._.target=e,this._.cancellable=t,this._.propagationStopped=!1,this._.defaultPrevented=!1,this._.promisesInstance=null,this._.promises=[]}get target(){return this._.target}get cancellable(){return this._.cancellable}stopPropagation(){this._.propagationStopped=!0}get propagationStopped(){return this._.propagationStopped}preventDefault(){this._.defaultPrevented=!0}get defaultPrevented(){return this._.defaultPrevented}waitUntil(e){e instanceof Promise&&(this._.promises.push(e),this._.promisesInstance=null)}get promises(){return!this._.promisesInstance&&this._.promises.length&&(this._.promisesInstance=Promise.all(this._.promises)),this._.promisesInstance}respondWith(e){var t,o=g(e)&&!A(e.propagationStopped)&&!A(e.defaultPrevented);e===!1||o&&e.propagationStopped?this.stopPropagation():e===!1||o&&e.defaultPrevented?this.preventDefault():(e instanceof Promise&&(t=e)||o&&(t=e.promises))&&this.waitUntil(t)}};var xe=class extends oe{constructor(e,t){if(super(e,t),this.filters2D=re(this.filter),this.filtersIsOriginally2D=ir(this.filter),this.filtersIsDynamic=xr(this.filters2D),this.filtersIsDynamic&&this.filters2D.length>1)throw new Error('Only one "Dynamic Filter" must be observed at a time! "'+this.filters2D.map(o=>"["+o.join(", ")+"]").join(", ")+'" have been bound together.')}fire(e){if(this.disconnected||this.params.type&&!_e(e,n=>this.params.type===n.type))return;let t=n=>!["set","def"].includes(n.type)||!this.params.diff||(_(this.params.diff)?this.params.diff(n.value,n.oldValue):n.value!==n.oldValue);var o=new R(this.target);if(this.filters2D.length){var i=e.filter(n=>this.filters2D.filter((u,a)=>{var f=u.slice();return this.filtersIsDynamic&&n.path.forEach((p,m)=>{f[m]=f[m]||f[m]===0?f[m]:p}),(!this.filtersIsDynamic||!nr(f))&&t(n)&&(!this.params.subtree&&H(f,n.path)||this.params.suptree&&ye(f,n.path)&&(!F(this.params.suptree)||me(f,n.path).length<=this.params.suptree)||this.params.subtree&&n.path.length>=f.length&&ye(n.path,f)&&(!F(this.params.subtree)||me(n.path,f).length<=this.params.subtree))}).length);if(i.length)if(this.filtersIsOriginally2D||this.params.subtree){var s=i;g(this.filter)&&(s={...this.filter},i.forEach((n,u)=>{s[n.name]=n})),o.respondWith(this.handler(s,o))}else i.forEach((n,u)=>{o.respondWith(this.handler(n,o))})}else(this.params.subtree||e.filter(n=>H(n.path,[n.name])).length===e.length)&&e.filter(n=>t(n)).length&&o.respondWith(this.handler(e,o));return o}};var J=class{constructor(e,t){if(this.target=e,t.originalSubject||(this.originalSubject=e),!("type"in t))throw new Error("Mutation type must be given in definition!");if(!("name"in t))throw new Error("Property name must be given in definition!");q(t,(o,i)=>{o==="path"&&(i=G.resolve(i)),Object.defineProperty(this,o,{value:i,enumerable:!0})}),this.path||Object.defineProperty(this,"path",{value:G.resolve([t.name]),enumerable:!0}),Object.seal(this)}};var x=class extends te{constructor(e){super(e),this.buffers=[]}add(e){return super.add(new xe(this.target,e))}fire(e,t){var o=new R(this.target,t);return e=y(e,!1).map(i=>i instanceof J?i:new J(this.target,i)),this.buffers.length?(N(this.buffers)(e),o):(this.currentlyFiring.filter(i=>e.filter(s=>i.type===s.type&&i.name===s.name).length).length,this.fireables.forEach(i=>{if(o.propagationStopped&&t)return o;o.respondWith(i.fire(e))}),o)}static getFirebase(e,t=!0,o=null){return super._getFirebase("observer",...arguments)}static namespace(e,t=null){return super._namespace("observer",...arguments)}};function $(r,e,t=null,o={}){if(r=t||r,!r||!d(r))throw new Error("Target must be of type object!");r=w(r);var i=y(e),s=i.map(n=>{var u,a=function(f){return arguments.length?f:v(r,"accessorizedProps").has(n)&&v(r,"accessorizedProps").get(n).touch(!0)?v(r,"accessorizedProps").get(n).get():t?Reflect.get(r,n,t):Reflect.get(r,n)};return(u=P.getFirebase(r,!0,o.namespace))?u.fire({type:"get",name:n,related:i,receiver:t},a):a()});return h(e)?s:s[0]}function Me(r,e,t=null,o={}){if(r=w(r),!r||!d(r))throw new Error('Observable subjects must be of type object; "'+S(r)+'" given!');if(_(e)&&(o=arguments.length>2?t:{},t=e,e=null),!_(t))throw new Error('Handler must be a function; "'+S(t)+'" given!');var i,s=x.getFirebase(r,!0,o.namespace),n={filter:e,handler:t,params:o};if((n.filter||n.params.subtree==="*"||n.params.subtree&&pe(r))&&Z(r,n.filter,n.params.subtree,o.namespace),n.params.unique&&(i=s.match({filter:e,params:o})).length){if(n.params.unique!=="replace")return i[0];s.remove(i[0])}return s.add(n)}function X(r,e,t,o=null,i={}){if(r!==t){var s;if(Me(t,(u,a)=>{if(s=x.getFirebase(r,!1,i.namespace)){var f=u.map(p=>{var m=p;do if(m.target===r)return;while(m=m.src);var l={};return q(p,(c,b)=>{c!=="target"&&c!=="name"&&c!=="path"&&c!=="src"&&(l[c]=b)}),l.name=e,l.path=[e].concat(p.path),l.originalSubject=p.originalSubject,l.src=p,new J(r,l)}).filter(p=>p);if(f.length)return s.fire(f,a.cancellable)}},{subtree:!0,...i,unique:!0,tags:[mr,e,r]}),g(o)&&(s=x.getFirebase(r,!1,i.namespace))){var n=M({name:e,type:"set",value:t,related:[e]},o);let u=s.fire(n,i.cancellable);if(i.eventTypeReturn)return u}}}var mr={};function Z(r,e=null,t=!1,o=null){if(!r||!d(r))throw new Error("Target must be of type object!");var i=x.getFirebase(r,!0,o);if(!(!i||i.build)){i.build=t;var s=re(e),n=!s.length||s.filter(a=>!a[0]&&a[0]!==0).length?Object.keys(r):s.map(a=>a[0]),u=s.length?s.map(a=>a.slice(1)).filter(a=>a.length):null;i.subBuild=u&&u.length?u:null,n.forEach(a=>{var f=$(r,a,null,{namespace:o});try{d(f)&&(X(r,a,f,null,params),(i.subBuild&&pe(f)||(_isFunction(t)?t(f):t&&pe(f)))&&Z(f,i.subBuild,t,o))}catch{}})}}var pe=r=>(r instanceof Object||r instanceof Array||r instanceof Function)&&(typeof window>"u"||r!==window);function $e(r,e,t=null,o={}){if(r=w(r),!r||!d(r))throw new Error('Observable subjects must be of type object; "'+S(r)+'" given!');if(_(e)&&(o=arguments.length>2?t:{},t=e,e=null),t&&!_(t))throw new Error('Handler must be a function; "'+S(t)+'" given!');var i;if(i=x.getFirebase(r,!1,o.namespace))return i.removeMatches({filter:e,originalHandler:t,params:o})}function Y(r,e,t,o=null,i={}){$e(t,null,null,{...i,tags:[mr,e,r]});var s;if(g(o)&&(s=x.getFirebase(r,!1,i.namespace))){var n=M({name:e,type:"del",oldValue:t,related:[e]},o);s.fire(n,i.cancellable)}}function K(r,e,t={}){return T("has",r,{name:e},t)}function Ie(r,e,t,o={}){e=t.receiver||e;var i=t.keysOrPayload,s=t.value;if(!e||!d(e))throw new Error("Target must be of type object!");g(i)&&(o=s||{},s=null),e=w(e);var n=P.getFirebase(e,!1,o.namespace),u=x.getFirebase(e,!1,o.namespace);let a=(c,b,E,de)=>{var hr="set",V;r&&(hr="defineProperty",V=b||{},b=V.value);var Pe=!1,Te;K(e,c,o)&&(Pe=!0,Te=$(e,c,t.receiver,o));var j={name:c,type:hr,value:b,receiver:t.receiver,related:E,detail:de,isUpdate:Pe,oldValue:Te},dr=function(gr){return arguments.length&&(V?V=gr:b=gr),V?v(e,"accessorizedProps",!1).has(c)&&!v(e,"accessorizedProps").get(c).restore()?!1:(Object.defineProperty(e,c,V),!0):v(e,"accessorizedProps",!1).has(c)?v(e,"accessorizedProps").get(c).set(b):(e[c]=b,!0)};if(n){var Rr=V?{type:"defineProperty",name:c,descriptor:V,receiver:t.receiver,related:E,detail:de,isUpdate:Pe,oldValue:Te}:{type:"set",name:c,value:b,receiver:t.receiver,related:E,detail:de,isUpdate:Pe,oldValue:Te};j.success=n.fire(Rr,dr)}else j.success=dr();return j.success&&j.value!==j.oldValue&&(d(j.oldValue)&&Y(e,c,j.oldValue,null,o),d(j.value)&&(X(e,c,j.value,null,o),u&&(u.subBuild||u.build&&pe(j.value))&&Z(j.value,u.subBuild,u.build,o.namespace))),j};var f,p=[];h(i)||(W(i)||U(i))&&(f=y(i))?p=f.map(c=>a(c,s,f,o.detail)):g(i)&&(f=Object.keys(i))&&(p=f.map(c=>a(c,i[c],f,o.detail)));var m=p.filter(c=>c.success!==!1),l;return u?(l=u.fire(m,o.cancellable),l.successCount=m.length):o.eventTypeReturn&&(l=new R(e)),o.eventTypeReturn?l:m.length>0}function We(r,e,t=null,o={}){return Ie(!0,r,{keysOrPayload:e,value:t},o)}function qe(r,e,t={}){if(!r||!d(r))throw new Error("Target must be of type object!");r=w(r);var o=y(e),i=o.map(a=>{var f;K(r,a,t)&&(f=$(r,a,null,t));var p={name:a,type:"deleteProperty",related:o,detail:t.detail,oldValue:f},m,l=function(c){return arguments.length?c:v(r,"accessorizedProps",!1).has(a)&&!v(r,"accessorizedProps").get(a).restore()?!1:(delete r[a],!0)};return(m=P.getFirebase(r,!1,t.namespace))?p.success=m.fire({type:"deleteProperty",name:a,oldValue:f,related:o},l):p.success=l(),p.success&&d(p.oldValue)&&Y(r,a,p.oldValue,null,t),p}),s=i.filter(a=>a.success!==!1),n,u;return(n=x.getFirebase(r,!1,t.namespace))?(u=n.fire(s,t.cancellable),u.successCount=s.length):t.eventTypeReturn&&(u=new R(r)),t.eventTypeReturn?u:s.length>0}function Re(r,e,t={}){return T("getOwnPropertyDescriptor",r,{name:e},t)}function Qe(r,e={}){return T("getPrototypeOf",r,{},e)}function Ue(r,e={}){return T("isExtensible",r,{},e)}function ze(r,e={}){return T("ownKeys",r,{},e)}function Be(r,e={}){return T("preventExtensions",r,{},e)}function ce(r,e,t=null,o=null,i={}){return Ie(!1,r,arguments.length>3?{keysOrPayload:e,value:t,receiver:o}:{keysOrPayload:e,value:t},i)}function Ve(r,e,t={}){return T("setPrototypeOf",r,{prototype:e},t)}function wr(r,e=[],t={}){t=g(e)?e:t;var o=(arguments.length===1?Object.keys(r):y(e)).map(i=>{if(v(r,"accessorizedProps").has(i)&&v(r,"accessorizedProps").get(i).touch(!0))return!1;let s=()=>{for(var l,c=r;!l&&(c=Object.getPrototypeOf(c));)l=Object.getOwnPropertyDescriptor(c,i);return l};var n=Object.getOwnPropertyDescriptor(r,i),u,a;n||(u={writable:!0,enumerable:!(i in r),configurable:t.configurable!==!1});var f={...n||u};"value"in f&&delete f.value,"writable"in f&&delete f.writable,f.get=()=>{if(m.ongoingGets.length)return m.get();m.ongoingGets.push(1);var l=$(r,i,null,t);return m.ongoingGets.pop(),l};var p;f.set=l=>{if(m.ongoingSets.length)return m.set(l);m.ongoingSets.push(1);var c=ce(r,i,l,null,t);return m.ongoingSets.pop(),c};var m={ongoingGets:[],ongoingSets:[],get:function(){var l=n;return l||(a?l=u:l=s()||u),l.get?l.get.call(r):l.value},set:function(l){var c=n;return c||(a?c=u:(c=s())?"value"in c&&(c=u,a=!0):(c=u,a=!0)),c.set||c.get?c.set?c.set.call(r,l):!1:(c.value=l,!0)},restore:function(){try{return this.intact()&&(n||a?Object.defineProperty(r,i,n||u):delete r[i],v(r,"accessorizedProps").delete(i)),!0}catch{}return!1},intact:function(){return(Object.getOwnPropertyDescriptor(r,i)||{}).get===f.get},touch:function(l=!1){return this.intact()||(l?!this.restore():!1)}};try{return Object.defineProperty(r,i,f),v(r,"accessorizedProps").set(i,m),!0}catch{}return!1});return h(e)?o:o[0]}function Er(r,e=[],t={}){t=g(e)?e:t;var o=(arguments.length===1?Object.keys(r):y(e)).map(i=>v(r,"accessorizedProps",!1).has(i)?v(r,"accessorizedProps").get(i).restore():!0);return h(e)?o:o[0]}function Pr(r,e={}){if(!d(r))throw new Error('Object must be of type target; "'+S(r)+'" given!');var t=new Proxy(r,{apply:(o,i,s)=>je(o,i,s,e),construct:(o,i,s=null)=>De(o,i,s,e),defineProperty:(o,i,s)=>We(o,i,s,e),deleteProperty:(o,i)=>qe(o,i,e),get:(o,i,s=null)=>{var n=$(o,i,s,e);return e.proxyAutoBinding!==!1&&_(n)&&!Ye(n)?n.bind(t):n},getOwnPropertyDescriptor:(o,i)=>Re(o,i,e),getPrototypeOf:o=>Qe(o,e),has:(o,i)=>K(o,i,e),isExtensible:o=>Ue(o,e),ownKeys:o=>ze(o,e),preventExtensions:o=>Be(o,e),set:(o,i,s,n=null)=>ce(o,i,s,n,e),setPrototypeOf:(o,i)=>Ve(o,i,e)});return v(t).set(t,r),t}function Tr(r,e,t={}){if(r=w(r),!d(r))throw new Error('Object must be of type target; "'+S(handler)+'" given!');var o={},i=!0;g(e)||(_(e)?e={"":e}:_(t)&&(e={[e]:t},t=arguments.length>3?arguments[3]:{}),i=!1);var s=P.getFirebase(r,!0,t.namespace);return Object.keys(e).forEach(n=>{if(!_(e[n]))throw new Error("Callback"+(n===null?"":" for "+n)+' must be a function; "'+S(e[n])+'" given!');var u={filter:n,handler:e[n],params:t},a;if(u.params.unique&&(a=s.match(u)).length){if(u.params.unique!=="replace")return a[0];s.remove(a[0])}i?o[n]=s.add(u):o=s.add(u)}),o}function Sr(r,e=null,t={}){if(r=w(r),!r||!d(r))throw new Error('Object must be of type target; "'+S(r)+'" given!');var o=P.getFirebase(r,!1,t.namespace);_isObject(e)||(_(e)?e={[null]:e}:_(t)&&(e={[e]:t},t=arguments.length>3?arguments[3]:{}),isOriginallyObj=!1),(o=P.getFirebase(r,!1,t.namespace))&&Object.keys(e).forEach(i=>{if(!_(e[i]))throw new Error("Callback"+(i===null?"":" for "+i)+' must be a function; "'+S(e[i])+'" given!');var s={filter:i,originalHandler:e[i],params:t};return o.removeMatches(s)})}function Cr(r,...e){var t=e.map(s=>{if(s=w(s),!d(s))throw new Error("Target must be of type object!");return{target:s,subjectCopy:h(s)?s.slice(0):Ae(s)}}),o=r(...e);let i=()=>{t.map(s=>{var n=Object.keys(s.subjectCopy),u=Object.keys(s.target),a=[],f=or(n.concat(u)).map(m=>{if(s.subjectCopy[m]!==s.target[m]){a.push(m);var l={name:m,related:a,buffered:!0};return u.includes(m)?(l.type="set",l.value=s.target[m],n.includes(m)&&(l.isUpdate=!0)):l.type="del",n.includes(m)&&(l.oldValue=s.subjectCopy[m]),d(s.subjectCopy[m])&&Y(s.target,m,s.subjectCopy[m]),d(s.target[m])&&X(s.target,m,s.target[m]),l}}).filter(m=>m),p;if(f.length&&(p=x.getFirebase(s.target,!1)))return p.fire(f)})};return o instanceof Promise?o.then(i):i(),o}var ie={apply:je,construct:De,defineProperty:We,deleteProperty:qe,get:$,getOwnPropertyDescriptor:Re,getPrototypeOf:Qe,has:K,isExtensible:Ue,ownKeys:ze,preventExtensions:Be,set:ce,setPrototypeOf:Ve,accessorize:wr,unaccessorize:Er,proxy:Pr,unproxy:w,observe:Me,unobserve:$e,intercept:Tr,unintercept:Sr,closure:Cr,build:Z,link:X,unlink:Y,Observers:x,Interceptors:P};function Q(r){return!Array.isArray(r)&&typeof r=="object"&&r}function Fr(r){var e=typeof r.InstallTrigger<"u";if(e)return"firefox";var t=/constructor/i.test(r.HTMLElement)||function(f){return f.toString()==="[object SafariRemoteNotification]"}(!r.safari||typeof r.safari<"u"&&r.safari.pushNotification);if(t)return"safari";var o=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime),i=o&&r.navigator.userAgent.indexOf("Edg")!=-1,s=!!r.opr&&!!r.opr.addons||!!r.opera||r.navigator.userAgent.indexOf(" OPR/")>=0,n=!!r.document.documentMode,u=!n&&!!r.StyleMedia,a=(o||s)&&!!r.CSS;return u?"edge":n?"ie":s?"opera":i?"ie-chromium":o?"chrome":"unknown"}function Ar(r){var e=r.getComputedStyle(r.document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.Olink===""&&["","o"])[1],o=("WebKit|Moz|Ms|O".match(new RegExp("("+t+")","i"))||[])[1];return{api:o,prefix:t,css:"-"+t+"-"}}function z(){if(!(Q(this)&&this.window)&&typeof window>"u")throw new Error("A window context is required.");let r=Q(this)&&this.window?this.window:window;if(r.WebQit||(r.WebQit={}),!r.WebQit.window){let e,t;Object.defineProperty(r.WebQit,"window",{get:()=>r}),Object.defineProperty(r.WebQit,"vendor",{value:{getName:()=>(e||(e=Fr(r)),e),getPrefix:()=>(t||(t=Ar(r)),t)}})}return r.WebQit}function Le(r){return typeof r=="function"}function I(r){return Array.isArray(r)||typeof r=="object"&&r||Le(r)}function Nr(r){return r instanceof Number||typeof r=="number"}function ne(r){return Nr(r)||r!==!0&&r!==!1&&r!==null&&r!==""&&!isNaN(r*1)}var Oe=class{constructor(e,t=!0){this.window=e,this.async=t,this.readCallbacks=[],this.writeCallbacks=[],this._run()}_run(){this.window.requestAnimationFrame(()=>{this.readCallbacks.forEach((e,t)=>{e&&!e()&&(this.readCallbacks[t]=null)}),this.writeCallbacks.forEach((e,t)=>{e&&!e()&&(this.writeCallbacks[t]=null)}),this._run()})}onread(e,t=!1){if(t)return new Promise((o,i)=>{this.async===!1?e(o,i):this.readCallbacks.push(()=>{e(o,i)})});this.async===!1?e():this.readCallbacks.push(e)}onwrite(e,t=!1){if(t)return new Promise((o,i)=>{this.async===!1?e(o,i):this.writeCallbacks.push(()=>{e(o,i)})});this.async===!1?e():this.writeCallbacks.push(e)}cycle(e,t,o){this.onread(()=>{var i=e(o);if(i){var s=n=>{this.onwrite(()=>{var u=t(n,o);if(u){var a=f=>{this.cycle(e,t,f)};u instanceof Promise?u.then(a):a()}})};i instanceof Promise?i.then(s):s()}})}};function B(r){return r instanceof String||typeof r=="string"&&r!==null}function se(r){return Array.isArray(r)}function he(r){return arguments.length&&(r===void 0||typeof r>"u")}function jr(r){return!B(r)&&!he(r.length)}function He(r){return r===null||r===""}function Dr(r){return He(r)||he(r)||r===!1||r===0||I(r)&&!Object.keys(r).length}function C(r,e=!0){return se(r)?r:!e&&Q(r)?[r]:r!==!1&&r!==0&&Dr(r)?[]:jr(r)?Array.prototype.slice.call(r):Q(r)?Object.values(r):[r]}function we(r){let e=z.call(this);e.DOM.isDOMReady||e.window.document.readyState==="complete"?r(e.window):(e.window.domReadyCallbacks||(e.window.domReadyCallbacks=[],e.window.document.addEventListener("DOMContentLoaded",()=>{e.DOM.isDOMReady=!0,e.window.domReadyCallbacks.splice(0).forEach(t=>t(e.window))},!1)),e.window.domReadyCallbacks.push(r))}var Ee=class{constructor(e){this.window=e}onAdded(e,t,o={}){return o.on="added",this.onPresenceChange(e,(i,s,n,u,a)=>{t(i,s,n,u,a)},o)}onRemoved(e,t,o={}){return o.on="removed",this.onPresenceChange(e,(i,s,n,u,a)=>{t(i,s,n,u,a)},o)}onPresent(e,t,o={}){we.call(this.window,()=>{this.window.MutationObserver&&this.onAdded(e,(i,s)=>{i.forEach(n=>t(n,s))},o),B(e)?C(this.window.document.querySelectorAll(e)).forEach(i=>t(i,1)):e.parentNode&&t(e,1)})}onAbsent(e,t,o={}){we.call(this.window,()=>{this.window.MutationObserver&&onRemoved(e,(i,s)=>{i.forEach(n=>t(n,s))},o),B(e)?C(this.window.document.querySelectorAll(e)).length===0&&t(null,0):e.parentNode||t(e,0)})}onPresenceChange(e,t,o={}){e=C(e,!1);var i=(m,l)=>{if(l=l.filter(E=>E.matches),B(m)){var c=l.filter(E=>E.matches(m));if(o.observeIndirectMutation!==!1&&(c=l.reduce((E,de)=>E.concat(C(de.querySelectorAll(m))),c),c.length))return c}else{if(l.includes(m))return[m];if(o.observeIndirectMutation!==!1&&l.length){for(var b=m;b=b.parentNode;)if(l.includes(b))return[m]}}},s=(m,l)=>(l.$$searchCache||(l.$$searchCache=new Map),m.reduce((c,b)=>{var E;return l.$$searchCache.has(b)?E=l.$$searchCache.get(b):(E=i(b,l,B(b))||[],l.$$searchCache.set(b,E)),c.concat(E)},[])),n=new Set,u=new Set,a=(m,l,c)=>{l&&o.on==="removed"||!l&&o.on==="added"||(m=s(e,m)).length&&(o.maintainCallState?(m.forEach(b=>{l?(n.add(b),u.delete(b)):(n.delete(b),u.add(b))}),t(m,l,c,n,u)):t(m,l,c))},f=o.context||this.window.document.documentElement,p=this._observe(f,(m,l,c,b)=>{o.ignoreTransients||(a(m,0,!0),a(m.concat(l),1,!0),a(l,0,!0)),a(b,0),a(c,1)});return p}onAttrChange(e,t,o=[]){var i=new this.window.MutationObserver(t),s={attributes:!0,attributeOldValue:!0};return o&&(s.attributeFilter=o),i.observe(e,s),i}onTreeChange(e,t,o=!1){var i=new this.window.MutationObserver(t),s={childList:!0,subtree:o};return i.observe(e,s),i}onMutation(e,t,o){var i=new this.window.MutationObserver(t);return i.observe(e,o),i}_observe(e,t){if(!ar.has(e)){let i=new Set,s=new this.window.MutationObserver(n=>{if(!!i.size){var u=n.reduce((m,l)=>m.concat(C(l.addedNodes)),[]),a=n.reduce((m,l)=>m.concat(C(l.removedNodes)),[]),f=[],p=[];u=new Set(u),a=new Set(a),u.forEach(m=>{a.has(m)&&(a.delete(m),u.delete(m),m.isConnected?f.push(m):p.push(m))}),u=[...u],a=[...a],i.forEach(m=>m(f,p,u,a))}});s.observe(e,{childList:!0,subtree:!0}),ar.set(e,{callbacks:i,observer:s})}let o=ar.get(e);return o.callbacks.add(t),{disconnect(){o.callbacks.delete(t)},reconnect(){o.callbacks.add(t)}}}},ar=new Map;function Mr(r){rt(r),tt(r),ot(r)}function rt(r){r.CSS||(r.CSS={}),r.CSS.escape||(r.CSS.escape=e=>e.replace(/([\:@\~\$\&])/g,"\\$1"))}function tt(r){"isConnected"in r.Node.prototype||Object.defineProperty(r.Node.prototype,"isConnected",{get:function(){return!this.ownerDocument||!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}function ot(r){r.Element.prototype.matches||(r.Element.prototype.matches=r.Element.prototype.matchesSelector||r.Element.prototype.mozMatchesSelector||r.Element.prototype.msMatchesSelector||r.Element.prototype.oMatchesSelector||r.Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=t.length;--o>=0&&t.item(o)!==this;);return o>-1})}function Ge(r,e=null,t=!1){let o=z.call(this);if(B(r)){var i;if(r.trim().startsWith("<")){var s=o.window.document.createElement("div");s.innerHTML=r,i=t?C(s.children):s.firstChild}else i=t?C(Ir.call(this,r,e)):lr.call(this,r,e);return i}return r instanceof o.window.Element?t?[r]:r:t?C(r):r}function $r(r,e=null){return Ge.call(this,r,e,!0)}function lr(r,e=null,t=!1){let o=z.call(this);e=e||o.window.document;var i,s=t?"querySelectorAll":"querySelector";try{i=e[s](r)}catch{try{i=e[s](r.replace(/\:is\(/g,":matches("))}catch{try{i=e[s](r.replace(/\:is\(/g,":-webkit-any("))}catch{try{i=e[s](r.replace(/\:is\(/g,":-moz-any("))}catch(f){throw f}}}}return i}function Ir(r,e=null){return lr.call(this,r,e,!0)}function fe(r){return Le(r)||r&&{}.toString.call(r)==="[object function]"}function k(r,e,t={},o={}){e=C(e).slice();for(var i=r;!he(i)&&!He(i)&&e.length;){var s=e.shift();if(!(t.get?t.get(i,s):I(i)?s in i:i[s])){o.exists=!1;return}i=t.get?t.get(i,s):i[s]}return o.exists=!0,i}function Je(r,e,t,o={},i={}){let s=(p,m,l)=>i.set?i.set(p,m,l):(ne(e[u])&&se(p)?p.push(l):p[m]=l,!0);e=C(e);for(var n=r,u=0;u<e.length;u++)if(u<e.length-1){if(!n||!I(n)&&!fe(n))return!1;var a=k(n,e[u],i);if(!I(a)){if(i.buildTree===!1)return!1;a=fe(i.buildTree)?i.buildTree(u):ne(e[u+1])?[]:{};var f=s(n,e[u],a);if(!f)return!1}n=a}else return s(n,e[u],t)}function Wr(r,e,t=!1,o={}){e=C(e);var i=!1;do{var s=e.pop(),s=s===""?0:s,n=r;e.length&&(n=k(r,e,{},o)),(I(n)||fe(n))&&(o.has?o.has(n,s):s in n)&&(o.deleteProperty?i=o.deleteProperty(n,s):o.del?i=o.del(n,s):(delete n[s],i=!0))}while(i&&t&&e.length&&(I(n)||fe(n))&&!(o.keys?o.keys(n):Object.keys(n)).length);return i}function pr(r,e,t={}){var o={};return k(r,e,t,o),o.exists}function cr(r,e=!1){let t=z.call(this);var o={};return!(o.el=t.window.document.head.querySelector('meta[name="oohtml"]'))&&e&&(o.el=t.window.document.createElement("meta"),o.el.setAttribute("name",r),t.window.document.head.append(o.el)),o.el&&(o.vars=(o.el.getAttribute("content")||"").split(";").filter(i=>i).reduce((i,s)=>{var n=s.split("=").map(u=>u.trim());return Je(i,n[0].split("."),n[1]==="true"?!0:n[1]==="false"?!1:ne(n[1])?parseInt(n[1]):n[1]),i},{})),o.get=function(i){return k(this.vars,i.split("."))},o.set=function(i,s=null,n=!1){var u=Q(i)?i:{[i]:s===!0?"true":s};if(n=arguments.length<3?s:n,Object.keys(u).forEach(a=>{if(u[a]===!1)Wr(this.vars,a.split("."));else if(Q(u[a]))Object.keys(u[a]).forEach(p=>{var m=(a+"."+p).split(".");(!n||!pr(this.vars,m))&&Je(this.vars,m,u[a][p])});else{var f=a.split(".");(!n||!pr(this.vars,f))&&Je(this.vars,f,u[a])}}),e){let a=(f,p)=>Object.keys(p).reduce((m,l)=>{var c=(f?f+".":"")+l;return Q(p[l])?m.push(...a(c,p[l])):m.push(c+"="+p[l]),m},[]);this.el.setAttribute("content",a("",this.vars).join(";"))}return!0},o.defaults=function(i,s=null){return this.set(i,s,!0)},o}function Ze(){let r=z.call(this);return r.DOM||(r.DOM={},Mr(r.window),r.DOM.reflow=new Oe(r.window),r.DOM.mutations=new Ee(r.window),r.DOM.meta=cr.bind(r.window),r.DOM.query=Ge.bind(r.window),r.DOM.queryAll=$r.bind(r.window),r.DOM.ready=we.bind(r.window)),r}var O=class{static lex(e,t,o={}){if(!W(e=e+""))throw new Error("Argument1 must be a string!");var i=f=>({delims:f.delims.slice(),options:Ne(f.options),nesting:f.nesting.slice(),maxDepth:f.maxDepth,comments:f.comments.slice(),tokens:f.tokens.slice(),matches:f.matches.slice(),matchesi:Ne(f.matchesi)});if(O.$cache[e]&&o.cache!==!1)for(var s=0;s<O.$cache[e].length;s++){var n=O.$cache[e][s];if(fr(n.delims,t))return i(n)}var u=new O(e,o),a=u.lex(t);return o.cache!==!1&&(O.$cache[e]=O.$cache[e]||[],O.$cache[e].push(a)),i(a)}static split(e,t,o){return O.lex(e,t,o).tokens}static match(e,t,o){return O.lex(e,t,o).matches}constructor(e,t){if(!W(e))throw new Error("Lexer requires the first argument to be a string.");this.$str=e,this.$options=t||{},this.$options.blocks||(this.$options.blocks=O.$blocks),this.$options.quotes||(this.$options.quotes=O.$quotes),this.$options.comments||(this.$options.comments=O.$comments)}lex(e,t){for(var o={delims:y(e),options:M(!0,{},this.$options,t||{}),nesting:[],maxDepth:0,comments:[],tokens:[],matches:[],matchesi:{}},i=0;typeof i=="number";)i=this._evalCharsAt(o,i);if(o.nesting.length)throw new Error("Error parsing the string: "+this.$str+". Unterminated blocks: "+tr(o.nesting).join(", "));return o}_evalCharsAt(e,t){if(!(t>=this.$str.length)){var o=1,i={},s={},n={};if(e.openComment||(s=this._testQuotes(e,t)),e.openQuote||(i=this._testComments(e,t)),e.openComment||i.ending)if(!e.nesting.length&&!n.ending){var u=i.starting||i.ending||this.$str[t];o=u.length,this._push(e,u,"comments",i.starting)}else this._push(e,this.$str[t]);else if(e.openQuote||s.ending)this._push(e,this.$str[t]);else{if(e.options.limit&&e.matches.length===e.options.limit)return this._push(e,this.$str[t]),t+1;n=this._testNesting(e,t);var n=this._testNesting(e,t),a=this._testChars(e.options.stopChars||[],e,t);if(!e.nesting.length&&a!==!1){e.options.stopChar=a,e.options.stopCharForward=this.$str.substr(t);return}if(!e.delims.length)e.nesting.length===2&&n.starting?(e.matches.push(null),this._push(e,n.starting),o=n.starting.length):!e.nesting.length&&n.ending?(this._push(e,n.ending),o=n.ending.length,e.matches.push(null)):this._push(e,this.$str[t]);else if(!e.nesting.length&&!n.ending){this._push(e,"");var f=this._testChars(e.delims,e,t);if(f!==!1&&(e.matches.push(f),e.matchesi[t]=f,o=f.length||1,!e.options.preserveDelims)){var p=t+(f.length||1);return p===this.$str.length&&this._push(e,""),p}this._push(e,f||this.$str[t])}else{var u=n.starting||n.ending||this.$str[t];o=u.length,this._push(e,u)}}return t+o}}_testQuotes(e,t){var o={};return(e.options.quotes||[]).forEach(i=>{this.$str.substr(t,1)===i&&(e.openQuote?i===e.openQuote&&(e.openQuote=!1,o.ending=i):(e.openQuote=i,o.starting=i))}),o}_testComments(e,t){var o={};return(e.options.comments||[]).forEach(i=>{if(e.openComment){if(N(i)===N(e.openComment)){var n=N(i);this.$str.substr(t).startsWith(n)&&(e.openComment=!1,o.ending=n)}}else{var s=L(i);this.$str.substr(t).startsWith(s)&&(e.openComment=i,o.starting=s)}}),o}_testNesting(e,t){var o={};return(e.options.blocks||[]).forEach(i=>{var s=L(i);if(this.$str.substr(t).startsWith(s))e.nesting=e.nesting.concat([i]),o.starting=s;else if(e.nesting.length&&N(i)===N(N(e.nesting))){var n=N(i);this.$str.substr(t).startsWith(n)&&(e.nesting=e.nesting.slice(0,-1),o.ending=n)}}),e.maxDepth=Math.max(e.maxDepth,e.nesting.length),o}_testChars(e,t,o){for(var i=0;i<e.length;i++){var s=e[i];if(_(s)){var n=s(this.$str.substr(0,o),this.$str.substr(o),t.tokens.slice());if(n!==!1)return n}if(t.options.useRegex){var u=this.$str.substr(o).match(new RegExp("^"+s,t.options.useRegex!==!0?t.options.useRegex:""));if(u)return u[0]}if(!t.options.ci&&this.$str.substr(o,s.length)===s||t.options.ci&&this.$str.substr(o,s.length).toLowerCase()===s.toLowerCase())return s}return!1}_push(e,t,o="tokens",i=!1){var s=e.matches.length;if(A(e.tokens[s])&&(e.tokens[s]=""),o==="comments"){e.tokens[s].comments||(e.tokens[s]=new String(e.tokens[s]),e.tokens[s].comments=[]);var n=e.tokens[s].comments.length-(!e.tokens[s].comments.length||i?0:1);e.tokens[s].comments[n]=(e.tokens[s].comments[n]||"")+t}else{var u=e.tokens[s].comments;e.tokens[s]=e.tokens[s]+t}}split(e,t,o){return this.lex(t,o).tokens}match(e,t,o){return this.lex(t,o).matches}regParse(e,t){return this.lex(e,M({useRegex:!0},t||{}))}regSplit(e,t){return this.regParse(e,t).tokens}regMatch(e,t){return this.regParse(e,t).matches}};O.$blocks=[["(",")"],["[","]"],["{","}"]];O.$quotes=['"',"'","`"];O.$comments=[["/*","*/"],["//",`
`]];O.$cache=Object.create(null);function qr(r,e={}){let t=Ze.call(this);return t.OOHTML||(t.OOHTML={}),t.OOHTML.meta||(t.OOHTML.meta=t.DOM.meta("oohtml",!0)),t.OOHTML.meta.defaults(M(3,r,e)),t.OOHTML.meta}function Xe(r={}){let e=Ze.call(this);if(r.onDomReady){e.DOM.ready(()=>{Xe.call(this,{...r,onDomReady:!1})});return}let t=e.window,o=e.window.document,i=e.DOM.mutations,s=[],n=qr.call(this,{attr:{namespace:"namespace",id:"id"},api:{namespace:"namespace"},eagermode:!0},r.params),u=function(f){if(!v(f,"oohtml").has("namespace")){let p=Object.create(null);v(f,"oohtml").set("namespace",p),ie.link&&ie.link(f,n.get("api.namespace"),p)}return v(f,"oohtml").get("namespace")},a=function(f){if(!v(f,"oohtml").has("publicNamespace")){let p=u(f);v(f,"oohtml").set("publicNamespace",n.get("eagermode")?new Proxy(p,{get(m,l){if(W(l)&&!p[l]){var c=y(f.querySelectorAll("["+t.CSS.escape(n.get("attr.id"))+'="'+l+'"]')).filter(b=>{var E=b.parentNode.closest("["+t.CSS.escape(n.get("attr.namespace"))+"]");return f===o?!E:E===f})[0];c&&ie.set(p,l,c)}return p[l]}}):p)}return v(f,"oohtml").get("publicNamespace")};if(n.get("api.namespace")in t.Element.prototype)throw new Error('The "Element" class already has a "'+n.get("api.namespace")+'" property!');if(Object.defineProperty(t.Element.prototype,n.get("api.namespace"),{get:function(){return a(this)}}),n.get("api.namespace")in o)throw new Error('The "document" object already has a "'+n.get("api.namespace")+'" property!');Object.defineProperty(o,n.get("api.namespace"),{get:function(){return a(o)}}),i.onPresent("["+t.CSS.escape(n.get("attr.id"))+"]",f=>{var p=v(f,"oohtml");if(!(p.get("idAlreadyBeingWatched")||_e(s,b=>f.closest(b)))){var m=f.getAttribute(n.get("attr.id")),l=f.parentNode.closest("["+t.CSS.escape(n.get("attr.namespace"))+"]");l||(l=o);var c=u(l);c[m]!==f&&ie.set(c,m,f),p.set("idAlreadyBeingWatched",!0),i.onPresenceChange(f,(b,E)=>{E?c[m]!==f&&ie.set(c,m,f):c[m]===f&&ie.deleteProperty(c,m)})}})}Xe.call(window);})();
//# sourceMappingURL=namespaced-html.js.map
