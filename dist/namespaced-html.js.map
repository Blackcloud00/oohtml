{
  "version": 3,
  "sources": ["../node_modules/@webqit/util/js/isObject.js", "../node_modules/@webqit/util/js/internals.js", "../node_modules/@webqit/util/js/isArray.js", "../node_modules/@webqit/util/js/isTypeFunction.js", "../node_modules/@webqit/util/js/isNull.js", "../node_modules/@webqit/util/js/isUndefined.js", "../node_modules/@webqit/util/js/isTypeObject.js", "../node_modules/@webqit/util/js/isEmpty.js", "../node_modules/@webqit/util/js/isFunction.js", "../node_modules/@webqit/util/js/isNumber.js", "../node_modules/@webqit/util/js/isNumeric.js", "../node_modules/@webqit/util/js/isString.js", "../node_modules/@webqit/util/js/isTypeArray.js", "../node_modules/@webqit/util/arr/pushUnique.js", "../node_modules/@webqit/util/obj/getPrototypeChain.js", "../node_modules/@webqit/util/obj/getAllPropertyNames.js", "../node_modules/@webqit/util/obj/mergeCallback.js", "../node_modules/@webqit/util/obj/merge.js", "../node_modules/@webqit/util/str/after.js", "../node_modules/@webqit/util/str/before.js", "../node_modules/@webqit/util/arr/from.js", "../node_modules/@webqit/util/arr/intersect.js", "../node_modules/@webqit/util/obj/get.js", "../node_modules/@webqit/util/obj/set.js", "../node_modules/@webqit/dom/src/query.js", "../node_modules/@webqit/dom/src/Reflow.js", "../node_modules/@webqit/dom/src/Realtime.js", "../node_modules/@webqit/dom/src/polyfills.js", "../node_modules/@webqit/dom/src/index.js", "../node_modules/@webqit/util/str/beforeLast.js", "../node_modules/@webqit/util/str/unwrap.js", "../node_modules/@webqit/util/str/wrapped.js", "../src/object-ql.js", "../src/Observable.js", "../src/namespaced-html/index.js", "../src/namespaced-html/browser-entry.js"],
  "sourcesContent": ["\n/**\n * Tells if val is pure object.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !Array.isArray(val) && typeof val === 'object' && val;\n};\n", "\n/**\n * Creates and/or returns an \"internals\" object for the given object.\n * \n * @param Any obj\n * @param String namespace\n * \n * @return Object\n */\nexport default function internals(obj, ...namespaces) {\n    if (!globalThis.WebQitInternalsRegistry) {\n        globalThis.WebQitInternalsRegistry = new Map;\n    }\n    var itnls = globalThis.WebQitInternalsRegistry.get(obj);\n    if (!itnls) {\n        itnls = new Map;\n        if (namespaces[0] === false) {\n            // FALSE means: Return orphan Map if not exists\n            return itnls;\n        }\n        globalThis.WebQitInternalsRegistry.set(obj, itnls);\n    }\n    var _ns, _itnls;\n    while ((_ns = namespaces.shift())) {\n        if ((_itnls = itnls) && !(itnls = itnls.get(_ns))) {\n            itnls = new Map;\n            if (namespaces[0] === false) {\n                // FALSE means: Return orphan Map if not exists\n                return itnls;\n            }\n            _itnls.set(_ns, itnls);\n        }\n    }\n    return itnls;\n}", "\n/**\n * Tells if val is of type \"array\".\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val);\n};\n", "\n/**\n * Tells if val is of type \"function\".\n * This holds true for both regular functions and classes.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn typeof val === 'function';\n};\n", "\n/**\n * Tells if val is undefined or is null.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val === null || val === '';\n};\n", "\n/**\n * Tells if val is undefined or is of type \"undefined\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn arguments.length && (val === undefined || typeof val === 'undefined');\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"object\".\n * This holds true for anything object, including built-ins.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val) || (typeof val === 'object' && val) || _isTypeFunction(val);\n};\n", "\n/**\n * @imports\n */\nimport _isNull from './isNull.js';\nimport _isUndefined from './isUndefined.js';\nimport _isTypeObject from './isTypeObject.js';\n\n/**\n * Tells if val is empty in its own type.\n * This holds true for NULLs, UNDEFINED, FALSE, 0,\n * objects without keys, empty arrays.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNull(val) || _isUndefined(val) || val === false || val === 0 \n\t\t|| (_isTypeObject(val) && !Object.keys(val).length);\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"function\".\n *\n * @param object \t\tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isTypeFunction(val) || (val && {}.toString.call(val) === '[object function]');\n};\n", "\n/**\n * Tells if val is of type \"number\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof Number || (typeof val === 'number');\n};\n", "\n/**\n * @imports\n */\nimport _isNumber from './isNumber.js';\n/**\n * Tells if val is of type \"string\" or a numeric string.\n * This holds true for both numbers and numeric strings.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNumber(val) || (val !== true && val !== false && val !== null && val !== '' && !isNaN(val * 1));\n};\n", "\n/**\n * Tells if val is of type \"string\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof String || (typeof val === 'string' && val !== null);\n};\n", "\n/**\n * @imports\n */\nimport _isString from './isString.js';\nimport _isUndefined from './isUndefined.js';\n\n/**\n * Tells if val is \"array-like\".\n * This holds true for anything that has a length property.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !_isString(val) && !_isUndefined(val.length);\n};\n", "\n/**\n * Adds an item if not already exist.\n *\n * @param array \tarr\n * @param array\t \t...itms\n *\n * @return array\n */\nexport default function(arr, ...items) {\n\titems.forEach(itm => {\n\t\tif (arr.indexOf(itm) < 0) {\n\t\t\tarr.push(itm);\n\t\t}\n\t});\n\treturn arr;\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\n\n/**\n * Returns the prototype chain.\n *\n * @param object \t\tobj\n * @param object\t \tuntil\n *\n * @return bool\n */\nexport default function(obj, until) {\n\tuntil = until || Object.prototype;\n\tuntil = until && !_isArray(until) ? [until] : until;\n\t// We get the chain of inheritance\n\tvar prototypalChain = [];\n\tvar obj = obj;\n\twhile((obj && (!until || until.indexOf(obj) < 0) && obj.name !== 'default')) {\n\t\tprototypalChain.push(obj);\n\t\tobj = obj ? Object.getPrototypeOf(obj) : null;\n\t}\n\treturn prototypalChain;\n};\n", "\n/**\n * @imports\n */\nimport _pushUnique from '../arr/pushUnique.js';\nimport _getPrototypeChain from './getPrototypeChain.js';\n\n/**\n * Eagerly retrieves object members all down the prototype chain.\n *\n * @param object\t \tobj\n * @param object\t \tuntil\n *\n * @return array\n */\nexport default function(obj, until) {\n\tvar keysAll = [];\n\t_getPrototypeChain(obj, until).forEach(obj => {\n\t\t_pushUnique(keysAll, ...Object.getOwnPropertyNames(obj));\n\t});\n\treturn keysAll;\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isFunction from '../js/isFunction.js';\nimport _isObject from '../js/isObject.js';\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isNumeric from '../js/isNumeric.js';\nimport _getAllPropertyNames from './getAllPropertyNames.js';\n\n/**\n  * Merges values from subsequent arrays/objects first array/object;\n  * optionally recursive\n  *\n  * @param array ...objs\n  *\n  * @return void\n  */\nexport default function mergeCallback(objs, callback, deepProps = false, isReplace = false, withSymbols = false) {\n\tvar depth = 0;\n\tvar obj1 = objs.shift();\n\tif (_isNumeric(obj1) || obj1 === true || obj1 === false) {\n\t\tdepth = obj1;\n\t\tobj1 = objs.shift();\n\t}\n\tif (!objs.length) {\n\t\tthrow new Error('_merge() requires two or more array/objects.');\n\t}\n\tobjs.forEach((obj2, i) => {\n\t\tif (!_isTypeObject(obj2) && !_isFunction(obj2)) {\n\t\t\treturn;\n\t\t}\n\t\t(deepProps ? _getAllPropertyNames(obj2) : Object.getOwnPropertyNames(obj2)).forEach(key => {\n\t\t\tif (!callback(key, obj1, obj2, i)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar valAtObj1 = obj1[key];\n\t\t\tvar valAtObj2 = obj2[key];\n\t\t\tif (((_isArray(valAtObj1) && _isArray(valAtObj2)) || (_isObject(valAtObj1) && _isObject(valAtObj2))) \n\t\t\t&& (depth === true || depth > 0)) {\n\t\t\t\t// RECURSE...\n\t\t\t\tobj1[key] = _isArray(valAtObj1) && _isArray(valAtObj2) ? [] : {};\n\t\t\t\tmergeCallback([_isNumeric(depth) ? depth - 1 : depth, obj1[key], valAtObj1, valAtObj2], callback, deepProps, isReplace, withSymbols);\n\t\t\t} else {\n\t\t\t\tif (_isArray(obj1) && _isArray(obj2)) {\n\t\t\t\t\tif (isReplace) {\n\t\t\t\t\t\tobj1[key] = valAtObj2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tobj1.push(valAtObj2);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// In case we're setting a read-only property\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (withSymbols) {\n\t\t\t\t\t\t\tObject.defineProperty(obj1, key, Object.getOwnPropertyDescriptor(obj2, key));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj1[key] = obj2[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\treturn obj1;\n};\n", "\n/**\n * @imports\n */\nimport _mergeCallback from './mergeCallback.js';\n\n/**\n  * Merges values from subsequent arrays/objects first array/object;\n  * optionally recursive\n  *\n  * @param array ...objs\n  *\n  * @return void\n  */\nexport default function(...objs) {\n\treturn _mergeCallback(objs, (k, obj1, obj2) => {\n\t\treturn true;\n\t}, false/*deepProps*/, false/*isReplace*/, false/*withSymbols*/);\n};\n", "\n/**\n * Return the remainder of a string after a given value.\n *\n * @param  string  subject\n * @param  string  search\n * @param  bool\t   afterLast\n *\n * @return string\n */\nexport default function(subject, search, afterLast = false) {\n\tif (search == '') {\n\t\treturn subject;\n\t}\n\tvar pos = afterLast ? subject.lastIndexOf(search) : subject.indexOf(search);\n\tif (pos === -1) {\n\t\treturn '';\n\t}\n\treturn subject.substr(pos + search.length);\n};\n", "\n/**\n * Return the part of a string before a given value.\n *\n * @param  string  subject\n * @param  string  search\n * @param  bool\t   beforeLast\n *\n * @return string\n */\nexport default function(subject, search, beforeLast = false) {\n\tif (search == '') {\n\t\treturn subject;\n\t}\n\tvar pos = beforeLast ? subject.lastIndexOf(search) : subject.indexOf(search);\n\tif (pos === -1) {\n\t\treturn subject;\n\t}\n\treturn subject.substr(0, pos);\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isTypeArray from '../js/isTypeArray.js';\nimport _isEmpty from '../js/isEmpty.js';\nimport _isObject from '../js/isObject.js';\n\n/**\n * Casts an array-like object to an array.\n *\n * @param mixed \tval\n * @param bool\t \tcastObject\n *\n * @return array\n */\nexport default function(val, castObject = true) {\n\tif (_isArray(val)) {\n\t\treturn val;\n\t};\n\tif (!castObject && _isObject(val)) {\n\t\treturn [val];\n\t};\n\tif (val !== false && val !== 0 && _isEmpty(val)) {\n\t\treturn [];\n\t};\n\tif (_isTypeArray(val)) {\n\t\treturn Array.prototype.slice.call(val);\n\t};\n\tif (_isObject(val)) {\n\t\treturn Object.values(val);\n\t};\n\treturn [val];\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\n\n/**\n * Returns the intersection of two arrays;\n * optionally using a custom matching function.\n *\n * @param array \tarr\n * @param array\t \tarr2\n * @param function \tcallback\n *\n * @return array\n */\nexport default function(arr, arr2, callback = null) {\n\treturn !_isArray(arr2) ? [] : arr.filter(val1 => callback \n\t\t? arr2.filter(val2 => callback(val1, val2)).length \n\t\t: arr2.indexOf(val1) !== -1\n\t);\n};\n", "\n/**\n * @imports\n */\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isUndefined from '../js/isUndefined.js';\nimport _isNull from '../js/isNull.js';\nimport _arrFrom from '../arr/from.js';\n\n/**\n * Retrieves the value at the given path.\n *\n * A return value of undefined is ambiguous, and can mean either that the\n * path does not exist, or that the path actually exists but with a value of undefined. If it is required to\n * know whether the path actually exists, pass an object as a third argument.\n * This object will have an \"exists\" key set to true/false.\n *\n * @param object \t\t\t\tctxt\n * @param array \t\t\t\tpath\n * @param object \t\t\t\ttrap\n * @param object \t\t\t\treciever\n *\n * @return mixed\n */\nexport default function(ctxt, path, trap = {}, reciever = {}) {\n\tpath = _arrFrom(path).slice();\n\tvar _ctxt = ctxt;\n\twhile(!_isUndefined(_ctxt) && !_isNull(_ctxt) && path.length) {\n\t\tvar _key = path.shift();\n\t\tif (!(trap.get ? trap.get(_ctxt, _key) : (_isTypeObject(_ctxt) ? _key in _ctxt : _ctxt[_key]))) {\n\t\t\treciever.exists = false;\n\t\t\treturn;\n\t\t}\n\t\t_ctxt = trap.get ? trap.get(_ctxt, _key) : _ctxt[_key];\n\t}\n\treciever.exists = true;\n\treturn _ctxt;\n};\n", "\n/**\n * @imports\n */\nimport _isTypeObject from '../js/isTypeObject.js';\nimport _isFunction from '../js/isFunction.js';\nimport _isNumeric from '../js/isNumeric.js';\nimport _isArray from '../js/isArray.js';\nimport _arrFrom from '../arr/from.js';\nimport _get from './get.js';\n\n/**\n * Sets a value to the given path.\n *\n * @param object \t\t\t\tobj\n * @param array \t\t\t\tpath\n * @param mixed \t\t\t\tval\n * @param object|function \t\tbuildTree\n * @param object \t\t\t\ttrap\n *\n * @return bool\n */\nexport default function(obj, path, val, buildTree = {}, trap = {}) {\n\tconst _set = (target, key, val) => {\n\t\tif (trap.set) {\n\t\t\treturn trap.set(target, key, val);\n\t\t} else {\n\t\t\tif (_isNumeric(path[i]) && _isArray(target)) {\n\t\t\t\ttarget.push(val);\n\t\t\t} else {\n\t\t\t\ttarget[key] = val;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t};\n\tpath = _arrFrom(path);\n\tvar target = obj;\n\tfor(var i = 0; i < path.length; i ++) {\n\t\tif (i < path.length - 1) {\n\t\t\tif (!target || (!_isTypeObject(target) && !_isFunction(target))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar branch = _get(target, path[i], trap);\n\t\t\tif (!_isTypeObject(branch)) {\n\t\t\t\tif (trap.buildTree === false) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbranch = _isFunction(trap.buildTree) ? trap.buildTree(i) : (_isNumeric(path[i + 1]) ? [] : {});\n\t\t\t\tvar branchSuccess = _set(target, path[i], branch);\n\t\t\t\tif (!branchSuccess) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget = branch;\n\t\t} else {\n\t\t\treturn _set(target, path[i], val);\n\t\t}\n\t}\n};\n", "\r\n/**\r\n * @imports\r\n */\r\nimport { _isString } from '@webqit/util/js/index.js';\r\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\r\nimport { _isNumeric } from '@webqit/util/js/index.js';\r\nimport { _set, _get, _merge } from '@webqit/util/obj/index.js';\r\n\r\n/**\r\n * ---------------------\r\n * Query Utilities\r\n * ---------------------\r\n */\r\nexport default ( window, Super = Array ) => class Query extends Super {\r\n\r\n\t/**\r\n\t * Starts the loop.\r\n\t *\r\n\t * @param Array<Element>\t\t...selection\r\n\t * \r\n\t * @return this\r\n\t */\r\n\tconstructor( ...selection ) {\r\n\t\tsuper( ...selection );\r\n\t\tObject.defineProperty( this, 'window', { value: window } );\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the item at the specified index resolved to an element.\r\n\t *\r\n\t * @param Number\tindex\r\n\t * @param Object\tparams\r\n\t * \r\n\t * @return Element\r\n\t */\r\n\tget( index, params = {} ) {\r\n\t\tlet el = this[ index ];\r\n\t\treturn resolve.call( window, el, params.context, false );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Runs a callback thru each item resolved to an element.\r\n\t *\r\n\t * @param Function\tcallback\r\n\t * @param Object\tparams\r\n\t * \r\n\t * @return Element\r\n\t */\r\n\teach( callback, params = {} ) {\r\n\t\tthis.forEach( ( el, i ) => {\r\n\t\t\t( el = this.get( i, params ) ) && callback( el );\r\n\t\t} );\r\n\t}\r\n\r\n\t/**\r\n\t * Gets a list of attributes.\r\n\t *\r\n\t * @param array\t\t\t\t\t\tattrs\r\n\t *\r\n\t * @return Array\r\n\t */\r\n\tattributes( attrs = [] ) {\r\n\t\tconst el = this.get( 0 );\r\n\t\tif ( !el ) return [];\r\n\t\tif ( attrs.length ) return attrs.reduce( ( result, name ) => result.concat( el.getAttribute( name ) ), [] );\r\n\t\treturn Array.from( el.attributes ).reduce( ( result, attr ) => result.concat( { name: attr.name, value: attr.value } ), [] );\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the list of children.\r\n\t *\r\n\t * @param Object\tparams\r\n\t * \r\n\t * @return Array\r\n\t */\r\n\tchildren( params = {} ) {\r\n\t\tconst el = this.get( 0, params );\r\n\t\tif ( !el ) return this.constructor.from( [] );\r\n\t\treturn this.constructor.from( el instanceof this.window.HTMLTemplateElement ? el.content.children : el.children );\r\n\t}\r\n\r\n\t/**\r\n\t * Binds a callback for currently-matched selector, and subsequently-connected elements.\r\n\t *\r\n\t * @param string\t\t\t\t\t\tselector\r\n\t * @param object\t\t\t\t\t\tparams\r\n\t *\r\n\t * @return Array\r\n\t */\r\n\tquerySelectorAll( selector, params = {} ) {\r\n\t\tconst context = this.get( 0, params ) || params.context || window.document.documentElement;\r\n\t\treturn this.constructor.from( select.call( window, selector, context, true ) );\r\n\t}\r\n\r\n}\r\n \r\n/**\r\n * Resolves an HTML markup, selector, HTMLElement to\r\n * an HTMLElement, or list of HTMLElements.\r\n *\r\n * @param mixed \t\t\t\tinput\r\n * @param document|Element\t    context\r\n * @param bool\t\t \t\t\tall\r\n *\r\n * @return Element|Array\r\n */\r\nexport function resolve( input, context = null, all = true ) {\r\n\tconst window = this;\r\n\tif ( _isString( input ) ) {\r\n\t\tlet els;\r\n\t\tif ( input.trim().startsWith( '<' ) ) {\r\n\t\t\t// Create a node from markup\r\n\t\t\tvar temp = window.document.createElement( 'div' );\r\n\t\t\ttemp.innerHTML = input;\r\n\t\t\tels = all ? temp.children : temp.firstChild;\r\n\t\t} else {\r\n\t\t\tels = select.call( window, input, context, all );\r\n\t\t}\r\n\t\treturn els;\r\n\t}\r\n\tif ( input instanceof window.Element ) {\r\n\t\treturn all ? [ input ] : input;\r\n\t}\r\n\treturn all ? _arrFrom( input, false ) : input;\r\n}\r\n\r\n/**\r\n * Queries a DOM context for elements matching\r\n * the given selector.\r\n *\r\n * @param string \t\t\t\tselector\r\n * @param document|Element\t    context\r\n * @param bool\t\t \t\t\tall\r\n *\r\n * @return Element|DOMNodeList\r\n */\r\nexport function select( selector, context = null, all = true ) {\r\n\tconst window = this;\r\n    context = context || window.document;\r\n\tvar matchedItems, method = all ? 'querySelectorAll' : 'querySelector';\r\n\ttry {\r\n\t\tmatchedItems = context[ method ]( selector );\r\n\t} catch( e ) {\r\n\t\ttry {\r\n\t\t\tmatchedItems = context[ method ]( selector.replace( /\\:is\\(/g, ':matches(' ) );\r\n\t\t} catch( e ) {\r\n\t\t\ttry {\r\n\t\t\t\tmatchedItems = context[ method ]( selector.replace( /\\:is\\(/g, ':-webkit-any(' ) );\r\n\t\t\t} catch( e ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmatchedItems = context[ method ]( selector.replace( /\\:is\\(/g, ':-moz-any(' ) );\r\n\t\t\t\t} catch( e ) {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn matchedItems;\r\n}\r\n\r\n/**\r\n * DOM-ready listeners.\r\n * \r\n * @param Function\t    \t\tcallback\r\n * \r\n * @return void\r\n */\r\nexport function ready( callback ) {\r\n\tconst window = this;\r\n\tif ( window.document.readyState === 'complete' ) {\r\n\t\tcallback( window );\r\n\t} else {\r\n\t\tif ( !window.document.domReadyCallbacks ) {\r\n\t\t\twindow.document.domReadyCallbacks = [];\r\n\t\t\twindow.document.addEventListener( 'DOMContentLoaded', () => {\r\n\t\t\t\twindow.document.domReadyCallbacks.splice( 0 ).forEach( cb => cb( window ) );\r\n\t\t\t}, false );\r\n\t\t}\r\n\t\twindow.document.domReadyCallbacks.push( callback );\r\n\t}\r\n}\r\n\r\n/**\r\n * A wq's meta tag props reader.\r\n *  \r\n * @param String name\r\n * @param Bool\t readWrite\r\n * \r\n * @return Object\r\n */\r\nexport function meta( name, readWrite = false ) {\r\n    const window = this;\r\n    const metaInstance = { content: {} };\r\n    // Initialize reader\r\n    if ( !(metaInstance.el = window.document.querySelector( 'meta[name=\"oohtml\"]' ) ) && readWrite ) {\r\n        metaInstance.el = window.document.createElement( 'meta' );\r\n        metaInstance.el.setAttribute( 'name', name );\r\n        window.document.head.append( metaInstance.el );\r\n    }\r\n    if ( metaInstance.el ) {\r\n        metaInstance.content = ( metaInstance.el.getAttribute( 'content' ) || '' ).split( ';' ).filter( v => v ).reduce( ( _metaVars, directive ) => {\r\n            const directiveSplit = directive.split( '=' ).map( d => d.trim() );\r\n            _set( _metaVars, directiveSplit[ 0 ].split( '.' ), directiveSplit[ 1 ] === 'true' \r\n                ? true : (directiveSplit[ 1 ] === 'false' ? false : (\r\n                    _isNumeric( directiveSplit[ 1 ] ) ? parseInt( directiveSplit[ 1 ] ) : directiveSplit[ 1 ]\r\n                ) )\r\n            );\r\n            return _metaVars;\r\n        }, {} );\r\n    }\r\n    // Read prop...\r\n    metaInstance.get = function(prop) { return JSON.stringify( _get( this.content, prop.split( '.' ) ) ); }\r\n    // Copy...\r\n    metaInstance.copy = function() {\r\n\t\treturn JSON.stringify( this.content );\r\n    };\r\n\t// Copy with defaults...\r\n    metaInstance.copyWithDefaults = function( ...defaults ) {\r\n\t\tif ( defaults.length ) return _merge( true, {}, ...defaults.reverse().concat( this.content ) );\r\n\t\treturn this.copy();\r\n    };\r\n    return metaInstance;\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport _each from '@webqit/util/obj/each.js';\r\n\r\n/**\r\n * ---------------------------\r\n * Binds callbacks to requestAnimationFrame()\r\n * to create a central \"read/write\" phases for Ctxt access.\r\n * ---------------------------\r\n */\r\n\t\t\t\r\nexport default window => class Reflow {\r\n\r\n\t/**\r\n\t * Starts the loop.\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tconstructor( asyncDOM = true ) {\r\n\t\tObject.defineProperty( this, 'window', { value: window } );\r\n\t\tObject.defineProperty( this, 'readCallbacks', { value: new Set } );\r\n\t\tObject.defineProperty( this, 'writeCallbacks', { value: new Set } );\r\n\t\tthis.async = asyncDOM;\r\n\t\tif ( this.window.requestAnimationFrame ) {\r\n\t\t\tthis._run();\r\n\t\t} else {\r\n\t\t\tthis.async = false;\r\n\t\t}\r\n\t}\r\n\r\n\t_run() {\r\n\t\tthis.window.requestAnimationFrame( () => {\r\n\t\t\tthis.readCallbacks.forEach( callback => {\r\n\t\t\t\tif ( !callback() ) {\r\n\t\t\t\t\tthis.readCallbacks.delete( callback );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tthis.writeCallbacks.forEach( callback => {\r\n\t\t\t\tif ( !callback() ) {\r\n\t\t\t\t\tthis.writeCallbacks.delete( callback );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tthis._run();\r\n\t\t} );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Binds a callback to the \"read\" phase.\r\n\t *\r\n\t * @param function \tcallback\r\n\t * @param bool\t\twithPromise\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tonread( callback, withPromise = false ) {\r\n\t\tif ( withPromise ) {\r\n\t\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\t\tif ( this.async === false ) {\r\n\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.readCallbacks.add( () => {\r\n\t\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\tif ( this.async === false ) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tthis.readCallbacks.add( callback );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Binds a callback to the \"write\" phase.\r\n\t *\r\n\t * @param function \tcallback\r\n\t * @param bool\t\twithPromise\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tonwrite( callback, withPromise = false ) {\r\n\t\tif ( withPromise ) {\r\n\t\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\t\tif ( this.async === false ) {\r\n\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.writeCallbacks.add( () => {\r\n\t\t\t\t\t\tcallback( resolve, reject );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\tif ( this.async === false ) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tthis.writeCallbacks.add( callback );\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * A special construct for Ctxt manipulations that span\r\n\t * one or more read/write cycles.\r\n\t *\r\n\t * @param function \tread\r\n\t * @param function \twrite\r\n\t * @param mixed\t\tprevTransaction\r\n\t *\r\n\t * @return void|mixed\r\n\t */\r\n\tcycle( read, write, prevTransaction ) {\r\n\t\tthis.onread( () => {\r\n\t\t\t// Record initial values\r\n\t\t\tvar readReturn = read( prevTransaction );\r\n\t\t\tif ( readReturn ) {\r\n\t\t\t\t// Call erite, the transation\r\n\t\t\t\tvar callWrite = ( readReturn ) => {\r\n\t\t\t\t\tthis.onwrite( () => {\r\n\t\t\t\t\t\tvar writeReturn = write( readReturn, prevTransaction );\r\n\t\t\t\t\t\tif ( writeReturn ) {\r\n\t\t\t\t\t\t\t// Repeat transaction\r\n\t\t\t\t\t\t\tvar repeatTransaction = ( writeReturn ) => {\r\n\t\t\t\t\t\t\t\tthis.cycle( read, write, writeReturn );\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t// ---------------------------------------\r\n\t\t\t\t\t\t\t// If \"write\" returns a promise, we wait until it is resolved\r\n\t\t\t\t\t\t\t// ---------------------------------------\r\n\t\t\t\t\t\t\tif ( writeReturn instanceof Promise ) {\r\n\t\t\t\t\t\t\t\twriteReturn.then( repeatTransaction );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\trepeatTransaction();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t\t// ---------------------------------------\r\n\t\t\t\t// If \"read\" returns a promise, we wait until it is resolved\r\n\t\t\t\t// ---------------------------------------\r\n\t\t\t\tif ( readReturn instanceof Promise ) {\r\n\t\t\t\t\treadReturn.then( callWrite );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallWrite();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport { _isString, _isFunction } from '@webqit/util/js/index.js';\r\nimport { _difference, _from as _arrFrom } from '@webqit/util/arr/index.js';\r\nimport _Query from './Query.js';\r\n\r\n/**\r\n * ---------------------\r\n * Realtime Utilities\r\n * ---------------------\r\n */\r\nexport default ( window, Super = Array ) => class Realtime extends _Query( window, Super ) {\r\n\r\n\t/**\r\n\t * ---------------------\r\n\t * MUTATIONS\r\n\t * ---------------------\r\n\t */\r\n\r\n\t/**\r\n\t * Binds a callback for currently-matched, and subsequently-changes attributes.\r\n\t *\r\n\t * @param array\t\t\t\t\t\tattrs\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param Object\t\t\t\t\tparams\r\n\t *\r\n\t * @return ObserverConnection\r\n\t */\r\n\tattributes( attrs, callback, params = {} ) {\r\n\t\tif ( _isFunction( arguments[ 0 ], params ) ) {\r\n\t\t\tparams = callback || {};\r\n\t\t\tcallback = attrs;\r\n\t\t\tattrs = [];\r\n\t\t}\r\n\t\tlet result = super.attributes( attrs );\r\n\t\tif ( result.length ) { callback( ...result ) }\r\n\t\treturn this.attributeChangeCallback( attrs, callback, params );\r\n\t}\r\n\r\n\t/**\r\n\t * Binds a callback for changed attributes.\r\n\t *\r\n\t * @param array\t\t\t\t\t\tattrs\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param Object\t\t\t\t\tparams\r\n\t *\r\n\t * @return ObserverConnection\r\n\t */\r\n\tattributeChangeCallback( attrs, callback, params = {} ) {\r\n\t\tif ( _isFunction( arguments[ 0 ] ) ) {\r\n\t\t\tparams = callback || {};\r\n\t\t\tcallback = attrs;\r\n\t\t\tattrs = [];\r\n\t\t}\r\n\t\tconst observer = new window.MutationObserver( mutations => {\r\n\t\t\tif ( !attrs.length ) {\r\n\t\t\t\tcallback( ...Array.from( mutations ).reduce( ( attrs, mu ) => attrs.concat( {\r\n\t\t\t\t\tname: mu.attributeName,\r\n\t\t\t\t\tvalue: el.getAttribute( mu.attributeName ),\r\n\t\t\t\t\toldValue: mu.oldValue,\r\n\t\t\t\t} ), [] ) );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcallback( ...attrs.reduce( ( attrs, name ) => attrs.concat( el.getAttribute( name ) ), [] ) );\r\n\t\t} );\r\n\t\tparams = { attributes: true, attributeOldValue: !attrs.length, subtree: params.subtree };\r\n\t\tif ( attrs.length ) { params.attributeFilter = attrs; }\r\n\t\tconst el = this.get( 0, params );\r\n\t\tobserver.observe( el, params );\r\n\t\tconst _this = this;\r\n\t\treturn {\r\n\t\t\tdisconnect() {\r\n\t\t\t\tobserver.disconnect();\r\n\t\t\t\treturn { reconnect() {\r\n\t\t\t\t\treturn _this.attributeChangeCallback( attrs, callback, params );\r\n\t\t\t\t} }\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * ---------------------\r\n\t * PRESENCE\r\n\t * ---------------------\r\n\t */\r\n\r\n\t/**\r\n\t * Binds a callback for current and subsequent children.\r\n\t *\r\n\t * @param function\t\t\t\t\t\tcallback\r\n\t * @param Object\t\t\t\t\t\tparams\r\n\t *\r\n\t * @return ObserverConnection\r\n\t */\r\n\tchildren( callback, params = {} ) {\r\n\t\temit( super.children( params ), callback, params, 1 );\r\n\t\tconst observer = new window.MutationObserver( mutations => {\r\n\t\t\tconst [ removed__addedNodes, added__removedNodes, removedNodes, addedNodes ] = getMutationRecordNodes( mutations );\r\n\t\t\temit( removed__addedNodes, callback, params, 0, 1 );\r\n\t\t\temit( added__removedNodes, callback, params, 1, 0 );\r\n\t\t\temit( removedNodes, callback, params, 0 );\r\n\t\t\temit( addedNodes, callback, params, 1 );\r\n\t\t} );\r\n\t\tconst el = this.get( 0, params );\r\n\t\tconst _el = el instanceof window.HTMLTemplateElement ? el.content : el; \r\n\t\tobserver.observe( _el, { childList: true } );\r\n\t\tconst _this = this;\r\n\t\treturn {\r\n\t\t\tdisconnect() {\r\n\t\t\t\tobserver.disconnect();\r\n\t\t\t\treturn { reconnect() {\r\n\t\t\t\t\treturn _this.children( callback );\r\n\t\t\t\t} }\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Binds a callback for currently-matched selector, and subsequently-connected elements.\r\n\t *\r\n\t * @param string\t\t\t\t\t\tselector\r\n\t * @param function\t\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\t\tparams\r\n\t *\r\n\t * @return ObserverConnection\r\n\t */\r\n\tquerySelectorAll( selector, callback, params = {} ) {\r\n\t\tconst result = super.querySelectorAll( selector, params );\r\n\t\temit( result, callback, params, 1 );\r\n\t\tconst el = this.get( 0, params );\r\n\t\treturn this.constructor.from( [ selector ] ).presenceChangeCallback( callback, { ...params, context: el || params.context } );\r\n\t}\r\n\r\n\t/**\r\n\t * Binds a callback for currently-unmatched selector, and subsequently-disconnected elements.\r\n\t *\r\n\t * @param string|Element\t\t\t\tselector\r\n\t * @param function\t\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\t\tparams\r\n\t *\r\n\t * @return ObserverConnection\r\n\t */\r\n\tquerySelectorNone( selector, callback, params = {} ) {\r\n\t\tif ( super.querySelectorAll( selector, params ).length === 0 ) {\r\n\t\t\tif ( params.each ) { callback( null, 0 ); }\r\n\t\t\telse callback( [], 0 );\r\n\t\t}\r\n\t\tconst el = this.get( 0, params );\r\n\t\treturn this.constructor.from( [ selector ] ).presenceChangeCallback( callback, { ...params, context: el || params.context } );\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * Binds a callback for connected elements.\r\n\t *\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\tparams\r\n\t *\r\n\t * @return ObserverConnection\r\n\t */\r\n\tconnectedCallback( callback, params = {} ) {\r\n\t\tconst result = [];\r\n\t\tthis.each( el => {\r\n\t\t\tif ( !el.isConnected ) return;\r\n\t\t\t// Emit right away? Or collect...\r\n\t\t\tif ( params.each ) { callback( el, 1 ); }\r\n\t\t\telse { result.push( el ); }\r\n\t\t}, params );\r\n\t\tif ( result.length ) { callback( result, 1 ); }\r\n\t\treturn this.presenceChangeCallback( callback, { ...params, on: 'added' } );\r\n\t}\r\n\r\n\t/**\r\n\t * Binds a callback for disconnected elements.\r\n\t *\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\tparams\r\n\t *\r\n\t * @return Object\r\n\t */\r\n\tdisconnectedCallback( callback, params = {} ) {\r\n\t\tconst result = [];\r\n\t\tthis.each( el => {\r\n\t\t\tif ( el.isConnected ) return;\r\n\t\t\t// Emit right away? Or collect...\r\n\t\t\tif ( params.each ) { callback( el, 0 ); }\r\n\t\t\telse { result.push( el ); }\r\n\t\t}, params );\r\n\t\tif ( result.length ) { callback( result, 0 ); }\r\n\t\treturn this.presenceChangeCallback( callback, { ...params, on: 'removed' } );\r\n\t}\r\n\r\n\t/**\r\n\t * Observes when the given elements or selectors are added or removed\r\n\t * from the given context.\r\n\t *\r\n\t * @param function\t\t\t\t\tcallback\r\n\t * @param object\t\t\t\t\tparams\r\n\t *\r\n\t * @return Object\r\n\t */\r\n\tpresenceChangeCallback( callback, params = {} ) {\r\n\t\tconst search = ( el, [ ...nodeListArray ] ) => {\r\n\t\t\t// Filter out text nodes\r\n\t\t\tnodeListArray = nodeListArray.filter( node => node.matches );\r\n\t\t\tif ( _isString( el ) ) {\r\n\t\t\t\t// Is directly mutated...\r\n\t\t\t\tlet matches = nodeListArray.filter( node => node.matches( el ) );\r\n\t\t\t\t// Is contextly mutated...\r\n\t\t\t\tif ( params.observeIndirectMutation !== false ) {\r\n\t\t\t\t\tmatches = nodeListArray\r\n\t\t\t\t\t\t.reduce( ( collection, node ) => collection.concat( _arrFrom( node.querySelectorAll( el ) ) ), matches );\r\n\t\t\t\t\tif ( matches.length ) {\r\n\t\t\t\t\t\treturn matches;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Is directly mutated...\r\n\t\t\t\tif ( nodeListArray.includes( el ) ) {\r\n\t\t\t\t\treturn [ el ];\r\n\t\t\t\t}\r\n\t\t\t\t// Is contextly mutated...\r\n\t\t\t\tif ( params.observeIndirectMutation !== false && nodeListArray.length ) {\r\n\t\t\t\t\tlet parentNode = el;\r\n\t\t\t\t\twhile( parentNode = parentNode.parentNode ) {\r\n\t\t\t\t\t\tif ( nodeListArray.includes( parentNode ) ) {\r\n\t\t\t\t\t\t\treturn [ el ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst match = ( els, sourceArray ) => {\r\n\t\t\t// -------------------------------\r\n\t\t\t// Search can be expensive...\r\n\t\t\t// Multiple listeners searching the same thing in the same list?\r\n\t\t\tif ( !sourceArray.$$searchCache ) {\r\n\t\t\t\tsourceArray.$$searchCache = new Map;\r\n\t\t\t}\r\n\t\t\t// -------------------------------\r\n\t\t\treturn els.reduce( ( matches, el ) => {\r\n\t\t\t\t// -------------------------------\r\n\t\t\t\tlet _matches;\r\n\t\t\t\tif ( sourceArray.$$searchCache.has( el ) ) {\r\n\t\t\t\t\t_matches = sourceArray.$$searchCache.get( el );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_matches = search( el, sourceArray, _isString( el ) ) || [];\r\n\t\t\t\t\tsourceArray.$$searchCache.set( el, _matches );\r\n\t\t\t\t}\r\n\t\t\t\treturn matches.concat( _matches );\r\n\t\t\t}, [] );\r\n\t\t};\r\n\t\tconst els = this;\r\n\t\tconst totalConnected = new Set, totalDisconnected = new Set;\r\n\t\tconst fire = ( list, connectedState, transientNewConnectedState ) => {\r\n\t\t\tif ( ( connectedState && params.on === 'removed' ) || ( !connectedState && params.on === 'added' ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( ( list = match( els, list ) ).length ) {\r\n\t\t\t\tlist.forEach( el => {\r\n\t\t\t\t\tif ( connectedState ) {\r\n\t\t\t\t\t\ttotalConnected.add( el );\r\n\t\t\t\t\t\ttotalDisconnected.delete( el );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotalConnected.delete( el );\r\n\t\t\t\t\t\ttotalDisconnected.add( el );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t\tif ( params.maintainCallState ) {\r\n\t\t\t\t\temit( list, callback, params, connectedState, transientNewConnectedState, totalConnected, totalDisconnected );\r\n\t\t\t\t} else {\r\n\t\t\t\t\temit( list, callback, params, connectedState, transientNewConnectedState );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst context = params.context || window.document.documentElement;\r\n\t\treturn contextObserverCallback.call( window, context, ( removed__addedNodes, added__removedNodes, removedNodes, addedNodes ) => {\r\n\t\t\tfire( removed__addedNodes, 0, 1 );\r\n\t\t\tfire( added__removedNodes, 1, 0 );\r\n\t\t\tfire( removedNodes, 0, 0 );\r\n\t\t\tfire( addedNodes, 1, 1 );\r\n\t\t} );\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * \r\n * @param Set|Array nodeSet\r\n * @param Function callback\r\n * @param Object params\r\n * @param Array args\r\n * \r\n * @return Void\r\n */\r\nfunction emit( nodeSet, callback, params, ...args ) {\r\n\tif ( params.each ) { nodeSet.forEach( el => callback( el, ...args ) ); }\r\n\telse if ( ( nodeSet instanceof Set ) && nodeSet.size ) { callback( [ ...nodeSet ], ...args ); }\r\n\telse if ( Array.isArray( nodeSet ) && nodeSet.length ) { callback( nodeSet, ...args ); }\r\n}\r\n\r\n/**\r\n * \r\n * @param Element context \r\n * @param Function callback \r\n * \r\n * @return Object\r\n */\r\nconst MutationObserversCache = new Map();\r\nfunction contextObserverCallback( context, callback ) {\r\n\tconst window = this;\r\n   if ( !MutationObserversCache.has( context ) ) {\r\n\t   const callbacks = new Set;\r\n\t   const observer = new window.MutationObserver( mutations => {\r\n\t\t   if ( !callbacks.size ) return;\r\n\t\t   const [ removed__addedNodes, added__removedNodes, removedNodes, addedNodes ] = getMutationRecordNodes( mutations );\r\n\t\t   callbacks.forEach( callback => callback( removed__addedNodes, added__removedNodes, removedNodes, addedNodes ) );\r\n\t   });\r\n\t   const _context = context instanceof window.HTMLTemplateElement ? context.content : context; \r\n\t   observer.observe( _context, { childList: true, subtree: true } );\r\n\t   MutationObserversCache.set( context, { callbacks, observer } );\r\n   }\r\n   MutationObserversCache.get( context ).callbacks.add( callback );\r\n   const controller = {\r\n\t   disconnect() {\r\n\t\t   const obs = MutationObserversCache.get( context );\r\n\t\t   obs.callbacks.delete( callback );\r\n\t\t   if ( !obs.callbacks.size ) {\r\n\t\t\t\tobs.observer.disconnect();\r\n\t\t\t\tMutationObserversCache.delete( context );\r\n\t\t   }\r\n\t\t   return { reconnect() {\r\n\t\t\t\tconst obs = MutationObserversCache.get( context );\r\n\t\t\t\tif ( !obs ) return contextObserverCallback.call( window, context, callback );\r\n\t\t\t\tobs.callbacks.add( callback );\r\n\t\t\t\treturn controller;\r\n\t\t\t} }\r\n\t   }\r\n   };\r\n   return controller;\r\n}\r\n\r\n/**\r\n * \r\n * @param Array<MutationRecord> mutations \r\n * \r\n * @return Array\r\n */\r\nfunction getMutationRecordNodes( mutations ) {\r\n\tconst addedNodes = new Set, removed__addedNodes = new Set;\r\n\tconst removedNodes = new Set, added__removedNodes = new Set;\r\n\tmutations.forEach( mu => {\r\n\t\t// Initial categorization for addedNodes and added__removedNodes\r\n\t\tmu.addedNodes.forEach( el => {\r\n\t\t\tif ( !el.isConnected ) {\r\n\t\t\t\tadded__removedNodes.add( el );\r\n\t\t\t} else { addedNodes.add( el ); }\r\n\t\t} );\r\n\t\t// Complete categorization for removedNodes and removed__addedNodes\r\n\t\tmu.removedNodes.forEach( el => {\r\n\t\t\tif ( el.isConnected && addedNodes.has( el ) ) {\r\n\t\t\t\taddedNodes.delete( el );\r\n\t\t\t\tremoved__addedNodes.add( el );\r\n\t\t\t} else { removedNodes.add( el ); }\r\n\t\t} );\r\n\t\t// Finalization for addedNodes and added__removedNodes\r\n\t\tadded__removedNodes.forEach( el => {\r\n\t\t\tif ( !removedNodes.has( el ) ) {\r\n\t\t\t\tadded__removedNodes.delete( el );\r\n\t\t\t\taddedNodes.add( el );\r\n\t\t\t}\r\n\t\t} );\r\n\t} );\r\n\treturn [ removed__addedNodes, added__removedNodes, removedNodes, addedNodes ];\r\n}\r\n", "\r\n/**\r\n * Applies all supported polyfills\r\n */\r\nexport default function() {\r\n    CSS_escape.call( this );\r\n    Node_isConnected.call( this );\r\n    Element_matches.call( this );\r\n}\r\n\r\n/**\r\n * Polyfills the window.CSS object.\r\n *  \r\n * @return void\r\n */\r\nexport function CSS_escape() {\r\n    const window = this;\r\n    if ( !window.CSS ) { window.CSS = {} }\r\n    if ( !window.CSS.escape ) {\r\n        /**\r\n         * Polyfills the window.CSS.escape() function.\r\n         *  \r\n         * @param string str \r\n         * \r\n         * @return string\r\n         */\r\n        window.CSS.escape = str => str.replace( /([\\:@\\~\\$\\&])/g, '\\\\$1' );\r\n    }\r\n}\r\n\r\n/**\r\n * Polyfills the Node.prototype.isConnected property\r\n * \r\n * @see MDN\r\n  *  \r\n * @return bool\r\n*/\r\nexport function Node_isConnected() {\r\n    const window = this;\r\n    if ( !( 'isConnected' in window.Node.prototype ) ) {\r\n        Object.defineProperty( window.Node.prototype, 'isConnected', { get: function() {\r\n            return !this.ownerDocument || !(\r\n                this.ownerDocument.compareDocumentPosition( this )\r\n                & this.DOCUMENT_POSITION_DISCONNECTED);\r\n        } } );\r\n    }\r\n}\r\n\r\n/**\r\n * Polyfills the Element.prototype.matches() method\r\n * \r\n * @see MDN\r\n  *  \r\n * @return void\r\n*/\r\nexport function Element_matches() {\r\n    const window = this;\r\n    if ( !window.Element.prototype.matches ) {\r\n        window.Element.prototype.matches = \r\n        window.Element.prototype.matchesSelector || \r\n        window.Element.prototype.mozMatchesSelector ||\r\n        window.Element.prototype.msMatchesSelector || \r\n        window.Element.prototype.oMatchesSelector || \r\n        window.Element.prototype.webkitMatchesSelector ||\r\n        function( s ) {\r\n            var matches = ( this.document || this.ownerDocument ).querySelectorAll( s ),\r\n                i = matches.length;\r\n            while ( --i >= 0 && matches.item( i ) !== this ) {}\r\n            return i > -1;            \r\n        }\r\n    }\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport createQueryClass, { ready, meta } from './query.js';\r\nimport createReflowClass from './Reflow.js';\r\nimport createRealtimeClass from './Realtime.js';\r\nimport polyfill from './polyfills.js';\r\n\r\nexport default function() {\r\n    const window = this;\r\n    if ( !window.wq ) window.wq = {};\r\n    if ( window.wq.dom ) return window.wq.dom;\r\n    // ------\r\n    const Query = createQueryClass( window );\r\n    const Reflow = createReflowClass( window );\r\n    const Realtime = createRealtimeClass( window );\r\n    Query.prototype.realtime = function( ...args ) {\r\n        return args.length ? new Realtime( ...args ) : new Realtime( ...this );\r\n    };\r\n    // ------\r\n    window.wq.dom = new Query;\r\n    window.wq.dom.reflow = new Reflow;\r\n    window.wq.dom.ready = ready.bind( window );\r\n    window.wq.dom.meta = meta.bind( window );\r\n    window.wq.dom.extend = ( nethodName, handler, { supportsRealtime = false } = {} ) => {\r\n        if ( supportsRealtime !== 'only' ) { Query.prototype[ nethodName ] = handler; }\r\n        if ( supportsRealtime ) { Realtime.prototype[ nethodName ] = handler; }\r\n    };\r\n    polyfill.call( window );\r\n    // ------\r\n    return window.wq.dom;\r\n}", "\n/**\n * @imports\n */\nimport _before from './before.js';\n\n/**\n * Return the part of a string before last occurence of a given value.\n *\n * @param  string  subject\n * @param  string  search\n *\n * @return string\n */\nexport default function(subject, search) {\n\treturn _before(subject, search, true);\n};\n", "\n/**\n * @imports\n */\nimport _after from './after.js';\nimport _beforeLast from './beforeLast.js';\n\n/**\n * Returns the string without the given opening and closing tags.\n *\n * @param  string  subject\n * @param  string  openingTag\n * @param  string  closingTag\n *\n * @return string\n */\nexport default function(subject, openingTag, closingTag) {\n\treturn _beforeLast(_after(subject, openingTag), closingTag);\n};\n", "\n/**\n * Tells if the string is warapped with the given opening and closing tags.\n *\n * @param  string  subject\n * @param  string  openingTag\n * @param  string  closingTag\n *\n * @return bool\n */\nexport default function(subject, openingTag, closingTag) {\n\treturn subject.startsWith(openingTag) && subject.endsWith(closingTag);\n};\n", "\n/**\n * @imports\n */\nimport { _isObject, _isFunction } from '@webqit/util/js/index.js';\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\nimport { _wrapped, _unwrap } from '@webqit/util/str/index.js';\n\n/**\n * Runs a \"scope-query\" against a context.\n *\n * @param Array\t        contexts\n * @param String\t    query\n * @param Function\t    returnLine\n * @param Object\t    traps\n * @param Object\t    params\n *\n * @return Array\n */\nexport function query( contexts, query, returnLine = null, traps = {}, params = {} ) {\n    const $contexts = _arrFrom( contexts, false ).map( context => createContext( null, null, context ) );\n    const $returnLine = returnLine || ( result => result ), $traps = { ...traps }, $params = { ...params };\n    if ( !$traps.keys ) { $traps.keys = context => ( _isObject( context ) && Reflect.ownKeys( context ) ) || []; }\n    if ( !$traps.get ) { $traps.get = ( context, key ) => _isObject( context ) && Reflect.get( context, key ) }\n    if ( !$params.delim ) { $params.delim = '/'; }\n    const returnValue = queryReduce( $contexts, query, $returnLine, $traps, $params );\n    if ( $params.realtime && _isFunction( traps.subscribe ) ) {\n        return { unsubscribe() { $contexts.forEach( context => { context.unsubscribe(); return returnValue; } ) } };\n    }\n    return returnValue;\n}\n\n/**\n * Executes a query by reductively evaluating the query step by step.\n *\n * @param Array\t        contexts\n * @param String|Array\tquery\n * @param Function\t    receiver\n * @param Object\t    traps\n * @param Object\t    params\n * @param Number\t    level\n *\n * @return Array\n */\nfunction queryReduce( contexts, query, returnLine, traps, params, level = 0 ) {\n    const queryPath = Array.isArray( query ) ? query : splitOuter( query, [ params.delim ] ).map( n => n.trim() );\n    if ( !queryPath.length ) { return returnLine( [] ) }\n\n    // -----------\n    // Main...\n    const cntinue = () => {\n        let $queryPath = queryPath.slice( 0 );\n        let segment = $queryPath.shift(), isOptionalEndpoint;\n        if ( segment.endsWith( '?' ) ) {\n            segment = segment.substr( 0, segment.length - 1 );\n            isOptionalEndpoint = true;\n        }\n        return segmentGetEach( contexts, segment, results_atSegment => {\n            if ( $queryPath.length ) {\n                return queryReduce( results_atSegment, $queryPath, results_atNextSegment => {\n                    if ( isOptionalEndpoint && results_atNextSegment.length === 0 ) {\n                        return returnLine( results_atSegment/* this segment, not the enpty next segment */ );\n                    }\n                    return returnLine( results_atNextSegment );\n                }, traps, params, level + 1 );\n            }\n            return returnLine( results_atSegment );\n        }, traps, params, level );\n    };\n    \n    // -----------\n    // Promises?\n    const tryAwait = params.await && _isFunction( traps.ready );\n    const promises = ( tryAwait && contexts.map( context => traps.ready( context.value, level ) ) ) || [];\n    if ( promises.filter( x => x ).length ) {\n        if ( params.await === 'atomic' ) {\n            // Wait until all promises have settled (each may resolve or reject).\n            return Promise.allSettled( promises ).then( cntinue );\n        }\n        // Wait until any of the promises is fulfilled or rejected.\n        return Promise.race( promises ).then( cntinue );\n    }\n    return cntinue();\n}\n\n/**\n * Splits a string on delimiters outside of brackets and braces.\n *\n * @param String\t    str\n * @param Array\t        delims\n * @param Boolean\t    inclusive\n *\n * @return Array\n */\nexport function splitOuter( str, delims, inclusive = false ) {\n    str = str.trim();\n    const closures = [ '()', '{}', '[]' ];\n    if ( delims.length === 1 && closures.includes( delims[ 0 ] ) ) {\n        let [ a, b ] = str.split( delims[ 0 ][ 0 ], 2 );\n        if ( b && b.endsWith( delims[ 0 ][ 1 ] ) ) { b = b.substr( 0, b.length - 1 ) }\n        return [ a, b ];\n    }\n    const [ tokens ] =  str.split( '' ).reduce( ( [ tokens, nesting ], char ) => {\n        if ( delims.includes( char ) && !nesting ) {\n            tokens.unshift( inclusive ? char : '' );\n        } else {\n            if ( [ '(', '{', '[' ].includes( char ) ) { nesting ++ }\n            else if ( [ ')', '}', ']' ].includes( char ) ) { nesting -- }\n            tokens[ 0 ] += char;\n        }\n        return [ tokens, nesting ];\n    }, [ [ '' ], 0 ] );\n    return tokens.reverse();\n}\n\n/**\n * Queries each context with given segment expression.\n *\n * @param Array\t        contexts\n * @param String\t    segment\n * @param Function\t    returnLine\n * @param Object\t    traps\n * @param Object\t    params\n * @param Number\t    level\n *\n * @return Array\n */\nfunction segmentGetEach( contexts, segment, returnLine, traps, params, level ) {    \n\n    // Parse segment...\n    const operators = [ '|', '&', '+' ];\n    const segTokens = splitOuter( segment, operators, true ).map( n => n.trim() );\n\n    // ------------------\n    // Contexts reducer: builds totalResults_contexts, with remainingContexts and originalSegTokens each time\n    // Return Line: returnLine() - for total return\n    return ( function eatContext( totalResults_contexts, remainingContexts, originalSegTokens, cause = null ) {\n        let context = remainingContexts.shift();\n        // Done with contexts? Next to caller...\n        if ( !context ) { return returnLine( totalResults_contexts ); }\n        // ------------------\n        // Tokens reducer: builds totalResults_tokens, with remainingSegTokens each time\n        // Return Line: eatContext() - for next context\n        return ( function eatToken( totalResults_tokens, remainingSegTokens, subCause = null ) {\n            let segToken = remainingSegTokens.shift();\n            // Done with tokens? Next context...\n            if ( !segToken ) { return eatContext( totalResults_contexts.concat( totalResults_tokens )/* new total */, remainingContexts, originalSegTokens, 'end-of-tokens' ); }\n\n            // Parse token...\n            const [ operator, identifier, modifiers ] = parseIdentifierToken( segToken, operators );\n            // Early return? Next context...\n            if ( ( operator === '|' && totalResults_tokens.length ) || ( operator === '&' && !totalResults_tokens.length ) ) {\n                return eatContext( totalResults_contexts.concat( totalResults_tokens )/* new total */, remainingContexts, originalSegTokens, 'early-return-1' );\n            }\n\n            // Resolve now...\n            return segmentGet( context, identifier, modifiers, contextIdentifierResult => {\n                // Early return? Next context...\n                if ( operator === '&' && !contextIdentifierResult.length ) {\n                    return eatContext( totalResults_contexts.concat( totalResults_tokens )/* new total */, remainingContexts, originalSegTokens, 'early-return-2' );\n                }\n                // Done with seg? Next token...\n                return eatToken( totalResults_tokens.concat( contextIdentifierResult )/* new total */, remainingSegTokens, 'next-token');\n            }, traps, params, level );\n        } )( [], originalSegTokens.slice( 0 ) );\n\n    } )( [], contexts.slice( 0 ), segTokens );\n\n}\n\n/**\n * Parses a segToken into: operator, identifier, modifiers.\n *\n * @param String\t    segToken\n * @param Array\t        operators\n *\n * @return Array\n */\nconst segTokensParseCache = new Map;\nexport function parseIdentifierToken( segToken, operators = [] ) {\n    let result = segTokensParseCache.get( segToken );\n    if ( !result ) {\n        let $segToken = segToken;\n        let operator;\n        if ( operators.includes( $segToken.substr( 0, 1 ) ) ) {\n            operator = $segToken.substr( 0, 1 );\n            $segToken = $segToken.substr( 1 ).trim();\n        }\n        const [ identifier, ..._modifiers ] = splitOuter( $segToken.trim(), [ ':' ] );\n        const modifiers = _modifiers.reduce( ( modObject, _modifier ) => {\n            const [ name, parentheses ] = splitOuter( _modifier.trim(), [ '()' ] );\n            modObject[ name ] = parentheses || true;\n            return modObject;\n        }, {} );\n        result = [ operator, identifier, modifiers ];\n        segTokensParseCache.set( segToken, result );\n    }\n    return result.slice( 0 );\n}\n\n/**\n * Queries a single context with given identifier + modifiers.\n *\n * @param Object\t    context\n * @param String\t    identifier\n * @param Object\t    modifiers\n * @param Function\t    returnLine\n * @param Object\t    traps\n * @param Object\t    params\n * @param Number\t    level\n *\n * @return Array\n */\nfunction segmentGet( context, identifier, modifiers, returnLine, traps, params, level ) {\n\n    // Modifiers engine...\n    const  modifiersList = Object.keys( modifiers ), appliedModifiers = [];\n    function modifiersPipeline( segResults ) {\n        const modifier = modifiersList.shift();\n        if ( !modifier ) {  return returnLine( segResults ) }\n        appliedModifiers.push( modifier );\n        // Modifiers: deep | deepest\n        if ( modifier === 'deep' || modifier === 'deepest' ) {\n            if ( !segResults.length || modifier === 'deepest' ) {\n                const $identifier = `*${ params.delim }${ identifier }${ appliedModifiers.map( m => `:${ m }(${ modifiers[ m ] === true ? '' : modifiers[ m ] })` ).join( '' ) }`;\n                return queryReduce( [ context ], $identifier, deepResults => {\n                    if ( !deepResults.length && modifier === 'deepest' && context.name === identifier ) {\n                        return modifiersPipeline( [ context ] );\n                    }\n                    return modifiersPipeline( deepResults );\n                }, traps, params, level );\n            }\n            return modifiersPipeline( segResults );\n        }\n        // Modifiers: having | not-having\n        if ( modifier === 'having' || modifier === 'not-having' ) {\n            let filteredSegResults = [], segResult;\n            return ( function filter() {\n                if ( segResults.length ) {\n                    return queryReduce( [ segResult = segResults.shift() ], modifiers[ modifier ], assertionResults => {\n                        if ( ( modifier === 'not-having' && !assertionResults.length ) || assertionResults.length ) { filteredSegResults.push( segResult ); }\n                        return filter();\n                    }, traps, params );\n                }\n                return modifiersPipeline( filteredSegResults )\n            } )();\n        }\n        // Next modifier to pipeline\n        throw new Error( `Modifier not recognized: ${ modifier }` );\n    }\n\n    // Run the identifier on context...\n    if ( identifier === '*' || ( identifier === '' && modifiersList.length ) ) {\n        identifier = '(' + ( traps.ownKeys || traps.keys )( context.value ).join( '+' ) + ')';\n    }\n    if ( _wrapped( identifier, '(', ')' ) ) {\n        // If identifier is also a complex expression\n        const cntinue = segResults => modifiersPipeline( segResults );\n        return queryReduce( [ context ], _unwrap( identifier, '(', ')' ), cntinue, traps, params, level );\n    }\n\n    // If identifier is a bare identifier\n    return ( function eat( prevResult = null ) {\n        if ( prevResult && prevResult.unsubscribe ) prevResult.unsubscribe();\n        // -----------\n        let value = traps.get( context.value, identifier ), unsubscribeCallback;\n        if ( params.realtime && _isFunction( traps.subscribe ) && !context.nowUnsubscribed ) {\n            unsubscribeCallback = traps.subscribe( context.value, identifier, () => eat( prevResult ), level );\n        }\n        let result = createContext( context, identifier, value, unsubscribeCallback, prevResult && true/*isEvent*/ );\n        prevResult = result;\n        return modifiersPipeline( value ? [ result ] : [] );\n    } )();\n\n}\n\n/**\n * \n * @param Context       parentContext\n * @param String        name\n * @param Any           value\n * @param Function      unsubscribeCallback\n * @param Boolean       isEvent\n * \n * @returns void\n */\nconst createContext = ( parentContext, name, value, unsubscribeCallback = null, isEvent = false ) => {\n    const path = ( parentContext && parentContext.path.concat( name ) ) || [];\n    const unsubscribe = () => {\n        unsubscribeCallbacks.forEach( fn => fn() );\n        unsubscribeCallback && unsubscribeCallback();\n        parentContext && parentContext.unsubscribeCallbacks.delete( unsubscribe );\n        context.nowUnsubscribed = true;\n    };\n    parentContext && parentContext.unsubscribeCallbacks.add( unsubscribe );\n    const context = { name, value, unsubscribe };\n    const unsubscribeCallbacks = new Set;\n    Object.defineProperties( context, {\n        context: { value: parentContext },\n        path: { value: path },\n        event: { value: isEvent ? context : ( parentContext && parentContext.event ) },\n        unsubscribeCallback: { value: unsubscribeCallback },\n        unsubscribeCallbacks: { value: unsubscribeCallbacks },\n        nowUnsubscribed: { value: parentContext && parentContext.nowUnsubscribed, writable: true },\n    } );\n    return context;\n};", "/**\n * @imports\n */\nimport { _intersect } from '@webqit/util/arr/index.js';\n\n/**\n * @Observable\n * \n * The OOHTML's internal Observable object\n * within elements and the document object.\n */\nexport default class Observable extends Map {\n    constructor( ...args ) {\n        super( ...args );\n        this.observers = new Set;\n        this.state = new Map;\n    }\n    set( key, value ) {\n        let returnValue = super.set( key, value );\n        this.fire( 'set', key, value, key );\n        return returnValue;\n    }\n    delete( key ) {\n        let returnValue = super.delete( key );\n        this.fire( 'delete', key );\n        return returnValue;\n    }\n    get( key ) {\n        // Fire must come first...\n        // observers may need to make values available\n        this.fire( 'get', key );\n        return super.get( key );\n    }\n    keyNames() { return Array.from( super.keys() );  }\n    setState( key, value ) {\n        let returnValue = this.state.set( key, value );\n        this.fire( 'set:state', key, value );\n        return returnValue;\n    }\n    getState( key ) {\n        // Fire must come first...\n        // observers may need to make values available\n        this.fire( 'get:state', key );\n        return this.state.get( key );\n    }\n    observe( type, key, callback ) {\n        const entry = { type, key, callback };\n        this.observers.add( entry );\n        return () => this.observers.delete( entry);;\n    }\n    unobserve( type, key, callback ) {\n        if ( Array.isArray( type ) || Array.isArray( key ) ) {\n            throw new Error( `The \"type\" and \"key\" arguments can only be strings.` );\n        }\n        this.observers.forEach( entry => {\n            if ( !( intersection( [ type, '*' ], entry.type ) && intersection( [ key, '*' ], entry.key ) && entry.callback === callback ) ) return;\n            this.observers.delete( entry);\n        } );\n    }\n    fire( type, key, ...args ) {\n        // IMPORTANT: Array.from() must be used so that new additions to this.observers\n        // during the loop aren't picked up!\n        Array.from( this.observers ).forEach( entry => {\n            if ( !( intersection( [ type, '*' ], entry.type ) && intersection( [ key, '*' ], entry.key ) ) ) return;\n            entry.callback( ...args );\n        } );\n    }\n}\n\nconst intersection = ( a, b ) => {\n    if ( Array.isArray( b ) ) return _intersect( a, b ).length;\n    return a.includes( b );\n}\n", "\n/**\n * @imports\n */\nimport wqDom from '@webqit/dom';\nimport { _internals } from '@webqit/util/js/index.js';\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\nimport { query as objectQuery } from '../object-ql.js';\nimport Observable from '../Observable.js';\n\n/**\n * ---------------------------\n * Namespaced HTML\n * ---------------------------\n */\t\t\t\t\n\n/**\n * Internals shorthand.\n * \n * @param Any el \n * @param Array args \n * \n * @return Any\n */\nconst _ = ( el, ...args ) => _internals( el, 'oohtml', ...args );\n\n/**\n * @Exports\n * \n * The internal Namespace object\n * within elements and the document object.\n */\nfunction classes( params ) {\n\tconst window = this;\n    // --------------------\n\tclass HTMLNamespaceCollection extends Observable {\n\t\tset( key, value ) {\n\t\t\tif ( !( 'innerHTML' in value )/* rough way to check for elements */ ) throw new Error( `Value for namespace entry \"${ key }\" must be an Element.` );\n\t\t\treturn super.set( key, value );\n\t\t}\n\t\texpose() { return this; }\n        query( expr, returnLine, params = {}, traps = {} ) {\n\t\t\tconst context = this.context;\n            if ( !context || ( context !== window.document && !( context instanceof window.Element ) ) ) {\n                throw new Error( `HTMLNamespaceCollection.query() expects an element or the document object.` );\n            }\n            return objectQuery( context, expr, returnLine, {\n                // Gets a module object\n                get: ( context, key ) => HTMLNamespaceCollection.node( context ).get( key ),\n                // Gets all module keys\n                keys: context => HTMLNamespaceCollection.node( context ).keyNames(),\n                // Subscribes to changes\n                subscribe: ( context, key, callback ) => HTMLNamespaceCollection.node( context ).observe( [ 'set', 'delete' ], key, callback ),\n                ...traps,\n            }, params );\n        }\n\t\tstatic node( context ) {\n\t\t\tif ( !_( context ).has( 'namespace' ) ) {\n\t\t\t\tconst namespace = new this;\n                Object.defineProperty( namespace, 'context', { value: context } );\n\t\t\t\tnamespace.observe( 'get', key => {\n\t\t\t\t\tif ( namespace.has( key ) ) return;\n\t\t\t\t\tconst node = _arrFrom( context.querySelectorAll( `[${ window.CSS.escape( params.attr.id ) }=\"${ key }\"]` ) ).filter( node => {\n\t\t\t\t\t\tconst ownerRoot = node.parentNode.closest( params.namespaceSelector );\n\t\t\t\t\t\tif ( context === window.document ) {\n\t\t\t\t\t\t\t// Only IDs without a scope actually belong to the document scope\n\t\t\t\t\t\t\treturn !ownerRoot;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn ownerRoot === context;\n\t\t\t\t\t} )[ 0 ];\n\t\t\t\t\tif ( node ) namespace.set( key, node );\n\t\t\t\t} );\n\t\t\t\t_( context ).set( 'namespace', namespace );\n\t\t\t}\n\t\t\treturn _( context ).get( 'namespace' );\n\t\t}\n\t}\n    // --------------------\n\twindow.wq.HTMLNamespaceCollection = HTMLNamespaceCollection;\n\treturn { HTMLNamespaceCollection };\n}\n\n/**\n * Performs realtime capture of elements and builds their relationships.\n *\n * @param Object params\n *\n * @return Void\n */\nfunction realtime( params ) {\n\tconst window = this, { dom, HTMLNamespaceCollection } = window.wq;\n\tdom.realtime().querySelectorAll( params.idSelector, ( entry, connectedState ) => {\n\t\tconst identifier = entry.getAttribute( params.attr.id );\n\t\tlet ownerRoot = ( entry.parentNode && entry.parentNode.closest( params.namespaceSelector ) ) || _( entry ).get( 'ownerNamespace' );\n\t\tif ( !ownerRoot ) { ownerRoot = window.document; }\n\t\tconst namespace = HTMLNamespaceCollection.node( ownerRoot );\n\t\tif ( connectedState ) {\n\t\t\tif ( namespace.get( identifier ) !== entry ) {\n\t\t\t\tnamespace.set( identifier, entry );\n\t\t\t\t_( entry ).set( 'ownerNamespace', ownerRoot );\n\t\t\t}\n\t\t} else if ( namespace.get( identifier ) === entry ) {\n\t\t\tnamespace.delete( identifier );\n\t\t\t_( entry ).delete( 'ownerNamespace' );\n\t\t}\n\t}, { each: true } );\n}\n\n/**\n * Exposes Namespaced HTML with native APIs.\n *\n * @param Object params\n *\n * @return Void\n */\nfunction expose( params ) {\n\tconst window = this, { HTMLNamespaceCollection } = window.wq;\n    // Assertions\n    if ( params.api.namespace in window.document ) { throw new Error( `document already has a \"${ params.api.namespace }\" property!` ); }\n    if ( params.api.namespace in window.Element.prototype ) { throw new Error( `The \"Element\" class already has a \"${ params.api.namespace }\" property!` ); }\n    // Definitions\n    Object.defineProperty( window.document, params.api.namespace, { get: function() {\n        return HTMLNamespaceCollection.node( window.document ).expose();\n    } });\n    Object.defineProperty( window.Element.prototype, params.api.namespace, { get: function() {\n        return HTMLNamespaceCollection.node( this ).expose();\n    } } );\n}\n\n/**\n * @init\n * \n * @param Object $params\n */\nexport default function init( $params = {} ) {\n\tconst window = this, dom = wqDom.call( window );\n    // -------\n\t// params\n    const params = dom.meta( 'oohtml' ).copyWithDefaults( $params, {\n\t\tattr: { namespace: 'namespace',  id: 'id', },\n        api: { namespace: 'namespace', },\n\t\teagermode: true,\n    } );\n\tparams.idSelector = `[${ window.CSS.escape( params.attr.id ) }]`;\n\tparams.namespaceSelector = `[${ window.CSS.escape( params.attr.namespace ) }]`;\n\tconst { HTMLNamespaceCollection } = classes.call( this, params );\n    // -------\n    // realtime...\n    realtime.call( this, params );\n    // -------\n    // expose?\n    if ( params.expose !== false ) { expose.call( this, params ); }\n    // -------\n\t// APIs\n\treturn { HTMLNamespaceCollection };\n}", "\n/**\n * @imports\n */\nimport init from './index.js';\n\n/**\n * @init\n */\ninit.call( window );"],
  "mappings": "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",
  "names": []
}
